!function e(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.AliLowCodeEngine=n():t.AliLowCodeEngine=n()}(window,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function t(){return e.default}:function t(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=65)}([function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return j}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var i=function(){return(i=Object.assign||function e(t){for(var n,r=1,o=arguments.length;r<o;r++)for(var i in n=arguments[r])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var o=0,r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]]);return n}function u(e,t,n,r){var o=arguments.length,i=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r,a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,r);else for(var u=e.length-1;u>=0;u--)(a=e[u])&&(i=(o<3?a(i):o>3?a(t,n,i):a(t,n))||i);return o>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,r){t(n,r,e)}}function s(e,t,n,r,o,i){function a(e){if(void 0!==e&&"function"!=typeof e)throw new TypeError("Function expected");return e}for(var u=r.kind,c="getter"===u?"get":"setter"===u?"set":"value",s=!t&&e?r.static?e:e.prototype:null,l=t||(s?Object.getOwnPropertyDescriptor(s,r.name):{}),f,p=!1,d=n.length-1;d>=0;d--){var h={};for(var v in r)h[v]="access"===v?{}:r[v];for(var v in r.access)h.access[v]=r.access[v];h.addInitializer=function(e){if(p)throw new TypeError("Cannot add initializers after decoration has completed");i.push(a(e||null))};var y=(0,n[d])("accessor"===u?{get:l.get,set:l.set}:l[c],h);if("accessor"===u){if(void 0===y)continue;if(null===y||"object"!=typeof y)throw new TypeError("Object expected");(f=a(y.get))&&(l.get=f),(f=a(y.set))&&(l.set=f),(f=a(y.init))&&o.unshift(f)}else(f=a(y))&&("field"===u?o.unshift(f):l[c]=f)}s&&Object.defineProperty(s,r.name,l),p=!0}function l(e,t,n){for(var r=arguments.length>2,o=0;o<t.length;o++)n=r?t[o].call(e,n):t[o].call(e);return r?n:void 0}function f(e){return"symbol"==typeof e?e:"".concat(e)}function p(e,t,n){return"symbol"==typeof t&&(t=t.description?"[".concat(t.description,"]"):""),Object.defineProperty(e,"name",{configurable:!0,value:n?"".concat(n," ",t):t})}function d(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function h(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{c(r.next(e))}catch(e){i(e)}}function u(e){try{c(r.throw(e))}catch(e){i(e)}}function c(e){e.done?n(e.value):o(e.value).then(a,u)}c((r=r.apply(e,t||[])).next())}))}function v(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return a.next=u(0),a.throw=u(1),a.return=u(2),"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var y=Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]};function m(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||y(t,e,n)}function b(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function g(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i}function w(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(g(arguments[t]));return e}function O(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),o=0,t=0;t<n;t++)for(var i=arguments[t],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function j(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}function E(e){return this instanceof E?(this.v=e,this):new E(e)}function k(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),o,i=[];return o=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),o[Symbol.asyncIterator]=function(){return this},o;function a(e){return function(t){return Promise.resolve(t).then(e,f)}}function u(e,t){r[e]&&(o[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||c(e,t)}))},t&&(o[e]=t(o[e])))}function c(e,t){try{s(r[e](t))}catch(e){p(i[0][3],e)}}function s(e){e.value instanceof E?Promise.resolve(e.value.v).then(l,f):p(i[0][2],e)}function l(e){c("next",e)}function f(e){c("throw",e)}function p(e,t){e(t),i.shift(),i.length&&c(i[0][0],i[0][1])}}function S(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:E(e[r](t)),done:!1}:o?o(t):t}:o}}function _(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=b(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(t){n[t]=e[t]&&function(n){return new Promise((function(r,i){o(r,i,(n=e[t](n)).done,n.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}}function P(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}var x=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},N=function(e){return(N=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t})(e)};function C(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n=N(e),r=0;r<n.length;r++)"default"!==n[r]&&y(t,e,n[r]);return x(t,e),t}function T(e){return e&&e.__esModule?e:{default:e}}function L(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}function A(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function R(e,t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof e?t===e:e.has(t)}function M(e,t,n){if(null!=t){if("object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object expected.");var r,o;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=t[Symbol.asyncDispose]}if(void 0===r){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=t[Symbol.dispose],n&&(o=r)}if("function"!=typeof r)throw new TypeError("Object not disposable.");o&&(r=function(){try{o.call(this)}catch(e){return Promise.reject(e)}}),e.stack.push({value:t,dispose:r,async:n})}else n&&e.stack.push({async:!0});return t}var D="function"==typeof SuppressedError?SuppressedError:function(e,t,n){var r=new Error(n);return r.name="SuppressedError",r.error=e,r.suppressed=t,r};function I(e){function t(t){e.error=e.hasError?new D(t,e.error,"An error was suppressed during disposal."):t,e.hasError=!0}var n,r=0;function o(){for(;n=e.stack.pop();)try{if(!n.async&&1===r)return r=0,e.stack.push(n),Promise.resolve().then(o);if(n.dispose){var i=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(i).then(o,(function(e){return t(e),o()}))}else r|=1}catch(e){t(e)}if(1===r)return e.hasError?Promise.reject(e.error):Promise.resolve();if(e.hasError)throw e.error}return o()}function B(e,t){return"string"==typeof e&&/^\.\.?\//.test(e)?e.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,(function(e,n,r,o,i){return n?t?".jsx":".js":!r||o&&i?r+o+"."+i.toLowerCase()+"js":e})):e}var V=o,F=i,G=a,H=u,U=c,z=s,W=l,$=f,X=p,Y=d,q=h,K=v,J=y,Q=m,Z=b,ee=g,te=w,ne=O,re=j,oe=E,ie=k,ae=S,ue=_,ce=P,se=C,le=T,fe=L,pe=A,de=R,he=M,ve=I,ye=B},function(e,t,n){"use strict";var r=n(16);n.d(t,"createIntl",(function(){return r.a})),n.d(t,"globalLocale",(function(){return r.b})),n.d(t,"intl",(function(){return r.c})),n.d(t,"shallowIntl",(function(){return r.d}));var o=n(57);n.d(t,"Editor",(function(){return o.a})),n.d(t,"commonEvent",(function(){return o.b}));var i=n(18);n.d(t,"FocusTracker",(function(){return i.a})),n.d(t,"action",(function(){return i.b})),n.d(t,"autorun",(function(){return i.c})),n.d(t,"computed",(function(){return i.d})),n.d(t,"getPublicPath",(function(){return i.e})),n.d(t,"makeObservable",(function(){return i.f})),n.d(t,"mobx",(function(){return i.g})),n.d(t,"observable",(function(){return i.h})),n.d(t,"observer",(function(){return i.i})),n.d(t,"obx",(function(){return i.j})),n.d(t,"reaction",(function(){return i.k})),n.d(t,"runInAction",(function(){return i.l})),n.d(t,"runWithGlobalEventOff",(function(){return i.m})),n.d(t,"untracked",(function(){return i.n})),n.d(t,"wrapWithEventSwitch",(function(){return i.o}));var a=n(21);n.o(a,"Command")&&n.d(t,"Command",(function(){return a.Command})),n.o(a,"HelpTip")&&n.d(t,"HelpTip",(function(){return a.HelpTip})),n.o(a,"Hotkey")&&n.d(t,"Hotkey",(function(){return a.Hotkey})),n.o(a,"Setters")&&n.d(t,"Setters",(function(){return a.Setters})),n.o(a,"Tip")&&n.d(t,"Tip",(function(){return a.Tip})),n.o(a,"TipContainer")&&n.d(t,"TipContainer",(function(){return a.TipContainer})),n.o(a,"Title")&&n.d(t,"Title",(function(){return a.Title})),n.o(a,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return a.createModuleEventBus})),n.o(a,"engineConfig")&&n.d(t,"engineConfig",(function(){return a.engineConfig})),n.o(a,"globalContext")&&n.d(t,"globalContext",(function(){return a.globalContext}));var u=n(49);n.d(t,"Hotkey",(function(){return u.a}));var c=n(56);n.d(t,"HelpTip",(function(){return c.a})),n.d(t,"Tip",(function(){return c.b})),n.d(t,"TipContainer",(function(){return c.c})),n.d(t,"Title",(function(){return c.d}));var s=n(28);n.d(t,"engineConfig",(function(){return s.a}));var l=n(14);n.d(t,"createModuleEventBus",(function(){return l.b}));var f=n(50);n.d(t,"Command",(function(){return f.a}))},function(e,t){e.exports=window.React},function(e,t,n){"use strict";n.d(t,"d",(function(){return r.d})),n.d(t,"b",(function(){return r.c})),n.d(t,"a",(function(){return r.b})),n.d(t,"y",(function(){return Z})),n.d(t,"x",(function(){return ee})),n.d(t,"g",(function(){return te})),n.d(t,"h",(function(){return ne})),n.d(t,"bb",(function(){return re})),n.d(t,"c",(function(){return ce})),n.d(t,"k",(function(){return fe})),n.d(t,"n",(function(){return He})),n.d(t,"p",(function(){return Ze})),n.d(t,"q",(function(){return ft})),n.d(t,"v",(function(){return ht})),n.d(t,"z",(function(){return o})),n.d(t,"G",(function(){return vt})),n.d(t,"H",(function(){return yt})),n.d(t,"R",(function(){return se})),n.d(t,"V",(function(){return Fe})),n.d(t,"eb",(function(){return wt})),n.d(t,"fb",(function(){return Et})),n.d(t,"f",(function(){return Mt})),n.d(t,"ib",(function(){return It})),n.d(t,"l",(function(){return ur})),n.d(t,"r",(function(){return sr})),n.d(t,"W",(function(){return lr})),n.d(t,"gb",(function(){return fr})),n.d(t,"m",(function(){return Pr})),n.d(t,"u",(function(){return xr})),n.d(t,"s",(function(){return Tr})),n.d(t,"i",(function(){return Lr})),n.d(t,"e",(function(){return C})),n.d(t,"t",(function(){return T})),n.d(t,"Z",(function(){return Rr})),n.d(t,"S",(function(){return Mr})),n.d(t,"hb",(function(){return oo})),n.d(t,"w",(function(){return Bt})),n.d(t,"A",(function(){return Vt})),n.d(t,"B",(function(){return Ft})),n.d(t,"F",(function(){return Gt})),n.d(t,"I",(function(){return Ht})),n.d(t,"J",(function(){return zt})),n.d(t,"K",(function(){return $t})),n.d(t,"L",(function(){return Xt})),n.d(t,"O",(function(){return qt})),n.d(t,"Q",(function(){return Kt})),n.d(t,"T",(function(){return Yt})),n.d(t,"U",(function(){return Jt})),n.d(t,"X",(function(){return Qt})),n.d(t,"ab",(function(){return Zt})),n.d(t,"D",(function(){return en})),n.d(t,"E",(function(){return tn})),n.d(t,"C",(function(){return nn})),n.d(t,"M",(function(){return rn})),n.d(t,"P",(function(){return on})),n.d(t,"N",(function(){return an})),n.d(t,"Y",(function(){return un})),n.d(t,"cb",(function(){return _o})),n.d(t,"db",(function(){return Po})),n.d(t,"o",(function(){return No})),n.d(t,"j",(function(){return Ho}));var r=n(4);function o(e){return/\.css(\?.*)?$/.test(e)}function i(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=function(){return t},e}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e){return null!==e&&"object"===a(e)}function c(e){return u(e)&&"i18n"===e.type}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t,n){return(t=y(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,y(r.key),r)}}function v(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=m(e,"string");return"symbol"==s(t)?t:t+""}function m(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var b={debug:-1,log:0,info:0,warn:1,error:2},g=["#daa569","#00ffff","#385e0f","#7fffd4","#00c957","#b0e0e6","#4169e1","#6a5acd","#87ceeb","#ffff00","#e3cf57","#ff9912","#eb8e55","#ffe384","#40e0d0","#a39480","#d2691e","#ff7d40","#f0e68c","#bc8f8f","#c76114","#734a12","#5e2612","#0000ff","#3d59ab","#1e90ff","#03a89e","#33a1c9","#a020f0","#a066d3","#da70d6","#dda0dd","#688e23","#2e8b57"],w={debug:"#fadb14",log:"#8c8c8c",info:"#52c41a",warn:"#fa8c16",error:"#ff4d4f"},O={debug:"debug",log:"log",info:"info",warn:"warn",error:"error"},j={debug:console.log,log:console.log,info:console.log,warn:console.warn,error:console.error},E={},k=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"warn",r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3?arguments[3]:void 0,i=b[n]<=b[t],a="*"===o||r.indexOf(o)>-1;return i&&a},S=function e(t,n){return function(){for(var e,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return null===(e=j[t])||void 0===e?void 0:e.apply(console,P(o,n,t))}},_=function e(t){if(!E[t]){var n=g[Object.keys(E).length%g.length];E[t]=n}return E[t]},P=function e(t,n,r){var o=_(n),i=w[r],a=t[0],c="%c[".concat(n,"]%c[").concat(O[r],"]:");a.forEach((function(e){u(e)?c+="%o":c+="%s"}));var s=[c,"color: ".concat(o),"color: ".concat(i)];return s=s.concat(a)},x=function e(t,n){if(!t)return{level:n.level,bizName:n.bizName};if(t.indexOf(":")>-1){var r=t.split(":");return{level:r[0],bizName:r[1]||"*"}}return{level:t,bizName:"*"}},N={level:"warn",bizName:"*"},C=function(){function e(t){d(this,e),this.bizName=void 0,this.targetBizName=void 0,this.targetLevel=void 0,t=f(f({},N),t);var n=location||{},r=(/__(?:logConf|logLevel)__=([^#/&]*)/.exec(n.href)||[])[1],o=x(r,t);this.bizName=t.bizName,this.targetBizName=o.bizName,this.targetLevel=o.level}return v(e,[{key:"debug",value:function e(){if(k("debug",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S("debug",this.bizName)(n)}}},{key:"log",value:function e(){if(k("log",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S("log",this.bizName)(n)}}},{key:"info",value:function e(){if(k("info",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S("info",this.bizName)(n)}}},{key:"warn",value:function e(){if(k("warn",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S("warn",this.bizName)(n)}}},{key:"error",value:function e(){if(k("error",this.targetLevel,this.bizName,this.targetBizName)){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return S("error",this.bizName)(n)}}}])}();function T(e){return new C(e)}var L=new C({level:"warn",bizName:"utils"});function A(e,t){var n=document.createElement("script");t&&(n.type=t),n.text=e,document.head.appendChild(n),document.head.removeChild(n)}function R(e,t){var n=document.createElement("script");n.onload=o,n.onerror=o;var r=i();function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}return n.src=e,n.async=!1,t&&(n.type=t),document.head.appendChild(n),r.promise()}function M(e){var t;return new Function(e)()}function D(e,t){try{return new Function(e,t)}catch(e){return L.warn("Caught error, Cant init func"),null}}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */B=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==I(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(I(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function V(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function F(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){V(i,r,o,a,u,"next",e)}function u(e){V(i,r,o,a,u,"throw",e)}a(void 0)}))}}function G(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=q(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,W(r.key),r)}}function z(e,t,n){return t&&U(e.prototype,t),n&&U(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function W(e){var t=$(e,"string");return"symbol"==I(t)?t:t+""}function $(e,t){if("object"!=I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function X(e){return J(e)||K(e)||q(e)||Y()}function Y(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function q(e,t){if(e){if("string"==typeof e)return Q(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Q(e,t):void 0}}function K(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function J(e){if(Array.isArray(e))return Q(e)}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Z(e){return e&&e.type}function ee(e){return e&&e.type===r.d.Bundle}function te(e,t){return e?{type:r.d.Bundle,assets:e,level:t}:null}function ne(e,t,n,r){return t?{type:e,content:t,level:n,id:r}:null}function re(e,t){return t.packages&&(e.packages=[].concat(X(e.packages||[]),X(t.packages))),t.components&&(e.components=[].concat(X(e.components||[]),X(t.components))),oe(e,t,"componentList"),oe(e,t,"bizComponentList"),e}function oe(e,t,n){var r;t[n]&&(e[n]&&(null===(r=t[n])||void 0===r||r.map((function(t){var r,o,i=!1;return null===(r=e[n])||void 0===r||r.map((function(e){return e.title===t.title&&(e.children=e.children.concat(t.children),i=!0),e})),!i&&(null===(o=e[n])||void 0===o||o.push(t)),t}))))}var ie=function(){function e(t,n){var r;if(H(this,e),this.lastContent=void 0,this.lastUrl=void 0,this.placeholder=void 0,this.level=void 0,this.id=void 0,this.level=t,n&&(this.id=n),n&&(r=document.head.querySelector('style[data-id="'.concat(n,'"]'))),!r){r=document.createTextNode("");var o=document.head.querySelector('meta[level="'.concat(t,'"]'));o?document.head.insertBefore(r,o):document.head.appendChild(r)}this.placeholder=r}return z(e,[{key:"applyText",value:function e(t){if(this.lastContent!==t){this.lastContent=t,this.lastUrl=void 0;var n=document.createElement("style");n.setAttribute("type","text/css"),this.id&&n.setAttribute("data-id",this.id),n.appendChild(document.createTextNode(t)),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n}}},{key:"applyUrl",value:function e(t){if(this.lastUrl!==t){this.lastContent=void 0,this.lastUrl=t;var n=document.createElement("link");n.onload=o,n.onerror=o;var r=i();return n.href=t,n.rel="stylesheet",this.id&&n.setAttribute("data-id",this.id),document.head.insertBefore(n,this.placeholder.parentNode===document.head?this.placeholder.nextSibling:null),document.head.removeChild(this.placeholder),this.placeholder=n,r.promise()}function o(e){n.onload=null,n.onerror=null,"load"===e.type?r.resolve():r.reject()}}}])}();function ae(e,t,n,r){var o=G(n),i;try{for(o.s();!(i=o.n()).done;){var a;ue(e,t,i.value,r)}}catch(e){o.e(e)}finally{o.f()}}function ue(e,t,n,i){if(n){if(Array.isArray(n))return ae(e,t,n,i);if(ee(n))return n.assets?void(Array.isArray(n.assets)?ae(e,t,n.assets,n.level||i):ue(e,t,n.assets,n.level||i)):void 0;Z(n)||(n=ne(o(n)?r.d.CSSUrl:r.d.JSUrl,n,i));var a=n.level||i;a&&null!=r.b[a]||(a=r.b.App),n.level=a,n.type===r.d.CSSUrl||n.type==r.d.CSSText?t[a].push(n):e[a].push(n)}}var ce=function(){function e(){H(this,e),this.stylePoints=new Map}return z(e,[{key:"load",value:function(){var e=F(B().mark((function e(t){var n=this,o,i,a,u;return B().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return o={},i={},r.c.forEach((function(e){o[e]=[],i[e]=[]})),ue(i,o,t),a=o[r.b.Environment].concat(o[r.b.Library],o[r.b.Theme],o[r.b.Runtime],o[r.b.App]),u=i[r.b.Environment].concat(i[r.b.Library],i[r.b.Theme],i[r.b.Runtime],i[r.b.App]),c.next=8,Promise.all(a.map((function(e){var t=e.content,o=e.level,i=e.type,a=e.id;return n.loadStyle(t,o,i===r.d.CSSUrl,a)})));case 8:return c.next=10,Promise.all(u.map((function(e){var t=e.content,o=e.type,i=e.scriptType;return n.loadScript(t,o===r.d.JSUrl,i)})));case 10:case"end":return c.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"loadStyle",value:function e(t,n,r,o){var i;if(t)return o?(i=this.stylePoints.get(o))||(i=new ie(n,o),this.stylePoints.set(o,i)):i=new ie(n),r?i.applyUrl(t):i.applyText(t)}},{key:"loadScript",value:function e(t,n,r){if(t)return n?R(t,r):A(t,r)}},{key:"loadAsyncLibrary",value:function(){var e=F(B().mark((function e(t){var n,r,o,i;return B().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:for(i in n=[],r=[],o=[],t)t[i].async&&(n.push(window[t[i].library]),r.push(t[i].library),o.push(t[i]));return a.next=6,Promise.all(n).then((function(e){e.length>0&&e.map((function(e,t){var n=o[t],i=n.exportMode,a=n.exportSourceLibrary,u=n.library;return window[r[t]]="functionCall"!==i||null!=a&&a!==u?e:e(),e}))}));case 6:case"end":return a.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}])}();function se(e){if(!u(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e){var t=le(e),n;if(null==e)n=e;else if(Array.isArray(e))n=e.map((function(e){return fe(e)}));else if("object"===t&&se(e))for(var r in n={},e)e.hasOwnProperty(r)&&(n[r]=fe(e[r]));else n=e;return n}var pe=n(2),de=n.n(pe),he=["$$typeof","render","defaultProps","props","length","prototype","name","caller","callee","arguments"];function ve(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:he,r=Object.keys(t).filter((function(e){return!n.includes(e)}));return r.forEach((function(n){e[n]=t[n]})),e}function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var me=["children"];function be(e,t){if(null==e)return{};var n,r,o=ge(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ge(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function we(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ee(r.key),r)}}function je(e,t,n){return t&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ee(e){var t=ke(e,"string");return"symbol"==ye(t)?t:t+""}function ke(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Se(e,t,n){return t=Ne(t),_e(e,xe()?Reflect.construct(t,n||[],Ne(e).constructor):t.apply(e,n))}function _e(e,t){if(t&&("object"==ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Pe(e)}function Pe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xe(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(xe=function t(){return!!e})()}function Ne(e){return(Ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ce(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Te(e,t)}function Te(e,t){return(Te=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Le="function"==typeof Symbol&&Symbol.for,Ae=Le?Symbol.for("react.forward_ref"):60112,Re=Le?Symbol.for("react.memo"):60115;function Me(e){return!!e&&!(!e.prototype||!(e.prototype.isReactComponent||e.prototype instanceof pe.Component))}function De(e){var t;return!!e&&!!(null!=e&&null!==(t=e.prototype)&&void 0!==t&&t.isReactComponent||Ve(e))}function Ie(e){return!(!e||null==e||!e.$$typeof)&&(null==e?void 0:e.$$typeof)===Ae}function Be(e){return!(!e||null==e||!e.$$typeof)&&e.$$typeof===Re}function Ve(e){return!(!e||null==e||!e.$$typeof)&&(Ie(e)||Be(e)&&Ie(e.type))}function Fe(e){return!!e&&Boolean(Me(e)||"function"==typeof e||Ie(e)||Be(e))}function Ge(e){var t=function(t){function n(){return we(this,n),Se(this,n,arguments)}return Ce(n,t),je(n,[{key:"render",value:function t(){var n=this.props,r=n.children,o=be(n,me);return Object(pe.createElement)(e,o,r)}}])}(pe.Component);return(t=ve(t,e)).displayName=e.displayName,t}function He(e,t){return Object(pe.isValidElement)(e)?t?Object(pe.cloneElement)(e,t):e:Fe(e)?Object(pe.createElement)(e,t):e}var Ue=n(5);function ze(e){return e&&e.__esModule}function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){return($e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){qe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function qe(e,t,n){return(t=Ke(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ke(e){var t=Je(e,"string");return"symbol"==We(t)?t:t+""}function Je(e,t){if("object"!=We(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qe=/^(https?:)\/\//i;function Ze(e,t){return e?(ze(e)&&(e=e.default),"string"==typeof e?Qe.test(e)?Object(pe.createElement)("img",Ye({src:e,class:null==t?void 0:t.className},t)):React.createElement(Ue.Icon,$e({type:e},t)):Object(pe.isValidElement)(e)?Object(pe.cloneElement)(e,Ye({},t)):Fe(e)?Object(pe.createElement)(e,Ye({class:null==t?void 0:t.className},t)):React.createElement(Ue.Icon,$e({},e,t))):null}var et=n(66);function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=rt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function rt(e,t){if(e){if("string"==typeof e)return ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ot(e,t):void 0}}function ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function it(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ct(r.key),r)}}function ut(e,t,n){return t&&at(e.prototype,t),n&&at(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ct(e){var t=st(e,"string");return"symbol"==tt(t)?t:t+""}function st(e,t){if("object"!=tt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=tt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var lt,ft=new(function(){function e(){it(this,e),this.states=new Set}return ut(e,[{key:"setDragging",value:function e(t){t?this.addState("dragging"):this.removeState("dragging")}},{key:"setXResizing",value:function e(t){t?this.addState("x-resizing"):this.removeState("x-resizing")}},{key:"setYResizing",value:function e(t){t?this.addState("y-resizing"):this.removeState("y-resizing")}},{key:"setCopy",value:function e(t){t?this.addState("copy"):this.removeState("copy")}},{key:"isCopy",value:function e(){return this.states.has("copy")}},{key:"release",value:function e(){var t=nt(this.states),n;try{for(t.s();!(n=t.n()).done;){var r=n.value;this.removeState(r)}}catch(e){t.e(e)}finally{t.f()}}},{key:"addState",value:function e(t){this.states.has(t)||(this.states.add(t),document.documentElement.classList.add("lc-cursor-".concat(t)))}},{key:"removeState",value:function e(t){this.states.has(t)&&(this.states.delete(t),document.documentElement.classList.remove("lc-cursor-".concat(t)))}}])}());function pt(e){return void 0!==Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__}var dt=Object.prototype.hasOwnProperty;function ht(e,t){return e&&dt.call(e,t)}function vt(e){return!!e&&e.nodeType===Node.ELEMENT_NODE}function yt(e){var t=e.target;return!!t&&(!(!t.form&&!/^(INPUT|SELECT|TEXTAREA)$/.test(t.tagName))||!!(t instanceof HTMLElement&&/write/.test(window.getComputedStyle(t).getPropertyValue("-webkit-user-modify"))))}function mt(e){return"function"==typeof e}var bt=!0,gt=function e(t){return bt?null:(t.preventDefault(),t.stopPropagation(),!1)};function wt(e){bt=e}function Ot(e,t){void 0!==Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t}function jt(e){return(jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Et(e,t){if(e===t)return!0;if("object"!==jt(e)||null===e||"object"!==jt(t)||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!ht(t,n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function kt(e){return(kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}document.addEventListener("selectstart",gt,!0),document.addEventListener("dragstart",gt,!0);var St=["fill","size","viewBox","style","children"];function _t(){return(_t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Pt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pt(Object(n),!0).forEach((function(t){Nt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Nt(e,t,n){return(t=Ct(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ct(e){var t=Tt(e,"string");return"symbol"==kt(t)?t:t+""}function Tt(e,t){if("object"!=kt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Lt(e,t){if(null==e)return{};var n,r,o=At(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function At(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}var Rt={xsmall:8,small:12,medium:16,large:20,xlarge:30};function Mt(e){var t=e.fill,n=e.size,r=void 0===n?"medium":n,o=e.viewBox,i=e.style,a=e.children,u=Lt(e,St);return Rt.hasOwnProperty(r)&&(r=Rt[r]),de.a.createElement("svg",_t({fill:"currentColor",preserveAspectRatio:"xMidYMid meet",width:r,height:r,viewBox:o},u,{style:xt({color:t},i)}),a)}var Dt=Date.now();function It(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(e).concat((Dt++).toString(36).toLowerCase())}function Bt(e){return u(e)}function Vt(e){return!!e&&(Object(pe.isValidElement)(e)||Fe(e))}function Ft(e){return"string"==typeof e}function Gt(e){return!!mt(e)&&!Me(e)}function Ht(e){return!!u(e)&&"i18n"===e.type}function Ut(e){return!!u(e)&&"JSBlock"===e.type}function zt(e){return!!u(e)&&("JSExpression"===e.type&&"function"!==e.extType)}function Wt(e){return!!u(e)&&("JSExpression"===e.type&&"function"===e.extType)}function $t(e){return!!u(e)&&("JSFunction"===e.type||Wt(e))}function Xt(e){return!!u(e)&&"JSSlot"===e.type}function Yt(e){return!!u(e)&&"package"in e}function qt(e){return!Yt(e)}function Kt(e){return!!u(e)&&("componentName"in e&&!e.isNode)}function Jt(e){return!!u(e)&&"componentsTree"in e}function Qt(e){return!!u(e)&&("componentName"in e&&!Vt(e))}function Zt(e){return se(e)&&!Ht(e)}function en(e){return!!u(e)&&e.type===r.g.NodeData}function tn(e){return!!u(e)&&e.type===r.g.Node}function nn(e){return!!u(e)&&(e.type!==r.g.NodeData&&e.type!==r.g.Node)}function rn(e){return!!u(e)&&e.type===r.k.Children}function on(e){return!!u(e)&&e.isNode}function an(e){return!!u(e)&&("target"in e&&"detail"in e)}function un(e){return!!u(e)&&("isSettingField"in e&&e.isSettingField)}function cn(e){return(cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sn(e){return"object"===cn(e)&&"Component"===e.componentName}function ln(e){return!!u(e)&&("componentsTree"in e&&0!==e.componentsTree.length&&sn(e.componentsTree[0]))}function fn(e){return!!e&&"string"==typeof e}function pn(e){return(pn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dn(e){return!!e&&("object"===pn(e)&&e.type&&["array","bool","func","number","object","string","node","element","any"].includes(e.type))}function hn(e){return(hn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?vn(Object(n),!0).forEach((function(t){mn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function mn(e,t,n){return(t=bn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bn(e){var t=gn(e,"string");return"symbol"==hn(t)?t:t+""}function gn(e,t){if("object"!=hn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function wn(e){return"string"!=typeof e?e:window[e]||On(e)}function On(e){if(["a","img","div","span","svg"].includes(e))return Object(pe.forwardRef)((function(t,n){return Object(pe.createElement)(e,yn({ref:n},t),t.children)}))}function jn(e,t){var n=t.length;if(n<1||!e)return e;for(var r=0,o;r<n;){var i=t[r],a=void 0;try{o=e[i]||o}catch(e){a=e,o=null}if(0===r&&null==o&&"default"===i){if(a)return 1===n?e:null;o=e}else if(null==o)return null;e=o,r++}return o}function En(e,t,n){if(!n)return wn(t);var r=n.exportName||n.componentName||t,o,i=wn(e[n.package]||r),a=n.exportName&&n.subName?n.subName.split("."):[];return n.destructuring?a.unshift(r):ze(i)&&a.unshift("default"),jn(i,a)}function kn(e){return!!u(e)&&Object.keys(e).some((function(t){return Fe(e[t])}))}function Sn(e,t,n){var r={};return Object.keys(t).forEach((function(o){var i=t[o];i&&(ln(i)||sn(i))?sn(i)?r[o]=n({version:"",componentsMap:[],componentsTree:[i]}):r[o]=n(i):Fe(i)?(De(i)||(i=Ge(i)),r[o]=i):kn(i)?r[o]=i:(i=En(e,o,i))&&(!De(i)&&Fe(i)&&(i=Ge(i)),r[o]=i)})),r}function _n(e,t){var n={};return t&&t.forEach((function(t){var r;if(e[null==t||null===(r=t.npm)||void 0===r?void 0:r.package]){var o=wn(e[null==t?void 0:t.npm.package]);null!=o&&o.destructuring?Object.keys(o).forEach((function(e){"destructuring"!==e&&(n[e]=o[e])})):t.name&&(n[t.name]=o)}})),n}var Pn=n(9),xn=n.n(Pn),Nn;function Cn(e){return(Cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rn(r.key),r)}}function An(e,t,n){return t&&Ln(e.prototype,t),n&&Ln(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rn(e){var t=Mn(e,"string");return"symbol"==Cn(t)?t:t+""}function Mn(e,t){if("object"!=Cn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Dn(e,t,n){return t=Fn(t),In(e,Vn()?Reflect.construct(t,n||[],Fn(e).constructor):t.apply(e,n))}function In(e,t){if(t&&("object"==Cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Bn(e)}function Bn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vn(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Vn=function t(){return!!e})()}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Gn(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Hn(e,t)}function Hn(e,t){return(Hn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Un=null;xn.a.defaultMaxListeners=100;var zn=function(e){function t(e){var n;return Tn(this,t),n=Dn(this,t),Un=n,Object.assign(n,e),n}return Gn(t,e),An(t,[{key:"get",value:function e(t){return this[t]}},{key:"set",value:function e(t,n){var r=this;"string"==typeof t?this[t]=n:"object"===Cn(t)&&Object.keys(t).forEach((function(e){r[e]=t[e]}))}},{key:"batchOn",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.on(e,n)}))}},{key:"batchOnce",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.once(e,n)}))}},{key:"batchOff",value:function e(t,n){var r=this;Array.isArray(t)&&t.forEach((function(e){return r.off(e,n)}))}}])}(xn.a);Nn=zn,zn.getInstance=function(){return Un||(Un=new Nn),Un};var Wn=n(8);function $n(e,t,n){return(t=Xn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xn(e){var t=Yn(e,"string");return"symbol"==qn(t)?t:t+""}function Yn(e,t){if("object"!=qn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function qn(e){return(qn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Kn=new C({level:"warn",bizName:"utils"});function Jn(e){return!(!e||"object"!==qn(e))&&"variable"===e.type}function Qn(e,t){var n,r=null==e||null===(n=e.options)||void 0===n?void 0:n.configure;return!!Array.isArray(r)&&r.some((function(e){var n,r;return e.name===t&&"I18nSetter"===(null==e||null===(n=e.setter)||void 0===n||null===(r=n.type)||void 0===r?void 0:r.displayName)}))}function Zn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"zh-CN";return c(e)?e:$n({type:"i18n",use:t},t,e)}function er(e){return"string"==typeof e}function tr(e,t){var n=200;return new Promise((function(n,r){setTimeout((function(){var o=Object(Wn.get)(e,t);if(o)return n(o);r()}),200)})).catch((function(){return tr(e,t)}))}function nr(e,t){var n=Object(Wn.get)(e,t);return n?Promise.resolve(n):tr(e,t)}function rr(e,t){return!(!Array.isArray(e)||!Array.isArray(t))&&(e.length===t.length&&e.every((function(e){return t.includes(e)})))}function or(e){var t;return!(null==e||null===(t=e.getMetadata().configure)||void 0===t||!t.advanced)}function ir(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e3;return setTimeout(e,t)}var ar=["render","serilize","save","clone","init","upgrade"];function ur(e){return"number"==typeof e?(console.warn("stage \u76f4\u63a5\u6307\u5b9a\u4e3a\u6570\u5b57\u7684\u4f7f\u7528\u65b9\u5f0f\u5df2\u7ecf\u8fc7\u65f6\uff0c\u5c06\u5728\u4e0b\u4e00\u7248\u672c\u79fb\u9664\uff0c\u8bf7\u76f4\u63a5\u4f7f\u7528 IPublicEnumTransformStage.Render|Serilize|Save|Clone|Init|Upgrade"),ar[e-1]):e}function cr(e,t,n){if(!e)throw new Error("Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function sr(e,t,n){e&&Kn.warn("Deprecation: ".concat(t)+(n?", use ".concat(n," instead."):""))}function lr(e){return!(!e||"object"!==qn(e))&&("test"in e&&"exec"in e&&"compile"in e)}function fr(e,t){return!1!==e&&(e||t)}function pr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pr(Object(n),!0).forEach((function(t){hr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function hr(e,t,n){return(t=vr(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vr(e){var t=yr(e,"string");return"symbol"==kr(t)?t:t+""}function yr(e,t){if("object"!=kr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function mr(e,t){return wr(e)||gr(e,t)||jr(e,t)||br()}function br(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gr(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function wr(e){if(Array.isArray(e))return e}function Or(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=jr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function jr(e,t){if(e){if("string"==typeof e)return Er(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Er(e,t):void 0}}function Er(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sr(e){if("object"===kr(e)&&null!==e)return e.type&&e.source&&e.compiled}function _r(e){return e.type&&"actionRef"===e.type}function Pr(e){if(!e)return e;if(Array.isArray(e))return e.map((function(e){return Pr(e)}));if(!se(e))return e;var t,n,r;if(Ut(e))return"Slot"===e.value.componentName?{type:"JSSlot",title:null===(t=e.value.props)||void 0===t?void 0:t.slotTitle,name:null===(n=e.value.props)||void 0===n?void 0:n.slotName,value:Pr(e.value.children),params:null===(r=e.value.props)||void 0===r?void 0:r.slotParams}:e.value;if(Jn(e))return{type:"JSExpression",value:e.variable,mock:e.value};if(Sr(e))return{type:"JSExpression",value:e.compiled,extType:"function"};if(_r(e))return{type:"JSExpression",value:"".concat(e.id,".bind(this)")};var o={};return Object.keys(e).forEach((function(t){/^__slot__/.test(t)&&!0===e[t]||(o[t]=Pr(e[t]))})),o}function xr(e,t){var n;if(e.id===t)return e;var r=e.children,o=e.props;if(Array.isArray(r)){var i=Or(r),a;try{for(i.s();!(a=i.n()).done;){var u;if(n=xr(a.value,t))return n}}catch(e){i.e(e)}finally{i.f()}}return se(o)&&(n=Nr(o,t))?n:void 0}function Nr(e,t){for(var n,r=0,o=Object.entries(e);r<o.length;r++){var i=mr(o[r],2),a=i[0],u=i[1];if(Xt(u)){if(Array.isArray(u.value)){var c=Or(u.value),s;try{for(c.s();!(s=c.n()).done;){var l;if(n=xr(s.value,t))return n}}catch(e){c.e(e)}finally{c.f()}}if(n=xr(u.value,t))return n}else if(se(u)&&(n=Nr(u,t)))return n}}function Cr(e,t){var n=dr({},e);return Array.isArray(t)||(t=[t]),t.reduce((function(e,t){if(t.type===r.a.MODIFIED){var n=xr(e,t.payload.schema.id);if(!n)return e;Object.assign(n,t.payload.schema)}else if(t.type===r.a.ADDED){var o=t.payload,i=o.location,a=o.schema,u=i.parent,c=xr(e,u.nodeId);c&&(Array.isArray(c.children)?c.children.splice(u.index,0,a):c.children||(c.children=[a]))}else if(t.type===r.a.DELETED){var s,l,f=t.payload.location.parent,p=xr(e,f.nodeId);p&&Array.isArray(p.children)&&p.children.splice(f.index,1)}return e}),n)}var Tr=function e(t,n){if(t)return n(t)?t:Tr(t.parent,n)};function Lr(e,t){var n,r,o,i=null===(n=e.componentMeta)||void 0===n||null===(r=n.advanced)||void 0===r||null===(o=r.callbacks)||void 0===o?void 0:o.onClickHook,a;return"function"!=typeof i||i(t,e)}var Ar=4;function Rr(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function Mr(e){if(!e)return!1;var t=e.split(":");return t.length>1&&t[0].length>0}var Dr=["hover","focus","active","visited"],Ir=/[A-Z]/g,Br=/[-\s]+(.)?/g,Vr=/([^:]*):\s?(.*)/i;function Fr(e){var t=0,n=0,r=[];return e.split("").forEach((function(o,i){"{"===o&&t++,"}"===o&&(1===t&&(r.push(e.substring(n,i+1)),n=i+1),t--)})),r}function Gr(e){return"[object String]"==={}.toString.call(e)}function Hr(e){return e.replace(Ir,(function(e){return"-".concat(e)})).toLowerCase()}function Ur(e){return e.replace(Br,(function(e,t){return t?t.toUpperCase():""}))}function zr(e){var t=[];return Object.keys(e).forEach((function(n){t.push("  ".concat(n,": ").concat(e[n],";"))})),t.join("\n")}function Wr(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?Wr(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Ur(t)]=e[t]})),n}function $r(e){if(!e)return{};if(e.default){var t={};return Object.keys(e).forEach((function(n){t[n]="extra"!==n?$r(e[n]):e[n]})),t}var n={};return Object.keys(e).forEach((function(t){n[Hr(t)]=e[t]})),n}function Xr(e){if(!e)return":root {\n\n}";if(e.default){var t=[];return Object.keys(e).forEach((function(n){if("extra"!==n){var r=Dr.indexOf(n)>-1?":":"";t.push(":root".concat("default"===n?"":"".concat(r).concat(n)," {\n").concat(zr($r(e[n])),"\n}\n"))}else Array.isArray(e.extra)&&t.push(e.extra.join("\n"))})),t.join("\n")}return":root {\n".concat(zr($r(e)),"\n}\n")}function Yr(e){if(!e)return{};var t={},n;return Fr(e).forEach((function(e){if(e.startsWith(":root")){var n=/:root:?(.*)?{(.*)/gi.exec(e.replace(/[\r\n]+/gi,"").trim());if(n){var r;n[1]&&n[1].trim()&&Object(Wn.some)(Dr,(function(e){return 0===n[1].indexOf(e)}))?r=n[1].trim():n[1]&&n[1].trim()&&(r=n[1]);var o={};n[2].split(";").reduce((function(e,t){return t.indexOf("base64")>-1?e[e.length-1]+=";".concat(t):e.push(t),e}),[]).forEach((function(e){if(e&&Vr.test(e)){var t=e.match(Vr),n=null==t?void 0:t[1],r=null==t?void 0:t[2];n&&r&&(o[n.trim()]=r.trim())}})),t[r||"default"]=o}}else t.extra=t.extra||[],t.extra.push(e.trim())})),t}function qr(e){try{return Gr(e)?Wr(Yr(e).default):e.default?Wr($r(e.default)):Wr($r(e))}catch(e){}return{}}var Kr=n(7);function Jr(e){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Qr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eo(r.key),r)}}function Zr(e,t,n){return t&&Qr(e.prototype,t),n&&Qr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eo(e){var t=to(e,"string");return"symbol"==Jr(t)?t:t+""}function to(e,t){if("object"!=Jr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function no(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var ro,oo=new(Zr((function e(){var t=this;no(this,e),this.emitter=new xn.a,this.executeTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.j.REPAINT;t.emitter.emit("[".concat(n,"]startTransaction")),Object(Kr.runInAction)(e),t.emitter.emit("[".concat(n,"]endTransaction"))},this.onStartTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.j.REPAINT;return t.emitter.on("[".concat(n,"]startTransaction"),e),function(){t.emitter.off("[".concat(n,"]startTransaction"),e)}},this.onEndTransaction=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.j.REPAINT;return t.emitter.on("[".concat(n,"]endTransaction"),e),function(){t.emitter.off("[".concat(n,"]endTransaction"),e)}}})));function io(){return(io=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function ao(e,t){return fo(e)||lo(e,t)||co(e,t)||uo()}function uo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function co(e,t){if(e){if("string"==typeof e)return so(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?so(e,t):void 0}}function so(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function lo(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function fo(e){if(Array.isArray(e))return e}var po=function e(t,n){return function e(o){var i,a=Object(pe.useCallback)((function(e){return null!=e&&e.currentEditorView?n?(null==e?void 0:e.editorViews.filter((function(e){return e.viewName===n||Array.isArray(n)&&n.includes(e.viewName)})))[0]:e.currentEditorView:null;var t}),[]),u,c=(o.pluginContext||{}).workspace,s,l=ao(Object(pe.useState)(a(null==c?void 0:c.window)),2),f=l[0],p=l[1];return Object(pe.useEffect)((function(){if(null!=c&&c.window){var e=a(c.window);e&&p(e)}return null==c?void 0:c.onChangeActiveEditorView((function(){var e=a(c.window);e&&p(e)}))}),[c,a]),(null===(i=o.pluginContext)||void 0===i?void 0:i.registerLevel)===r.h.Workspace&&o.pluginContext?de.a.createElement(t,io({},o,{pluginContext:f})):de.a.createElement(t,o)}},ho=n(6),vo=n.n(ho),yo=n(67);function mo(){return(mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var bo=new C({level:"warn",bizName:"utils"}),go=Ue.Menu.Item,wo=Ue.Menu.Divider,Oo=Ue.Menu.PopupItem,jo=2,Eo=function e(t){var n,r=t.node;if(!r)return de.a.createElement("div",{className:"engine-context-menu-tree-wrap"},t.children);var o,i=(t.options.pluginContext||{}).common,a,u=((null==i?void 0:i.utils)||{}).intl,c=8*r.zLevel+32,s={paddingLeft:c,marginLeft:-c,marginRight:-10,paddingRight:10};return de.a.createElement(Eo,mo({},t,{node:r.parent}),de.a.createElement("div",{className:"engine-context-menu-title",onClick:function e(){var n,o;null===(n=(o=t.options).destroy)||void 0===n||n.call(o),r.select()},style:s},(null===(n=t.options.nodes)||void 0===n?void 0:n[0].id)===r.id?de.a.createElement(Ue.Icon,{className:"engine-context-menu-tree-selecte-icon",size:"small",type:"success"}):null,u(r.title)),de.a.createElement("div",{className:"engine-context-menu-tree-children"},t.children))},ko,So;function _o(e,t){var n=t.pluginContext||{},o=n.common,i=n.commonUI,a,u=((null==o?void 0:o.utils)||{}).intl,c=void 0===u?function(e){return e}:u,s,l=(i||{}).HelpTip,f=[];return e.forEach((function(e,n){var o;e.type!==r.f.SEPARATOR?(e.type===r.f.MENU_ITEM&&(e.items&&e.items.length?f.push(de.a.createElement(Oo,{className:vo()("engine-context-menu-item",{disabled:e.disabled}),key:e.name,label:de.a.createElement("div",{className:"engine-context-menu-text"},c(e.title))},de.a.createElement(Ue.Menu,{className:"next-context engine-context-menu"},_o(e.items,t)))):f.push(de.a.createElement(go,{className:vo()("engine-context-menu-item",{disabled:e.disabled}),disabled:e.disabled,onClick:function t(){var n;null===(n=e.action)||void 0===n||n.call(e)},key:e.name},de.a.createElement("div",{className:"engine-context-menu-text"},e.title?c(e.title):null,e.help?de.a.createElement(l,{size:"xs",help:e.help,direction:"right"}):null)))),e.type===r.f.NODE_TREE&&f.push(de.a.createElement(Eo,{node:null===(o=t.nodes)||void 0===o?void 0:o[0],options:t}))):f.push(de.a.createElement(wo,{key:e.name||n}))})),f}function Po(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;null===(n=ko)||void 0===n||n();var i=t.nodes,a=t.destroy;return o>2?(bo.warn("context menu level is too deep, please check your context menu config"),[]):e.filter((function(e){return!e.condition||e.condition&&e.condition(i||[])})).map((function(e){var n=e.name,u=e.title,c=e.type,s,l,f={name:n,title:u,type:void 0===c?r.f.MENU_ITEM:c,help:e.help,action:function n(){var r;null==a||a(),null===(r=e.action)||void 0===r||r.call(e,i||[],t.event)},disabled:e.disabled&&e.disabled(i||[])||!1};return"items"in e&&e.items&&(f.items=Po("function"==typeof e.items?e.items(i||[]):e.items,t,o+1)),f})).reduce((function(e,t){return t.name&&e.find((function(e){return e.name===t.name}))?e:e.concat([t]);var n}),[])}function xo(){if(So)return So;var e=document.documentElement,t,n=getComputedStyle(e).getPropertyValue("--context-menu-item-height").trim();return So=n,n}function No(e,t){var n=t.event,r=t.offset,o=void 0===r?[0,0]:r;n.preventDefault(),n.stopPropagation();var i=window.innerWidth,a=window.innerHeight,u=de.a.Children.count(e.filter((function(e){return de.a.isValidElement(e)&&e.type===wo}))),c,s=de.a.Children.count(e.filter((function(e){return de.a.isValidElement(e)&&(e.type===Oo||e.type===go)})))*parseInt(xo(),10)+8*u+16,l=200,f=n.clientX+o[0],p=n.clientY+o[1];f+200>i&&(f-=200),p+s>a&&(p-=s);var d=Ue.Menu.create({target:document.body,offset:[f,p],children:e,className:"engine-context-menu"});return ko=d.destroy}var Co=n(39),To=n(40),Lo=n.n(To),Ao=n(58),Ro;function Mo(e,t,n){return(t=Do(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Do(e){var t=Io(e,"string");return"symbol"==Bo(t)?t:t+""}function Io(e,t){if("object"!=Bo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Bo(e){return(Bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Vo=n.n(Ao)()(Co.isElement,!0),Fo=new C({level:"warn",bizName:"utils"});function Go(e){if(!e)return"PropTypes.any";if("string"==typeof e)return e.startsWith("PropTypes.")?e:"PropTypes.".concat(e);if(dn(e)){var t=e.type,n=e.isRequired;return"PropTypes.".concat(t).concat(n?".isRequired":"")}var r=e.type,o=e.value;switch(r){case"oneOf":return"PropTypes.oneOf([".concat(o.map((function(e){return'"'.concat(e,'"')})).join(","),"])");case"oneOfType":return"PropTypes.oneOfType([".concat(o.map((function(e){return Go(e)})).join(", "),"])");case"arrayOf":case"objectOf":return"PropTypes.".concat(r,"(").concat(Go(o),")");case"shape":case"exact":return"PropTypes.".concat(r,"({").concat(o.map((function(e){return"".concat(e.name,": ").concat(Go(e.propType))})).join(","),"})");default:Fo.error("Unknown prop type: ".concat(r))}return"PropTypes.any"}function Ho(e,t,n,r){var o=n;if("object"===Bo(n)&&(o=new Function('"use strict"; const PropTypes = arguments[0]; return '.concat(Go(n)))(Vo)),"string"==typeof n&&(o=new Function('"use strict"; const PropTypes = arguments[0]; return '.concat(Go(n)))(Vo)),!o||"function"!=typeof o)return Fo.warn("checkPropTypes should have a function type rule argument"),!0;var i=o(Mo({},t,e),t,r,"prop",null,Lo.a);return i&&Fo.warn(i),!i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return i})),n.d(t,"k",(function(){return h})),n.d(t,"j",(function(){return k})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return x})),n.d(t,"h",(function(){return L})),n.d(t,"f",(function(){return A}));var r={};n.r(r),n.d(r,"Change",(function(){return f})),n.d(r,"InnerChange",(function(){return p}));var o={};n.r(o),n.d(o,"Prop",(function(){return r})),n.d(o,"Rerender",(function(){return d}));var i={},a,u,c;n.r(i),n.d(i,"Node",(function(){return o})),function(e){e.Initial="init",e.Loading="loading",e.Loaded="loaded",e.Error="error"}(a||(a={})),function(e){e.ADDED="added",e.DELETED="deleted",e.MODIFIED="modified",e.COMPOSITE="composite"}(u||(u={})),function(e){e[e.Environment=1]="Environment",e[e.Library=2]="Library",e[e.Theme=3]="Theme",e[e.Runtime=4]="Runtime",e[e.Components=5]="Components",e[e.App=6]="App"}(c||(c={}));var s=[c.Environment,c.Library,c.Theme,c.Runtime,c.Components,c.App],l;!function(e){e.JSUrl="jsUrl",e.CSSUrl="cssUrl",e.CSSText="cssText",e.JSText="jsText",e.Bundle="bundle"}(l||(l={}));var f="node.prop.change",p="node.innerProp.change",d="node.edit.rerender.time",h,v;function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,g(r.key),r)}}function b(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=w(e,"string");return"symbol"==y(t)?t:t+""}function w(e,t){if("object"!=y(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}!function(e){e.Children="Children",e.Prop="Prop"}(h||(h={})),function(e){e.Children="Children",e.Prop="Prop"}(v||(v={}));var j=b((function e(){O(this,e),this.type=void 0,this.data=void 0,this.nodes=void 0})),E,k,S,_,P,x,N,C,T,L,A;function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function M(e){return e&&"object"===R(e)}E||(E={}),function(e){e[e.REPAINT=0]="REPAINT"}(k||(k={})),function(e){e[e.REPAINT=0]="REPAINT"}(S||(S={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(_||(_={})),function(e){e.Render="render",e.Serilize="serilize",e.Save="save",e.Clone="clone",e.Init="init",e.Upgrade="upgrade"}(P||(P={})),function(e){e.Node="node",e.NodeData="nodedata"}(x||(x={})),function(e){e.Node="node",e.NodeData="nodedata"}(N||(N={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(C||(C={})),function(e){e.SET_VALUE="SET_VALUE",e.SUB_VALUE_CHANGE="SUB_VALUE_CHANGE"}(T||(T={})),function(e){e.Default="default",e.Workspace="workspace",e.Resource="resource",e.EditorView="editorView"}(L||(L={})),function(e){e.SEPARATOR="separator",e.MENU_ITEM="menuItem",e.NODE_TREE="nodeTree"}(A||(A={}));var D=n(2);function I(e){return e&&e.prototype&&(e.prototype.isReactComponent||e.prototype instanceof D.Component)}function B(e){return e&&(I(e)||"function"==typeof e)}function V(e){return e&&(Object(D.isValidElement)(e)||B(e))}function F(e){return"string"==typeof e}function G(e){return e&&"function"==typeof e&&!I(e)}function H(e){return e&&"i18n"===e.type}function U(e){return e&&"JSBlock"===e.type}function z(e){return e&&"JSExpression"===e.type&&"function"!==e.extType}function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e){return"object"===W(e)&&e&&"JSFunction"===e.type}function X(e){return e&&"JSSlot"===e.type}function Y(e){return"package"in e}function q(e){return!Y(e)}function K(e){return e&&e.componentName}function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e){if("object"!==J(e))return!1;var t=Object.getPrototypeOf(e);return t===Object.prototype||null===t||null===Object.getPrototypeOf(t)}function Z(e){return e&&e.componentsTree}function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e){return e&&"object"===ee(e)&&"componentName"in e&&!V(e)}function ne(e){return Q(e)&&!H(e)}},function(e,t){e.exports=Next},function(e,t,n){var r,o;
/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=u(e,a(n)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var r in e)n.call(e,r)&&e[r]&&(t=u(t,r));return t}function u(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,r=[]))||(e.exports=o)}()},function(e,t,n){"use strict";n.r(t),function(e){n.d(t,"$mobx",(function(){return Fe})),n.d(t,"FlowCancellationError",(function(){return eo})),n.d(t,"ObservableMap",(function(){return hi})),n.d(t,"ObservableSet",(function(){return gi})),n.d(t,"Reaction",(function(){return ir})),n.d(t,"_allowStateChanges",(function(){return pn})),n.d(t,"_allowStateChangesInsideComputed",(function(){return Tr})),n.d(t,"_allowStateReadsEnd",(function(){return Dn})),n.d(t,"_allowStateReadsStart",(function(){return Mn})),n.d(t,"_autoAction",(function(){return Cr})),n.d(t,"_endAction",(function(){return fn})),n.d(t,"_getAdministration",(function(){return Hi})),n.d(t,"_getGlobalState",(function(){return zn})),n.d(t,"_interceptReads",(function(){return co})),n.d(t,"_isComputingDerivation",(function(){return Sn})),n.d(t,"_resetGlobalState",(function(){return Wn})),n.d(t,"_startAction",(function(){return ln})),n.d(t,"action",(function(){return Nr})),n.d(t,"autorun",(function(){return Ar})),n.d(t,"comparer",(function(){return Ye})),n.d(t,"computed",(function(){return en})),n.d(t,"configure",(function(){return $r})),n.d(t,"createAtom",(function(){return Ue})),n.d(t,"defineProperty",(function(){return _o})),n.d(t,"entries",(function(){return Oo})),n.d(t,"extendObservable",(function(){return Xr})),n.d(t,"flow",(function(){return oo})),n.d(t,"flowResult",(function(){return ao})),n.d(t,"get",(function(){return So})),n.d(t,"getAtom",(function(){return Gi})),n.d(t,"getDebugName",(function(){return Ui})),n.d(t,"getDependencyTree",(function(){return Yr})),n.d(t,"getObserverTree",(function(){return Kr})),n.d(t,"has",(function(){return ko})),n.d(t,"intercept",(function(){return so})),n.d(t,"isAction",(function(){return Lr})),n.d(t,"isBoxedObservable",(function(){return mn})),n.d(t,"isComputed",(function(){return ho})),n.d(t,"isComputedProp",(function(){return vo})),n.d(t,"isFlow",(function(){return uo})),n.d(t,"isFlowCancellationError",(function(){return to})),n.d(t,"isObservable",(function(){return mo})),n.d(t,"isObservableArray",(function(){return li})),n.d(t,"isObservableMap",(function(){return vi})),n.d(t,"isObservableObject",(function(){return xi})),n.d(t,"isObservableProp",(function(){return bo})),n.d(t,"isObservableSet",(function(){return wi})),n.d(t,"keys",(function(){return go})),n.d(t,"makeAutoObservable",(function(){return Jo})),n.d(t,"makeObservable",(function(){return qo})),n.d(t,"observable",(function(){return qt})),n.d(t,"observe",(function(){return xo})),n.d(t,"onBecomeObserved",(function(){return Fr})),n.d(t,"onBecomeUnobserved",(function(){return Gr})),n.d(t,"onReactionError",(function(){return ar})),n.d(t,"override",(function(){return et})),n.d(t,"ownKeys",(function(){return Po})),n.d(t,"reaction",(function(){return Dr})),n.d(t,"remove",(function(){return Eo})),n.d(t,"runInAction",(function(){return Tr})),n.d(t,"set",(function(){return jo})),n.d(t,"spy",(function(){return br})),n.d(t,"toJS",(function(){return Ao})),n.d(t,"trace",(function(){return Ro})),n.d(t,"transaction",(function(){return Do})),n.d(t,"untracked",(function(){return Ln})),n.d(t,"values",(function(){return wo})),n.d(t,"when",(function(){return Io}));var r="Invalid value for configuration 'enforceActions', expected 'never', 'always' or 'observed'",o=function e(t,n){return"Cannot apply '"+t+"' to '"+n.toString()+"': Field not found."},i="'keys()' can only be used on observable objects, arrays, sets and maps",a="'values()' can only be used on observable objects, arrays, sets and maps",u="'entries()' can only be used on observable objects, arrays and maps",c="'set()' can only be used on observable objects, arrays and maps",s="'remove()' can only be used on observable objects, arrays and maps",l="'has()' can only be used on observable objects, arrays and maps",f="'get()' can only be used on observable objects, arrays and maps",p="Invalid annotation",d="Dynamic observable objects cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",h="Intercept handlers should return nothing or a change object",v="Observable arrays cannot be frozen. If you're passing observables to 3rd party component/function that calls Object.freeze, pass copy instead: toJS(observable)",y="Modification exception: the internal structure of an observable array was changed.",m=function e(t,n){return"[mobx.array] Index out of bounds, "+t+" is larger than "+n},b="mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js",g=function e(t){return"Cannot initialize from classes that inherit from Map: "+t.constructor.name},w=function e(t){return"Cannot initialize map from "+t},O=function e(t){return"Cannot convert to map from '"+t+"'"},j="mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js",E="It is not possible to get index atoms from arrays",k=function e(t){return"Cannot obtain administration from "+t},S=function e(t,n){return"the entry '"+t+"' does not exist in the observable map '"+n+"'"},_="please specify a property",P=function e(t,n){return"no observable property '"+t.toString()+"' found on the observable object '"+n+"'"},x=function e(t){return"Cannot obtain atom from "+t},N="Expecting some object",C="invalid action stack. did you forget to finish an action?",T="missing option for computed: get",L=function e(t,n){return"Cycle detected in computation "+t+": "+n},A=function e(t){return"The setter of computed value '"+t+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"},R=function e(t){return"[ComputedValue '"+t+"'] It is not possible to assign a new value to a computed value."},M="There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`",D="isolateGlobalState should be called before MobX is running any reactions",I=function e(t){return"[mobx] `observableArray."+t+"()` mutates the array in-place, which is not allowed inside a derivation. Use `array.slice()."+t+"()` instead"},B="'ownKeys()' can only be used on observable objects",V="'defineProperty()' can only be used on observable objects",F={};function G(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o;throw new Error("number"==typeof e?"[MobX] minified error nr: "+e+(n.length?" "+n.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+e)}var H={};function U(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:H}var z=Object.assign,W=Object.getOwnPropertyDescriptor,$=Object.defineProperty,X=Object.prototype,Y=[];Object.freeze(Y);var q={};Object.freeze(q);var K="undefined"!=typeof Proxy,J=Object.toString();function Q(){K||G("Proxy not available")}function Z(e){0}function ee(){return++Hn.mobxGuid}function te(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}var ne=function e(){};function re(e){return"function"==typeof e}function oe(e){var t;switch(typeof e){case"string":case"symbol":case"number":return!0}return!1}function ie(e){return null!==e&&"object"==typeof e}function ae(e){if(!ie(e))return!1;var t=Object.getPrototypeOf(e);if(null==t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n.toString()===J}function ue(e){var t=null==e?void 0:e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName)}function ce(e,t,n){$(e,t,{enumerable:!1,writable:!0,configurable:!0,value:n})}function se(e,t,n){$(e,t,{enumerable:!1,writable:!1,configurable:!0,value:n})}function le(e,t){var n="isMobX"+e;return t.prototype[n]=!0,function(e){return ie(e)&&!0===e[n]}}function fe(e){return null!=e&&"[object Map]"===Object.prototype.toString.call(e)}function pe(e){var t=Object.getPrototypeOf(e),n=Object.getPrototypeOf(t),r;return null===Object.getPrototypeOf(n)}function de(e){return null!=e&&"[object Set]"===Object.prototype.toString.call(e)}var he=void 0!==Object.getOwnPropertySymbols;function ve(e){var t=Object.keys(e);if(!he)return t;var n=Object.getOwnPropertySymbols(e);return n.length?[].concat(t,n.filter((function(t){return X.propertyIsEnumerable.call(e,t)}))):t}var ye="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:he?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames;function me(e){return"string"==typeof e?e:"symbol"==typeof e?e.toString():new String(e).toString()}function be(e){return null===e?null:"object"==typeof e?""+e:e}function ge(e,t){return X.hasOwnProperty.call(e,t)}var we=Object.getOwnPropertyDescriptors||function e(t){var n={};return ye(t).forEach((function(e){n[e]=W(t,e)})),n};function Oe(e,t){return!!(e&t)}function je(e,t,n){return n?e|=t:e&=~t,e}function Ee(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Te(r.key),r)}}function Se(e,t,n){return t&&ke(e.prototype,t),n&&ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _e(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=Le(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Pe(){return(Pe=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function xe(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Ne(e,t)}function Ne(e,t){return(Ne=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ce(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Te(e){var t=Ce(e,"string");return"symbol"==typeof t?t:t+""}function Le(e,t){if(e){if("string"==typeof e)return Ee(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ee(e,t):void 0}}var Ae=Symbol("mobx-stored-annotations");function Re(e){function t(t,n){if(Be(n))return e.decorate_20223_(t,n);Me(t,n,e)}return Object.assign(t,e)}function Me(e,t,n){var r;ge(e,Ae)||ce(e,Ae,Pe({},e[Ae])),De(e,n,t),tt(n)||(e[Ae][t]=n)}function De(e,t,n){var r,o,i}function Ie(e){return ge(e,Ae)||ce(e,Ae,Pe({},e[Ae])),e[Ae]}function Be(e){return"object"==typeof e&&"string"==typeof e.kind}function Ve(e,t){0}var Fe=Symbol("mobx administration"),Ge=function(){function e(e){void 0===e&&(e="Atom"),this.name_=void 0,this.flags_=0,this.observers_=new Set,this.lastAccessedBy_=0,this.lowestObserverState_=wn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=e}var t=e.prototype;return t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.reportObserved=function e(){return Zn(this)},t.reportChanged=function e(){Jn(),er(this),Qn()},t.toString=function e(){return this.name_},Se(e,[{key:"isBeingObserved",get:function t(){return Oe(this.flags_,e.isBeingObservedMask_)},set:function t(n){this.flags_=je(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function t(){return Oe(this.flags_,e.isPendingUnobservationMask_)},set:function t(n){this.flags_=je(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function t(){return Oe(this.flags_,e.diffValueMask_)?1:0},set:function t(n){this.flags_=je(this.flags_,e.diffValueMask_,1===n)}}])}();Ge.isBeingObservedMask_=1,Ge.isPendingUnobservationMask_=2,Ge.diffValueMask_=4;var He=le("Atom",Ge);function Ue(e,t,n){void 0===t&&(t=ne),void 0===n&&(n=ne);var r=new Ge(e);return t!==ne&&Fr(r,t),n!==ne&&Gr(r,n),r}function ze(e,t){return e===t}function We(e,t){return Xi(e,t)}function $e(e,t){return Xi(e,t,1)}function Xe(e,t){return Object.is?Object.is(e,t):e===t?0!==e||1/e==1/t:e!=e&&t!=t}var Ye={identity:ze,structural:We,default:Xe,shallow:$e};function qe(e,t,n){return mo(e)?e:Array.isArray(e)?qt.array(e,{name:n}):ae(e)?qt.object(e,void 0,{name:n}):fe(e)?qt.map(e,{name:n}):de(e)?qt.set(e,{name:n}):"function"!=typeof e||Lr(e)||uo(e)?e:ue(e)?oo(e):Cr(n,e)}function Ke(e,t,n){return null==e||xi(e)||li(e)||vi(e)||wi(e)?e:Array.isArray(e)?qt.array(e,{name:n,deep:!1}):ae(e)?qt.object(e,void 0,{name:n,deep:!1}):fe(e)?qt.map(e,{name:n,deep:!1}):de(e)?qt.set(e,{name:n,deep:!1}):void 0}function Je(e){return e}function Qe(e,t){return Xi(e,t)?t:e}var Ze="override",et=Re({annotationType_:Ze,make_:nt,extend_:rt,decorate_20223_:ot});function tt(e){return e.annotationType_===Ze}function nt(e,t){return 0}function rt(e,t,n,r){G("'"+this.annotationType_+"' can only be used with 'makeObservable'")}function ot(e,t){console.warn("'"+this.annotationType_+"' cannot be used with decorators - this is a no-op")}function it(e,t){return{annotationType_:e,options_:t,make_:at,extend_:ut,decorate_20223_:ct}}function at(e,t,n,r){var o;if(null!=(o=this.options_)&&o.bound)return null===this.extend_(e,t,n,!1)?0:1;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(Lr(n.value))return 1;var i=lt(e,this,t,n,!1);return $(r,t,i),2}function ut(e,t,n,r){var o=lt(e,this,t,n);return e.defineProperty_(t,o,r)}function ct(e,t){var n=t.kind,r=t.name,o=t.addInitializer,i=this,a=function e(t){var n,o,a,u;return cn(null!=(n=null==(o=i.options_)?void 0:o.name)?n:r.toString(),t,null!=(a=null==(u=i.options_)?void 0:u.autoAction)&&a)},u;return"field"==n?function(e){var t,n=e;return Lr(n)||(n=a(n)),null!=(t=i.options_)&&t.bound&&((n=n.bind(this)).isMobxAction=!0),n}:"method"==n?(Lr(e)||(e=a(e)),null!=(u=this.options_)&&u.bound&&o((function(){var e=this,t=this[r].bind(this);t.isMobxAction=!0,this[r]=t})),e):void G("Cannot apply '"+i.annotationType_+"' to '"+String(r)+"' (kind: "+n+"):\n'"+i.annotationType_+"' can only be used on properties with a function value.")}function st(e,t,n,r){var o=t.annotationType_,i=r.value}function lt(e,t,n,r,o){var i,a,u,c,s,l,f;void 0===o&&(o=Hn.safeDescriptors),st(e,t,n,r);var p=r.value,d;null!=(i=t.options_)&&i.bound&&(p=p.bind(null!=(d=e.proxy_)?d:e.target_));return{value:cn(null!=(a=null==(u=t.options_)?void 0:u.name)?a:n.toString(),p,null!=(c=null==(s=t.options_)?void 0:s.autoAction)&&c,null!=(l=t.options_)&&l.bound?null!=(f=e.proxy_)?f:e.target_:void 0),configurable:!o||e.isPlainObject_,enumerable:!1,writable:!o}}function ft(e,t){return{annotationType_:e,options_:t,make_:pt,extend_:dt,decorate_20223_:ht}}function pt(e,t,n,r){var o;if(r===e.target_)return null===this.extend_(e,t,n,!1)?0:2;if(null!=(o=this.options_)&&o.bound&&(!ge(e.target_,t)||!uo(e.target_[t]))&&null===this.extend_(e,t,n,!1))return 0;if(uo(n.value))return 1;var i=yt(e,this,t,n,!1,!1);return $(r,t,i),2}function dt(e,t,n,r){var o,i=yt(e,this,t,n,null==(o=this.options_)?void 0:o.bound);return e.defineProperty_(t,i,r)}function ht(e,t){var n;var r=t.name,o=t.addInitializer;return uo(e)||(e=oo(e)),null!=(n=this.options_)&&n.bound&&o((function(){var e=this,t=this[r].bind(this);t.isMobXFlow=!0,this[r]=t})),e}function vt(e,t,n,r){var o=t.annotationType_,i=r.value}function yt(e,t,n,r,o,i){void 0===i&&(i=Hn.safeDescriptors),vt(e,t,n,r);var a=r.value,u;(uo(a)||(a=oo(a)),o)&&((a=a.bind(null!=(u=e.proxy_)?u:e.target_)).isMobXFlow=!0);return{value:a,configurable:!i||e.isPlainObject_,enumerable:!1,writable:!i}}function mt(e,t){return{annotationType_:e,options_:t,make_:bt,extend_:gt,decorate_20223_:wt}}function bt(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function gt(e,t,n,r){return Ot(e,this,t,n),e.defineComputedProperty_(t,Pe({},this.options_,{get:n.get,set:n.set}),r)}function wt(e,t){var n=this,r=t.name,o;return(0,t.addInitializer)((function(){var t=Si(this)[Fe],o=Pe({},n.options_,{get:e,context:this});o.name||(o.name="ObservableObject."+r.toString()),t.values_.set(r,new bn(o))})),function(){return this[Fe].getObservablePropValue_(r)}}function Ot(e,t,n,r){var o=t.annotationType_,i=r.get}function jt(e,t){return{annotationType_:e,options_:t,make_:Et,extend_:kt,decorate_20223_:St}}function Et(e,t,n){return null===this.extend_(e,t,n,!1)?0:1}function kt(e,t,n,r){var o,i;return _t(e,this,t,n),e.defineObservableProperty_(t,n.value,null!=(o=null==(i=this.options_)?void 0:i.enhancer)?o:qe,r)}function St(e,t){var n=this,r=t.kind,o=t.name,i=new WeakSet;function a(e,t){var r,a,u=Si(e)[Fe],c=new yn(t,null!=(r=null==(a=n.options_)?void 0:a.enhancer)?r:qe,"ObservableObject."+o.toString(),!1);u.values_.set(o,c),i.add(e)}if("accessor"==r)return{get:function t(){return i.has(this)||a(this,e.get.call(this)),this[Fe].getObservablePropValue_(o)},set:function e(t){return i.has(this)||a(this,t),this[Fe].setObservablePropValue_(o,t)},init:function e(t){return i.has(this)||a(this,t),t}}}function _t(e,t,n,r){var o=t.annotationType_}var Pt="true",xt=Nt();function Nt(e){return{annotationType_:Pt,options_:e,make_:Ct,extend_:Tt,decorate_20223_:Lt}}function Ct(e,t,n,r){var o,i,a,u,c,s;if(n.get)return en.make_(e,t,n,r);if(n.set){var l=cn(t.toString(),n.set);return r===e.target_?null===e.defineProperty_(t,{configurable:!Hn.safeDescriptors||e.isPlainObject_,set:l})?0:2:($(r,t,{configurable:!0,set:l}),2)}if(r!==e.target_&&"function"==typeof n.value)return ue(n.value)?(null!=(u=this.options_)&&u.autoBind?oo.bound:oo).make_(e,t,n,r):(null!=(a=this.options_)&&a.autoBind?Cr.bound:Cr).make_(e,t,n,r);var f=!1===(null==(o=this.options_)?void 0:o.deep)?qt.ref:qt,p;"function"==typeof n.value&&null!=(i=this.options_)&&i.autoBind&&(n.value=n.value.bind(null!=(p=e.proxy_)?p:e.target_));return f.make_(e,t,n,r)}function Tt(e,t,n,r){var o,i,a,u;if(n.get)return en.extend_(e,t,n,r);if(n.set)return e.defineProperty_(t,{configurable:!Hn.safeDescriptors||e.isPlainObject_,set:cn(t.toString(),n.set)},r);"function"==typeof n.value&&null!=(o=this.options_)&&o.autoBind&&(n.value=n.value.bind(null!=(a=e.proxy_)?a:e.target_));return(!1===(null==(i=this.options_)?void 0:i.deep)?qt.ref:qt).extend_(e,t,n,r)}function Lt(e,t){G("'"+this.annotationType_+"' cannot be used as a decorator")}var At="observable",Rt="observable.ref",Mt="observable.shallow",Dt="observable.struct",It={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Bt(e){return e||It}Object.freeze(It);var Vt=jt(At),Ft=jt(Rt,{enhancer:Je}),Gt=jt(Mt,{enhancer:Ke}),Ht=jt(Dt,{enhancer:Qe}),Ut=Re(Vt);function zt(e){return!0===e.deep?qe:!1===e.deep?Je:$t(e.defaultDecorator)}function Wt(e){var t;return e?null!=(t=e.defaultDecorator)?t:Nt(e):void 0}function $t(e){var t,n;return e&&null!=(t=null==(n=e.options_)?void 0:n.enhancer)?t:qe}function Xt(e,t,n){return Be(t)?Vt.decorate_20223_(e,t):oe(t)?void Me(e,t,Vt):mo(e)?e:ae(e)?qt.object(e,t,n):Array.isArray(e)?qt.array(e,t):fe(e)?qt.map(e,t):de(e)?qt.set(e,t):"object"==typeof e&&null!==e?e:qt.box(e,t)}z(Xt,Ut);var Yt,qt=z(Xt,{box:function e(t,n){var r=Bt(n);return new yn(t,zt(r),r.name,!0,r.equals)},array:function e(t,n){var r=Bt(n);return(!1===Hn.useProxies||!1===r.proxy?Fi:ri)(t,zt(r),r.name)},map:function e(t,n){var r=Bt(n);return new hi(t,zt(r),r.name)},set:function e(t,n){var r=Bt(n);return new gi(t,zt(r),r.name)},object:function e(t,n,r){return zi((function(){return Xr(!1===Hn.useProxies||!1===(null==r?void 0:r.proxy)?Si({},r):Ho({},r),t,n)}))},ref:Re(Ft),shallow:Re(Gt),deep:Ut,struct:Re(Ht)}),Kt="computed",Jt="computed.struct",Qt=mt(Kt),Zt=mt(Jt,{equals:Ye.structural}),en=function e(t,n){if(Be(n))return Qt.decorate_20223_(t,n);if(oe(n))return Me(t,n,Qt);if(ae(t))return Re(mt(Kt,t));var r=ae(n)?n:{};return r.get=t,r.name||(r.name=t.name||""),new bn(r)},tn,nn;Object.assign(en,Qt),en.struct=Re(Zt);var rn=0,on=1,an=null!=(tn=null==(nn=W((function(){}),"name"))?void 0:nn.configurable)&&tn,un={value:"action",configurable:!0,writable:!1,enumerable:!1};function cn(e,t,n,r){function o(){return sn(e,n,t,r||this,arguments)}return void 0===n&&(n=!1),o.isMobxAction=!0,o.toString=function(){return t.toString()},an&&(un.value=e,$(o,"name",un)),o}function sn(e,t,n,r,o){var i=ln(e,t,r,o);try{return n.apply(r,o)}catch(e){throw i.error_=e,e}finally{fn(i)}}function ln(e,t,n,r){var o=!1,i=0,a,u=Hn.trackingDerivation,c=!t||!u;Jn();var s=Hn.allowStateChanges;c&&(An(),s=dn(!0));var l,f={runAsAction_:c,prevDerivation_:u,prevAllowStateChanges_:s,prevAllowStateReads_:Mn(!0),notifySpy_:!1,startTime_:0,actionId_:on++,parentActionId_:rn};return rn=f.actionId_,f}function fn(e){rn!==e.actionId_&&G(30),rn=e.parentActionId_,void 0!==e.error_&&(Hn.suppressReactionErrors=!0),hn(e.prevAllowStateChanges_),Dn(e.prevAllowStateReads_),Qn(),e.runAsAction_&&Rn(e.prevDerivation_),Hn.suppressReactionErrors=!1}function pn(e,t){var n=dn(e);try{return t()}finally{hn(n)}}function dn(e){var t=Hn.allowStateChanges;return Hn.allowStateChanges=e,t}function hn(e){Hn.allowStateChanges=e}var vn="create",yn=function(e){function t(t,n,r,o,i){var a;return void 0===r&&(r="ObservableValue"),void 0===o&&(o=!0),void 0===i&&(i=Ye.default),(a=e.call(this,r)||this).enhancer=void 0,a.name_=void 0,a.equals=void 0,a.hasUnreportedChange_=!1,a.interceptors_=void 0,a.changeListeners_=void 0,a.value_=void 0,a.dehancer=void 0,a.enhancer=n,a.name_=r,a.equals=i,a.value_=n(t,void 0,r),a}xe(t,e);var n=t.prototype;return n.dehanceValue=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},n.set=function e(t){var n=this.value_;if((t=this.prepareNewValue_(t))!==Hn.UNCHANGED){var r=!1;0,this.setNewValue_(t)}},n.prepareNewValue_=function e(t){if(_n(this),Uo(this)){var n=Wo(this,{object:this,type:Zo,newValue:t});if(!n)return Hn.UNCHANGED;t=n.newValue}return t=this.enhancer(t,this.value_,this.name_),this.equals(this.value_,t)?Hn.UNCHANGED:t},n.setNewValue_=function e(t){var n=this.value_;this.value_=t,this.reportChanged(),$o(this)&&Yo(this,{type:Zo,object:this,newValue:t,oldValue:n})},n.get=function e(){return this.reportObserved(),this.dehanceValue(this.value_)},n.intercept_=function e(t){return zo(this,t)},n.observe_=function e(t,n){return n&&t({observableKind:"value",debugObjectName:this.name_,object:this,type:Zo,newValue:this.value_,oldValue:void 0}),Xo(this,t)},n.raw=function e(){return this.value_},n.toJSON=function e(){return this.get()},n.toString=function e(){return this.name_+"["+this.value_+"]"},n.valueOf=function e(){return be(this.get())},n[Symbol.toPrimitive]=function(){return this.valueOf()},t}(Ge),mn=le("ObservableValue",yn),bn=function(){function e(e){this.dependenciesState_=wn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.observers_=new Set,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=wn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new jn(null),this.name_=void 0,this.triggeredBy_=void 0,this.flags_=0,this.derivation=void 0,this.setter_=void 0,this.isTracing_=On.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,e.get||G(31),this.derivation=e.get,this.name_=e.name||"ComputedValue",e.set&&(this.setter_=cn("ComputedValue-setter",e.set)),this.equals_=e.equals||(e.compareStructural||e.struct?Ye.structural:Ye.default),this.scope_=e.context,this.requiresReaction_=e.requiresReaction,this.keepAlive_=!!e.keepAlive}var t=e.prototype;return t.onBecomeStale_=function e(){nr(this)},t.onBO=function e(){this.onBOL&&this.onBOL.forEach((function(e){return e()}))},t.onBUO=function e(){this.onBUOL&&this.onBUOL.forEach((function(e){return e()}))},t.get=function e(){if(this.isComputing&&G(32,this.name_,this.derivation),0!==Hn.inBatch||0!==this.observers_.size||this.keepAlive_){if(Zn(this),kn(this)){var t=Hn.trackingContext;this.keepAlive_&&!t&&(Hn.trackingContext=this),this.trackAndCompute()&&tr(this),Hn.trackingContext=t}}else kn(this)&&(this.warnAboutUntrackedRead_(),Jn(),this.value_=this.computeValue_(!1),Qn());var n=this.value_;if(En(n))throw n.cause;return n},t.set=function e(t){if(this.setter_){this.isRunningSetter&&G(33,this.name_),this.isRunningSetter=!0;try{this.setter_.call(this.scope_,t)}finally{this.isRunningSetter=!1}}else G(34,this.name_)},t.trackAndCompute=function e(){var t=this.value_,n=this.dependenciesState_===wn.NOT_TRACKING_,r=this.computeValue_(!0),o=n||En(t)||En(r)||!this.equals_(t,r);return o&&(this.value_=r),o},t.computeValue_=function e(t){this.isComputing=!0;var n=dn(!1),r;if(t)r=xn(this,this.derivation,this.scope_);else if(!0===Hn.disableErrorBoundaries)r=this.derivation.call(this.scope_);else try{r=this.derivation.call(this.scope_)}catch(e){r=new jn(e)}return hn(n),this.isComputing=!1,r},t.suspend_=function e(){this.keepAlive_||(Tn(this),this.value_=void 0)},t.observe_=function e(t,n){var r=this,o=!0,i=void 0;return Ar((function(){var e=r.get();if(!o||n){var a=An();t({observableKind:"computed",debugObjectName:r.name_,type:Zo,object:r,newValue:e,oldValue:i}),Rn(a)}o=!1,i=e}))},t.warnAboutUntrackedRead_=function e(){},t.toString=function e(){return this.name_+"["+this.derivation.toString()+"]"},t.valueOf=function e(){return be(this.get())},t[Symbol.toPrimitive]=function(){return this.valueOf()},Se(e,[{key:"isComputing",get:function t(){return Oe(this.flags_,e.isComputingMask_)},set:function t(n){this.flags_=je(this.flags_,e.isComputingMask_,n)}},{key:"isRunningSetter",get:function t(){return Oe(this.flags_,e.isRunningSetterMask_)},set:function t(n){this.flags_=je(this.flags_,e.isRunningSetterMask_,n)}},{key:"isBeingObserved",get:function t(){return Oe(this.flags_,e.isBeingObservedMask_)},set:function t(n){this.flags_=je(this.flags_,e.isBeingObservedMask_,n)}},{key:"isPendingUnobservation",get:function t(){return Oe(this.flags_,e.isPendingUnobservationMask_)},set:function t(n){this.flags_=je(this.flags_,e.isPendingUnobservationMask_,n)}},{key:"diffValue",get:function t(){return Oe(this.flags_,e.diffValueMask_)?1:0},set:function t(n){this.flags_=je(this.flags_,e.diffValueMask_,1===n)}}])}();bn.isComputingMask_=1,bn.isRunningSetterMask_=2,bn.isBeingObservedMask_=4,bn.isPendingUnobservationMask_=8,bn.diffValueMask_=16;var gn=le("ComputedValue",bn),wn,On;!function(e){e[e.NOT_TRACKING_=-1]="NOT_TRACKING_",e[e.UP_TO_DATE_=0]="UP_TO_DATE_",e[e.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",e[e.STALE_=2]="STALE_"}(wn||(wn={})),function(e){e[e.NONE=0]="NONE",e[e.LOG=1]="LOG",e[e.BREAK=2]="BREAK"}(On||(On={}));var jn=function e(t){this.cause=void 0,this.cause=t};function En(e){return e instanceof jn}function kn(e){switch(e.dependenciesState_){case wn.UP_TO_DATE_:return!1;case wn.NOT_TRACKING_:case wn.STALE_:return!0;case wn.POSSIBLY_STALE_:for(var t=Mn(!0),n=An(),r=e.observing_,o=r.length,i=0;i<o;i++){var a=r[i];if(gn(a)){if(Hn.disableErrorBoundaries)a.get();else try{a.get()}catch(e){return Rn(n),Dn(t),!0}if(e.dependenciesState_===wn.STALE_)return Rn(n),Dn(t),!0}}return In(e),Rn(n),Dn(t),!1}}function Sn(){return null!==Hn.trackingDerivation}function _n(e){var t}function Pn(e){0}function xn(e,t,n){var r=Mn(!0);In(e),e.newObserving_=new Array(0===e.runId_?100:e.observing_.length),e.unboundDepsCount_=0,e.runId_=++Hn.runId;var o=Hn.trackingDerivation,i;if(Hn.trackingDerivation=e,Hn.inBatch++,!0===Hn.disableErrorBoundaries)i=t.call(n);else try{i=t.call(n)}catch(e){i=new jn(e)}return Hn.inBatch--,Hn.trackingDerivation=o,Cn(e),Nn(e),Dn(r),i}function Nn(e){}function Cn(e){for(var t=e.observing_,n=e.observing_=e.newObserving_,r=wn.UP_TO_DATE_,o=0,i=e.unboundDepsCount_,a=0;a<i;a++){var u=n[a];0===u.diffValue&&(u.diffValue=1,o!==a&&(n[o]=u),o++),u.dependenciesState_>r&&(r=u.dependenciesState_)}for(n.length=o,e.newObserving_=null,i=t.length;i--;){var c=t[i];0===c.diffValue&&qn(c,e),c.diffValue=0}for(;o--;){var s=n[o];1===s.diffValue&&(s.diffValue=0,Yn(s,e))}r!==wn.UP_TO_DATE_&&(e.dependenciesState_=r,e.onBecomeStale_())}function Tn(e){var t=e.observing_;e.observing_=[];for(var n=t.length;n--;)qn(t[n],e);e.dependenciesState_=wn.NOT_TRACKING_}function Ln(e){var t=An();try{return e()}finally{Rn(t)}}function An(){var e=Hn.trackingDerivation;return Hn.trackingDerivation=null,e}function Rn(e){Hn.trackingDerivation=e}function Mn(e){var t=Hn.allowStateReads;return Hn.allowStateReads=e,t}function Dn(e){Hn.allowStateReads=e}function In(e){if(e.dependenciesState_!==wn.UP_TO_DATE_){e.dependenciesState_=wn.UP_TO_DATE_;for(var t=e.observing_,n=t.length;n--;)t[n].lowestObserverState_=wn.UP_TO_DATE_}}var Bn=["mobxGuid","spyListeners","enforceActions","computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","allowStateReads","disableErrorBoundaries","runId","UNCHANGED","useProxies"],Vn=function e(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},Fn=!0,Gn=!1,Hn=function(){var e=U();return e.__mobxInstanceCount>0&&!e.__mobxGlobals&&(Fn=!1),e.__mobxGlobals&&e.__mobxGlobals.version!==(new Vn).version&&(Fn=!1),Fn?e.__mobxGlobals?(e.__mobxInstanceCount+=1,e.__mobxGlobals.UNCHANGED||(e.__mobxGlobals.UNCHANGED={}),e.__mobxGlobals):(e.__mobxInstanceCount=1,e.__mobxGlobals=new Vn):(setTimeout((function(){Gn||G(35)}),1),new Vn)}();function Un(){if((Hn.pendingReactions.length||Hn.inBatch||Hn.isRunningReactions)&&G(36),Gn=!0,Fn){var e=U();0==--e.__mobxInstanceCount&&(e.__mobxGlobals=void 0),Hn=new Vn}}function zn(){return Hn}function Wn(){var e=new Vn;for(var t in e)-1===Bn.indexOf(t)&&(Hn[t]=e[t]);Hn.allowStateChanges=!Hn.enforceActions}function $n(e){return e.observers_&&e.observers_.size>0}function Xn(e){return e.observers_}function Yn(e,t){e.observers_.add(t),e.lowestObserverState_>t.dependenciesState_&&(e.lowestObserverState_=t.dependenciesState_)}function qn(e,t){e.observers_.delete(t),0===e.observers_.size&&Kn(e)}function Kn(e){!1===e.isPendingUnobservation&&(e.isPendingUnobservation=!0,Hn.pendingUnobservations.push(e))}function Jn(){Hn.inBatch++}function Qn(){if(0==--Hn.inBatch){sr();for(var e=Hn.pendingUnobservations,t=0;t<e.length;t++){var n=e[t];n.isPendingUnobservation=!1,0===n.observers_.size&&(n.isBeingObserved&&(n.isBeingObserved=!1,n.onBUO()),n instanceof bn&&n.suspend_())}Hn.pendingUnobservations=[]}}function Zn(e){Pn(e);var t=Hn.trackingDerivation;return null!==t?(t.runId_!==e.lastAccessedBy_&&(e.lastAccessedBy_=t.runId_,t.newObserving_[t.unboundDepsCount_++]=e,!e.isBeingObserved&&Hn.trackingContext&&(e.isBeingObserved=!0,e.onBO())),e.isBeingObserved):(0===e.observers_.size&&Hn.inBatch>0&&Kn(e),!1)}function er(e){e.lowestObserverState_!==wn.STALE_&&(e.lowestObserverState_=wn.STALE_,e.observers_.forEach((function(e){e.dependenciesState_===wn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=wn.STALE_})))}function tr(e){e.lowestObserverState_!==wn.STALE_&&(e.lowestObserverState_=wn.STALE_,e.observers_.forEach((function(t){t.dependenciesState_===wn.POSSIBLY_STALE_?t.dependenciesState_=wn.STALE_:t.dependenciesState_===wn.UP_TO_DATE_&&(e.lowestObserverState_=wn.UP_TO_DATE_)})))}function nr(e){e.lowestObserverState_===wn.UP_TO_DATE_&&(e.lowestObserverState_=wn.POSSIBLY_STALE_,e.observers_.forEach((function(e){e.dependenciesState_===wn.UP_TO_DATE_&&(e.dependenciesState_=wn.POSSIBLY_STALE_,e.onBecomeStale_())})))}function rr(e,t){if(console.log("[mobx.trace] '"+e.name_+"' is invalidated due to a change in: '"+t.name_+"'"),e.isTracing_===On.BREAK){var n=[];or(Yr(e),n,1),new Function("debugger;\n/*\nTracing '"+e.name_+"'\n\nYou are entering this break point because derivation '"+e.name_+"' is being traced and '"+t.name_+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(e instanceof bn?e.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+n.join("\n")+"\n*/\n    ")()}}function or(e,t,n){t.length>=1e3?t.push("(and many more)"):(t.push(""+"\t".repeat(n-1)+e.name),e.dependencies&&e.dependencies.forEach((function(e){return or(e,t,n+1)})))}var ir=function(){function e(e,t,n,r){void 0===e&&(e="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=wn.NOT_TRACKING_,this.runId_=0,this.unboundDepsCount_=0,this.flags_=0,this.isTracing_=On.NONE,this.name_=e,this.onInvalidate_=t,this.errorHandler_=n,this.requiresObservable_=r}var t=e.prototype;return t.onBecomeStale_=function e(){this.schedule_()},t.schedule_=function e(){this.isScheduled||(this.isScheduled=!0,Hn.pendingReactions.push(this),sr())},t.runReaction_=function e(){if(!this.isDisposed){Jn(),this.isScheduled=!1;var t=Hn.trackingContext;if(Hn.trackingContext=this,kn(this)){this.isTrackPending=!0;try{this.onInvalidate_()}catch(e){this.reportExceptionInDerivation_(e)}}Hn.trackingContext=t,Qn()}},t.track=function e(t){if(!this.isDisposed){Jn();var n=!1,r;0,this.isRunning=!0;var o=Hn.trackingContext;Hn.trackingContext=this;var i=xn(this,t,void 0);Hn.trackingContext=o,this.isRunning=!1,this.isTrackPending=!1,this.isDisposed&&Tn(this),En(i)&&this.reportExceptionInDerivation_(i.cause),Qn()}},t.reportExceptionInDerivation_=function e(t){var n=this;if(this.errorHandler_)this.errorHandler_(t,this);else{if(Hn.disableErrorBoundaries)throw t;var r="[mobx] uncaught error in '"+this+"'";Hn.suppressReactionErrors||console.error(r,t),Hn.globalReactionErrorHandlers.forEach((function(e){return e(t,n)}))}},t.dispose=function e(){this.isDisposed||(this.isDisposed=!0,this.isRunning||(Jn(),Tn(this),Qn()))},t.getDisposer_=function e(t){var n=this,r=function e(){n.dispose(),null==t||null==t.removeEventListener||t.removeEventListener("abort",e)};return null==t||null==t.addEventListener||t.addEventListener("abort",r),r[Fe]=this,r},t.toString=function e(){return"Reaction["+this.name_+"]"},t.trace=function e(t){void 0===t&&(t=!1),Ro(this,t)},Se(e,[{key:"isDisposed",get:function t(){return Oe(this.flags_,e.isDisposedMask_)},set:function t(n){this.flags_=je(this.flags_,e.isDisposedMask_,n)}},{key:"isScheduled",get:function t(){return Oe(this.flags_,e.isScheduledMask_)},set:function t(n){this.flags_=je(this.flags_,e.isScheduledMask_,n)}},{key:"isTrackPending",get:function t(){return Oe(this.flags_,e.isTrackPendingMask_)},set:function t(n){this.flags_=je(this.flags_,e.isTrackPendingMask_,n)}},{key:"isRunning",get:function t(){return Oe(this.flags_,e.isRunningMask_)},set:function t(n){this.flags_=je(this.flags_,e.isRunningMask_,n)}},{key:"diffValue",get:function t(){return Oe(this.flags_,e.diffValueMask_)?1:0},set:function t(n){this.flags_=je(this.flags_,e.diffValueMask_,1===n)}}])}();function ar(e){return Hn.globalReactionErrorHandlers.push(e),function(){var t=Hn.globalReactionErrorHandlers.indexOf(e);t>=0&&Hn.globalReactionErrorHandlers.splice(t,1)}}ir.isDisposedMask_=1,ir.isScheduledMask_=2,ir.isTrackPendingMask_=4,ir.isRunningMask_=8,ir.diffValueMask_=16;var ur=100,cr=function e(t){return t()};function sr(){Hn.inBatch>0||Hn.isRunningReactions||cr(lr)}function lr(){Hn.isRunningReactions=!0;for(var e=Hn.pendingReactions,t=0;e.length>0;){100==++t&&(console.error("[mobx] cycle in reaction: "+e[0]),e.splice(0));for(var n=e.splice(0),r=0,o=n.length;r<o;r++)n[r].runReaction_()}Hn.isRunningReactions=!1}var fr=le("Reaction",ir);function pr(e){var t=cr;cr=function n(r){return e((function(){return t(r)}))}}function dr(){return!1}function hr(e){var t,n,r}function vr(e){var t}var yr={type:"report-end",spyReportEnd:!0};function mr(e){}function br(e){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}var gr="action",wr="action.bound",Or="autoAction",jr="autoAction.bound",Er="<unnamed action>",kr=it(gr),Sr=it(wr,{bound:!0}),_r=it(Or,{autoAction:!0}),Pr=it(jr,{autoAction:!0,bound:!0});function xr(e){var t;return function t(n,r){return re(n)?cn(n.name||"<unnamed action>",n,e):re(r)?cn(n,r,e):Be(r)?(e?_r:kr).decorate_20223_(n,r):oe(r)?Me(n,r,e?_r:kr):oe(n)?Re(it(e?Or:gr,{name:n,autoAction:e})):void 0}}var Nr=xr(!1);Object.assign(Nr,kr);var Cr=xr(!0);function Tr(e){return sn(e.name||"<unnamed action>",!1,e,this,void 0)}function Lr(e){return re(e)&&!0===e.isMobxAction}function Ar(e,t){var n,r,o,i;void 0===t&&(t=q);var a=null!=(n=null==(r=t)?void 0:r.name)?n:"Autorun",u,c;if(!t.scheduler&&!t.delay)c=new ir(a,(function(){this.track(f)}),t.onError,t.requiresObservable);else{var s=Mr(t),l=!1;c=new ir(a,(function(){l||(l=!0,s((function(){l=!1,c.isDisposed||c.track(f)})))}),t.onError,t.requiresObservable)}function f(){e(c)}return null!=(o=t)&&null!=(o=o.signal)&&o.aborted||c.schedule_(),c.getDisposer_(null==(i=t)?void 0:i.signal)}Object.assign(Cr,_r),Nr.bound=Re(Sr),Cr.bound=Re(Pr);var Rr=function e(t){return t()};function Mr(e){return e.scheduler?e.scheduler:e.delay?function(t){return setTimeout(t,e.delay)}:Rr}function Dr(e,t,n){var r,o,i;void 0===n&&(n=q);var a=null!=(r=n.name)?r:"Reaction",u=Nr(a,n.onError?Ir(n.onError,t):t),c=!n.scheduler&&!n.delay,s=Mr(n),l=!0,f=!1,p,d=n.compareStructural?Ye.structural:n.equals||Ye.default,h=new ir(a,(function(){l||c?v():f||(f=!0,s(v))}),n.onError,n.requiresObservable);function v(){if(f=!1,!h.isDisposed){var t=!1,r=p;h.track((function(){var n=pn(!1,(function(){return e(h)}));t=l||!d(p,n),p=n})),(l&&n.fireImmediately||!l&&t)&&u(p,r,h),l=!1}}return null!=(o=n)&&null!=(o=o.signal)&&o.aborted||h.schedule_(),h.getDisposer_(null==(i=n)?void 0:i.signal)}function Ir(e,t){return function(){try{return t.apply(this,arguments)}catch(t){e.call(this,t)}}}var Br="onBO",Vr="onBUO";function Fr(e,t,n){return Hr("onBO",e,t,n)}function Gr(e,t,n){return Hr("onBUO",e,t,n)}function Hr(e,t,n,r){var o="function"==typeof r?Gi(t,n):Gi(t),i=re(r)?r:n,a=e+"L";return o[a]?o[a].add(i):o[a]=new Set([i]),function(){var e=o[a];e&&(e.delete(i),0===e.size&&delete o[a])}}var Ur="never",zr="always",Wr="observed";function $r(e){!0===e.isolateGlobalState&&Un();var t=e.useProxies,n=e.enforceActions;if(void 0!==t&&(Hn.useProxies=t===zr||t!==Ur&&"undefined"!=typeof Proxy),"ifavailable"===t&&(Hn.verifyProxies=!0),void 0!==n){var r=n===zr?zr:n===Wr;Hn.enforceActions=r,Hn.allowStateChanges=!0!==r&&r!==zr}["computedRequiresReaction","reactionRequiresObservable","observableRequiresReaction","disableErrorBoundaries","safeDescriptors"].forEach((function(t){t in e&&(Hn[t]=!!e[t])})),Hn.allowStateReads=!Hn.observableRequiresReaction,e.reactionScheduler&&pr(e.reactionScheduler)}function Xr(e,t,n,r){var o=we(t);return zi((function(){var t=Si(e,r)[Fe];ye(o).forEach((function(e){t.extend_(e,o[e],!n||(!(e in n)||n[e]))}))})),e}function Yr(e,t){return qr(Gi(e,t))}function qr(e){var t={name:e.name_};return e.observing_&&e.observing_.length>0&&(t.dependencies=Qr(e.observing_).map(qr)),t}function Kr(e,t){return Jr(Gi(e,t))}function Jr(e){var t={name:e.name_};return $n(e)&&(t.observers=Array.from(Xn(e)).map(Jr)),t}function Qr(e){return Array.from(new Set(e))}var Zr=0;function eo(){this.message="FLOW_CANCELLED"}function to(e){return e instanceof eo}eo.prototype=Object.create(Error.prototype);var no=ft("flow"),ro=ft("flow.bound",{bound:!0}),oo=Object.assign((function e(t,n){if(Be(n))return no.decorate_20223_(t,n);if(oe(n))return Me(t,n,no);var r=t,o=r.name||"<unnamed flow>",i=function e(){var t=this,n=arguments,i=++Zr,a=Nr(o+" - runid: "+i+" - init",r).apply(t,n),u,c=void 0,s=new Promise((function(e,t){var n=0;function r(e){var r;c=void 0;try{r=Nr(o+" - runid: "+i+" - yield "+n++,a.next).call(a,e)}catch(e){return t(e)}l(r)}function s(e){var r;c=void 0;try{r=Nr(o+" - runid: "+i+" - yield "+n++,a.throw).call(a,e)}catch(e){return t(e)}l(r)}function l(n){if(!re(null==n?void 0:n.then))return n.done?e(n.value):(c=Promise.resolve(n.value)).then(r,s);n.then(l,t)}u=t,r(void 0)}));return s.cancel=Nr(o+" - runid: "+i+" - cancel",(function(){try{c&&io(c);var e=a.return(void 0),t=Promise.resolve(e.value);t.then(ne,ne),io(t),u(new eo)}catch(e){u(e)}})),s};return i.isMobXFlow=!0,i}),no);function io(e){re(e.cancel)&&e.cancel()}function ao(e){return e}function uo(e){return!0===(null==e?void 0:e.isMobXFlow)}function co(e,t,n){var r;return vi(e)||li(e)||mn(e)?r=Hi(e):xi(e)&&(r=Hi(e,t)),r.dehancer="function"==typeof t?t:n,function(){r.dehancer=void 0}}function so(e,t,n){return re(n)?fo(e,t,n):lo(e,t)}function lo(e,t){return Hi(e).intercept_(t)}function fo(e,t,n){return Hi(e,t).intercept_(n)}function po(e,t){if(void 0===t)return gn(e);if(!1===xi(e))return!1;if(!e[Fe].values_.has(t))return!1;var n=Gi(e,t);return gn(n)}function ho(e){return po(e)}function vo(e,t){return po(e,t)}function yo(e,t){return!!e&&(void 0!==t?!!xi(e)&&e[Fe].values_.has(t):xi(e)||!!e[Fe]||He(e)||fr(e)||gn(e))}function mo(e){return yo(e)}function bo(e,t){return yo(e,t)}function go(e){return xi(e)?e[Fe].keys_():vi(e)||wi(e)?Array.from(e.keys()):li(e)?e.map((function(e,t){return t})):void G(5)}function wo(e){return xi(e)?go(e).map((function(t){return e[t]})):vi(e)?go(e).map((function(t){return e.get(t)})):wi(e)?Array.from(e.values()):li(e)?e.slice():void G(6)}function Oo(e){return xi(e)?go(e).map((function(t){return[t,e[t]]})):vi(e)?go(e).map((function(t){return[t,e.get(t)]})):wi(e)?Array.from(e.entries()):li(e)?e.map((function(e,t){return[t,e]})):void G(7)}function jo(e,t,n){if(2!==arguments.length||wi(e))xi(e)?e[Fe].set_(t,n):vi(e)?e.set(t,n):wi(e)?e.add(t):li(e)?("number"!=typeof t&&(t=parseInt(t,10)),t<0&&G("Invalid index: '"+t+"'"),Jn(),t>=e.length&&(e.length=t+1),e[t]=n,Qn()):G(8);else{Jn();var r=t;try{for(var o in r)jo(e,o,r[o])}finally{Qn()}}}function Eo(e,t){xi(e)?e[Fe].delete_(t):vi(e)||wi(e)?e.delete(t):li(e)?("number"!=typeof t&&(t=parseInt(t,10)),e.splice(t,1)):G(9)}function ko(e,t){return xi(e)?e[Fe].has_(t):vi(e)||wi(e)?e.has(t):li(e)?t>=0&&t<e.length:void G(10)}function So(e,t){if(ko(e,t))return xi(e)?e[Fe].get_(t):vi(e)?e.get(t):li(e)?e[t]:void G(11)}function _o(e,t,n){if(xi(e))return e[Fe].defineProperty_(t,n);G(39)}function Po(e){if(xi(e))return e[Fe].ownKeys_();G(38)}function xo(e,t,n,r){return re(n)?Co(e,t,n,r):No(e,t,n)}function No(e,t,n){return Hi(e).observe_(t,n)}function Co(e,t,n,r){return Hi(e,t).observe_(n,r)}function To(e,t,n){return e.set(t,n),n}function Lo(e,t){if(null==e||"object"!=typeof e||e instanceof Date||!mo(e))return e;if(mn(e)||gn(e))return Lo(e.get(),t);if(t.has(e))return t.get(e);if(li(e)){var n=To(t,e,new Array(e.length));return e.forEach((function(e,r){n[r]=Lo(e,t)})),n}if(wi(e)){var r=To(t,e,new Set);return e.forEach((function(e){r.add(Lo(e,t))})),r}if(vi(e)){var o=To(t,e,new Map);return e.forEach((function(e,n){o.set(n,Lo(e,t))})),o}var i=To(t,e,{});return Po(e).forEach((function(n){X.propertyIsEnumerable.call(e,n)&&(i[n]=Lo(e[n],t))})),i}function Ao(e,t){return Lo(e,new Map)}function Ro(){var e,t,n,r,o}function Mo(e){switch(e.length){case 0:return Hn.trackingDerivation;case 1:return Gi(e[0]);case 2:return Gi(e[0],e[1])}}function Do(e,t){void 0===t&&(t=void 0),Jn();try{return e.apply(t)}finally{Qn()}}function Io(e,t,n){return 1===arguments.length||t&&"object"==typeof t?Vo(e,t):Bo(e,t,n||{})}function Bo(e,t,n){var r;if("number"==typeof n.timeout){var o=new Error("WHEN_TIMEOUT");r=setTimeout((function(){if(!a[Fe].isDisposed){if(a(),!n.onError)throw o;n.onError(o)}}),n.timeout)}n.name="When";var i=cn("When-effect",t),a=Ar((function(t){var n;pn(!1,e)&&(t.dispose(),r&&clearTimeout(r),i())}),n);return a}function Vo(e,t){var n,r,o;if(null!=t&&null!=(n=t.signal)&&n.aborted)return Object.assign(Promise.reject(new Error("WHEN_ABORTED")),{cancel:function e(){return null}});var i=new Promise((function(n,i){var a,u=Bo(e,n,Pe({},t,{onError:i}));r=function e(){u(),i(new Error("WHEN_CANCELLED"))},o=function e(){u(),i(new Error("WHEN_ABORTED"))},null==t||null==(a=t.signal)||null==a.addEventListener||a.addEventListener("abort",o)})).finally((function(){var e;return null==t||null==(e=t.signal)||null==e.removeEventListener?void 0:e.removeEventListener("abort",o)}));return i.cancel=r,i}function Fo(e){return e[Fe]}oo.bound=Re(ro);var Go={has:function e(t,n){return Fo(t).has_(n)},get:function e(t,n){return Fo(t).get_(n)},set:function e(t,n,r){var o;return!!oe(n)&&(null==(o=Fo(t).set_(n,r,!0))||o)},deleteProperty:function e(t,n){var r;return!!oe(n)&&(null==(r=Fo(t).delete_(n,!0))||r)},defineProperty:function e(t,n,r){var o;return null==(o=Fo(t).defineProperty_(n,r))||o},ownKeys:function e(t){return Fo(t).ownKeys_()},preventExtensions:function e(t){G(13)}};function Ho(e,t){var n,r;return Q(),null!=(r=(n=(e=Si(e,t))[Fe]).proxy_)?r:n.proxy_=new Proxy(e,Go)}function Uo(e){return void 0!==e.interceptors_&&e.interceptors_.length>0}function zo(e,t){var n=e.interceptors_||(e.interceptors_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Wo(e,t){var n=An();try{for(var r=[].concat(e.interceptors_||[]),o=0,i=r.length;o<i&&((t=r[o](t))&&!t.type&&G(14),t);o++);return t}finally{Rn(n)}}function $o(e){return void 0!==e.changeListeners_&&e.changeListeners_.length>0}function Xo(e,t){var n=e.changeListeners_||(e.changeListeners_=[]);return n.push(t),te((function(){var e=n.indexOf(t);-1!==e&&n.splice(e,1)}))}function Yo(e,t){var n=An(),r=e.changeListeners_;if(r){for(var o=0,i=(r=r.slice()).length;o<i;o++)r[o](t);Rn(n)}}function qo(e,t,n){return zi((function(){var r,o=Si(e,n)[Fe];null!=(r=t)||(t=Ie(e)),ye(t).forEach((function(e){return o.make_(e,t[e])}))})),e}var Ko=Symbol("mobx-keys");function Jo(e,t,n){return ae(e)?Xr(e,e,t,n):(zi((function(){var r=Si(e,n)[Fe];if(!e[Ko]){var o=Object.getPrototypeOf(e),i=new Set([].concat(ye(e),ye(o)));i.delete("constructor"),i.delete(Fe),ce(o,Ko,i)}e[Ko].forEach((function(e){return r.make_(e,!t||(!(e in t)||t[e]))}))})),e)}var Qo="splice",Zo="update",ei=1e4,ti={get:function e(t,n){var r=t[Fe];return n===Fe?r:"length"===n?r.getArrayLength_():"string"!=typeof n||isNaN(n)?ge(oi,n)?oi[n]:t[n]:r.get_(parseInt(n))},set:function e(t,n,r){var o=t[Fe];return"length"===n&&o.setArrayLength_(r),"symbol"==typeof n||isNaN(n)?t[n]=r:o.set_(parseInt(n),r),!0},preventExtensions:function e(){G(15)}},ni=function(){function e(e,t,n,r){void 0===e&&(e="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=n,this.legacyMode_=r,this.atom_=new Ge(e),this.enhancer_=function(e,n){return t(e,n,"ObservableArray[..]")}}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.dehanceValues_=function e(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.intercept_=function e(t){return zo(this,t)},t.observe_=function e(t,n){return void 0===n&&(n=!1),n&&t({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Xo(this,t)},t.getArrayLength_=function e(){return this.atom_.reportObserved(),this.values_.length},t.setArrayLength_=function e(t){("number"!=typeof t||isNaN(t)||t<0)&&G("Out of range: "+t);var n=this.values_.length;if(t!==n)if(t>n){for(var r=new Array(t-n),o=0;o<t-n;o++)r[o]=void 0;this.spliceWithArray_(n,0,r)}else this.spliceWithArray_(t,n-t)},t.updateArrayLength_=function e(t,n){t!==this.lastKnownLength_&&G(16),this.lastKnownLength_+=n,this.legacyMode_&&n>0&&Vi(t+n+1)},t.spliceWithArray_=function e(t,n,r){var o=this;_n(this.atom_);var i=this.values_.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),n=1===arguments.length?i-t:null==n?0:Math.max(0,Math.min(n,i-t)),void 0===r&&(r=Y),Uo(this)){var a=Wo(this,{object:this.proxy_,type:Qo,index:t,removedCount:n,added:r});if(!a)return Y;n=a.removedCount,r=a.added}if(r=0===r.length?r:r.map((function(e){return o.enhancer_(e,void 0)})),this.legacyMode_){var u=r.length-n;this.updateArrayLength_(i,u)}var c=this.spliceItemsIntoValues_(t,n,r);return 0===n&&0===r.length||this.notifyArraySplice_(t,r,c),this.dehanceValues_(c)},t.spliceItemsIntoValues_=function e(t,n,r){var o;if(r.length<1e4)return(o=this.values_).splice.apply(o,[t,n].concat(r));var i=this.values_.slice(t,t+n),a=this.values_.slice(t+n);this.values_.length+=r.length-n;for(var u=0;u<r.length;u++)this.values_[t+u]=r[u];for(var c=0;c<a.length;c++)this.values_[t+r.length+c]=a[c];return i},t.notifyArrayChildUpdate_=function e(t,n,r){var o=!this.owned_&&!1,i=$o(this),a=i||o?{observableKind:"array",object:this.proxy_,type:Zo,debugObjectName:this.atom_.name_,index:t,newValue:n,oldValue:r}:null;this.atom_.reportChanged(),i&&Yo(this,a)},t.notifyArraySplice_=function e(t,n,r){var o=!this.owned_&&!1,i=$o(this),a=i||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:Qo,index:t,removed:r,added:n,removedCount:r.length,addedCount:n.length}:null;this.atom_.reportChanged(),i&&Yo(this,a)},t.get_=function e(t){if(!(this.legacyMode_&&t>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[t]);console.warn("[mobx] Out of bounds read: "+t)},t.set_=function e(t,n){var r=this.values_;if(this.legacyMode_&&t>r.length&&G(17,t,r.length),t<r.length){_n(this.atom_);var o=r[t],i;if(Uo(this)){var a=Wo(this,{type:Zo,object:this.proxy_,index:t,newValue:n});if(!a)return;n=a.newValue}(n=this.enhancer_(n,o))!==o&&(r[t]=n,this.notifyArrayChildUpdate_(t,n,o))}else{for(var u=new Array(t+1-r.length),c=0;c<u.length-1;c++)u[c]=void 0;u[u.length-1]=n,this.spliceWithArray_(r.length,0,u)}},e}();function ri(e,t,n,r){return void 0===n&&(n="ObservableArray"),void 0===r&&(r=!1),Q(),zi((function(){var o=new ni(n,t,r,!1);se(o.values_,Fe,o);var i=new Proxy(o.values_,ti);return o.proxy_=i,e&&e.length&&o.spliceWithArray_(0,0,e),i}))}var oi={clear:function e(){return this.splice(0)},replace:function e(t){var n=this[Fe];return n.spliceWithArray_(0,n.values_.length,t)},toJSON:function e(){return this.slice()},splice:function e(t,n){for(var r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];var a=this[Fe];switch(arguments.length){case 0:return[];case 1:return a.spliceWithArray_(t);case 2:return a.spliceWithArray_(t,n)}return a.spliceWithArray_(t,n,o)},spliceWithArray:function e(t,n,r){return this[Fe].spliceWithArray_(t,n,r)},push:function e(){for(var t=this[Fe],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(t.values_.length,0,r),t.values_.length},pop:function e(){return this.splice(Math.max(this[Fe].values_.length-1,0),1)[0]},shift:function e(){return this.splice(0,1)[0]},unshift:function e(){for(var t=this[Fe],n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t.spliceWithArray_(0,0,r),t.values_.length},reverse:function e(){return Hn.trackingDerivation&&G(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function e(){Hn.trackingDerivation&&G(37,"sort");var t=this.slice();return t.sort.apply(t,arguments),this.replace(t),this},remove:function e(t){var n=this[Fe],r=n.dehanceValues_(n.values_).indexOf(t);return r>-1&&(this.splice(r,1),!0)}};function ii(e,t){"function"==typeof Array.prototype[e]&&(oi[e]=t(e))}function ai(e){return function(){var t=this[Fe];t.atom_.reportObserved();var n=t.dehanceValues_(t.values_);return n[e].apply(n,arguments)}}function ui(e){return function(t,n){var r=this,o=this[Fe],i;return o.atom_.reportObserved(),o.dehanceValues_(o.values_)[e]((function(e,o){return t.call(n,e,o,r)}))}}function ci(e){return function(){var t=this,n=this[Fe];n.atom_.reportObserved();var r=n.dehanceValues_(n.values_),o=arguments[0];return arguments[0]=function(e,n,r){return o(e,n,r,t)},r[e].apply(r,arguments)}}ii("at",ai),ii("concat",ai),ii("flat",ai),ii("includes",ai),ii("indexOf",ai),ii("join",ai),ii("lastIndexOf",ai),ii("slice",ai),ii("toString",ai),ii("toLocaleString",ai),ii("toSorted",ai),ii("toSpliced",ai),ii("with",ai),ii("every",ui),ii("filter",ui),ii("find",ui),ii("findIndex",ui),ii("findLast",ui),ii("findLastIndex",ui),ii("flatMap",ui),ii("forEach",ui),ii("map",ui),ii("some",ui),ii("toReversed",ui),ii("reduce",ci),ii("reduceRight",ci);var si=le("ObservableArrayAdministration",ni);function li(e){return ie(e)&&si(e[Fe])}var fi={},pi="add",di="delete",hi=function(){function e(e,t,n){var r=this;void 0===t&&(t=qe),void 0===n&&(n="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[Fe]=fi,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=t,this.name_=n,re(Map)||G(18),zi((function(){r.keysAtom_=Ue("ObservableMap.keys()"),r.data_=new Map,r.hasMap_=new Map,e&&r.merge(e)}))}var t=e.prototype;return t.has_=function e(t){return this.data_.has(t)},t.has=function e(t){var n=this;if(!Hn.trackingDerivation)return this.has_(t);var r=this.hasMap_.get(t);if(!r){var o=r=new yn(this.has_(t),Je,"ObservableMap.key?",!1);this.hasMap_.set(t,o),Gr(o,(function(){return n.hasMap_.delete(t)}))}return r.get()},t.set=function e(t,n){var r=this.has_(t);if(Uo(this)){var o=Wo(this,{type:r?Zo:pi,object:this,newValue:n,name:t});if(!o)return this;n=o.newValue}return r?this.updateValue_(t,n):this.addValue_(t,n),this},t.delete=function e(t){var n=this,r;if((_n(this.keysAtom_),Uo(this))&&!Wo(this,{type:di,object:this,name:t}))return!1;if(this.has_(t)){var o=!1,i=$o(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:di,object:this,oldValue:this.data_.get(t).value_,name:t}:null;return Do((function(){var e,r;n.keysAtom_.reportChanged(),null==(e=n.hasMap_.get(t))||e.setNewValue_(!1),n.data_.get(t).setNewValue_(void 0),n.data_.delete(t)})),i&&Yo(this,a),!0}return!1},t.updateValue_=function e(t,n){var r=this.data_.get(t);if((n=r.prepareNewValue_(n))!==Hn.UNCHANGED){var o=!1,i=$o(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:Zo,object:this,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Yo(this,a)}},t.addValue_=function e(t,n){var r=this;_n(this.keysAtom_),Do((function(){var e,o=new yn(n,r.enhancer_,"ObservableMap.key",!1);r.data_.set(t,o),n=o.value_,null==(e=r.hasMap_.get(t))||e.setNewValue_(!0),r.keysAtom_.reportChanged()}));var o=!1,i=$o(this),a=i?{observableKind:"map",debugObjectName:this.name_,type:pi,object:this,name:t,newValue:n}:null;i&&Yo(this,a)},t.get=function e(t){return this.has(t)?this.dehanceValue_(this.data_.get(t).get()):this.dehanceValue_(void 0)},t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.keys=function e(){return this.keysAtom_.reportObserved(),this.data_.keys()},t.values=function e(){var t=this,n=this.keys();return yi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:t.get(i)}}})},t.entries=function e(){var t=this,n=this.keys();return yi({next:function e(){var r=n.next(),o=r.done,i=r.value;return{done:o,value:o?void 0:[i,t.get(i)]}}})},t[Symbol.iterator]=function(){return this.entries()},t.forEach=function e(t,n){for(var r=_e(this),o;!(o=r()).done;){var i=o.value,a=i[0],u=i[1];t.call(n,u,a,this)}},t.merge=function e(t){var n=this;return vi(t)&&(t=new Map(t)),Do((function(){ae(t)?ve(t).forEach((function(e){return n.set(e,t[e])})):Array.isArray(t)?t.forEach((function(e){var t=e[0],r=e[1];return n.set(t,r)})):fe(t)?(pe(t)||G(19,t),t.forEach((function(e,t){return n.set(t,e)}))):null!=t&&G(20,t)})),this},t.clear=function e(){var t=this;Do((function(){Ln((function(){for(var e=_e(t.keys()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.replace=function e(t){var n=this;return Do((function(){for(var e=mi(t),r=new Map,o=!1,i=_e(n.data_.keys()),a;!(a=i()).done;){var u=a.value,c;if(!e.has(u))if(n.delete(u))o=!0;else{var s=n.data_.get(u);r.set(u,s)}}for(var l=_e(e.entries()),f;!(f=l()).done;){var p=f.value,d=p[0],h=p[1],v=n.data_.has(d);if(n.set(d,h),n.data_.has(d)){var y=n.data_.get(d);r.set(d,y),v||(o=!0)}}if(!o)if(n.data_.size!==r.size)n.keysAtom_.reportChanged();else for(var m=n.data_.keys(),b=r.keys(),g=m.next(),w=b.next();!g.done;){if(g.value!==w.value){n.keysAtom_.reportChanged();break}g=m.next(),w=b.next()}n.data_=r})),this},t.toString=function e(){return"[object ObservableMap]"},t.toJSON=function e(){return Array.from(this)},t.observe_=function e(t,n){return Xo(this,t)},t.intercept_=function e(t){return zo(this,t)},Se(e,[{key:"size",get:function e(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function e(){return"Map"}}])}(),vi=le("ObservableMap",hi);function yi(e){return e[Symbol.toStringTag]="MapIterator",Ji(e)}function mi(e){if(fe(e)||vi(e))return e;if(Array.isArray(e))return new Map(e);if(ae(e)){var t=new Map;for(var n in e)t.set(n,e[n]);return t}return G(21,e)}var bi={},gi=function(){function e(e,t,n){var r=this;void 0===t&&(t=qe),void 0===n&&(n="ObservableSet"),this.name_=void 0,this[Fe]=bi,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=n,re(Set)||G(22),this.enhancer_=function(e,r){return t(e,r,n)},zi((function(){r.atom_=Ue(r.name_),e&&r.replace(e)}))}var t=e.prototype;return t.dehanceValue_=function e(t){return void 0!==this.dehancer?this.dehancer(t):t},t.clear=function e(){var t=this;Do((function(){Ln((function(){for(var e=_e(t.data_.values()),n;!(n=e()).done;){var r=n.value;t.delete(r)}}))}))},t.forEach=function e(t,n){for(var r=_e(this),o;!(o=r()).done;){var i=o.value;t.call(n,i,i,this)}},t.add=function e(t){var n=this,r;if((_n(this.atom_),Uo(this))&&!Wo(this,{type:pi,object:this,newValue:t}))return this;if(!this.has(t)){Do((function(){n.data_.add(n.enhancer_(t,void 0)),n.atom_.reportChanged()}));var o=!1,i=$o(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:pi,object:this,newValue:t}:null;0,i&&Yo(this,a)}return this},t.delete=function e(t){var n=this,r;if(Uo(this)&&!Wo(this,{type:di,object:this,oldValue:t}))return!1;if(this.has(t)){var o=!1,i=$o(this),a=i?{observableKind:"set",debugObjectName:this.name_,type:di,object:this,oldValue:t}:null;return Do((function(){n.atom_.reportChanged(),n.data_.delete(t)})),i&&Yo(this,a),!0}return!1},t.has=function e(t){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(t))},t.entries=function e(){var t=0,n=Array.from(this.keys()),r=Array.from(this.values());return Oi({next:function e(){var o=t;return t+=1,o<r.length?{value:[n[o],r[o]],done:!1}:{value:void 0,done:!0}}})},t.keys=function e(){return this.values()},t.values=function e(){this.atom_.reportObserved();var t=this,n=0,r=Array.from(this.data_.values());return Oi({next:function e(){return n<r.length?{value:t.dehanceValue_(r[n++]),done:!1}:{value:void 0,done:!0}}})},t.intersection=function e(t){return de(t)&&!wi(t)?t.intersection(this):new Set(this).intersection(t);var n},t.union=function e(t){return de(t)&&!wi(t)?t.union(this):new Set(this).union(t);var n},t.difference=function e(t){return new Set(this).difference(t)},t.symmetricDifference=function e(t){return de(t)&&!wi(t)?t.symmetricDifference(this):new Set(this).symmetricDifference(t);var n},t.isSubsetOf=function e(t){return new Set(this).isSubsetOf(t)},t.isSupersetOf=function e(t){return new Set(this).isSupersetOf(t)},t.isDisjointFrom=function e(t){return de(t)&&!wi(t)?t.isDisjointFrom(this):new Set(this).isDisjointFrom(t);var n},t.replace=function e(t){var n=this;return wi(t)&&(t=new Set(t)),Do((function(){Array.isArray(t)||de(t)?(n.clear(),t.forEach((function(e){return n.add(e)}))):null!=t&&G("Cannot initialize set from "+t)})),this},t.observe_=function e(t,n){return Xo(this,t)},t.intercept_=function e(t){return zo(this,t)},t.toJSON=function e(){return Array.from(this)},t.toString=function e(){return"[object ObservableSet]"},t[Symbol.iterator]=function(){return this.values()},Se(e,[{key:"size",get:function e(){return this.atom_.reportObserved(),this.data_.size}},{key:Symbol.toStringTag,get:function e(){return"Set"}}])}(),wi=le("ObservableSet",gi);function Oi(e){return e[Symbol.toStringTag]="SetIterator",Ji(e)}var ji=Object.create(null),Ei="remove",ki=function(){function e(e,t,n,r){void 0===t&&(t=new Map),void 0===r&&(r=xt),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=e,this.values_=t,this.name_=n,this.defaultAnnotation_=r,this.keysAtom_=new Ge("ObservableObject.keys"),this.isPlainObject_=ae(this.target_)}var t=e.prototype;return t.getObservablePropValue_=function e(t){return this.values_.get(t).get()},t.setObservablePropValue_=function e(t,n){var r=this.values_.get(t);if(r instanceof bn)return r.set(n),!0;if(Uo(this)){var o=Wo(this,{type:Zo,object:this.proxy_||this.target_,name:t,newValue:n});if(!o)return null;n=o.newValue}if((n=r.prepareNewValue_(n))!==Hn.UNCHANGED){var i=$o(this),a=!1,u=i?{type:Zo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:r.value_,name:t,newValue:n}:null;0,r.setNewValue_(n),i&&Yo(this,u)}return!0},t.get_=function e(t){return Hn.trackingDerivation&&!ge(this.target_,t)&&this.has_(t),this.target_[t]},t.set_=function e(t,n,r){return void 0===r&&(r=!1),ge(this.target_,t)?this.values_.has(t)?this.setObservablePropValue_(t,n):r?Reflect.set(this.target_,t,n):(this.target_[t]=n,!0):this.extend_(t,{value:n,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,r)},t.has_=function e(t){if(!Hn.trackingDerivation)return t in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var n=this.pendingKeys_.get(t);return n||(n=new yn(t in this.target_,Je,"ObservableObject.key?",!1),this.pendingKeys_.set(t,n)),n.get()},t.make_=function e(t,n){if(!0===n&&(n=this.defaultAnnotation_),!1!==n){if(Ci(this,n,t),!(t in this.target_)){var r;if(null!=(r=this.target_[Ae])&&r[t])return;G(1,n.annotationType_,this.name_+"."+t.toString())}for(var o=this.target_;o&&o!==X;){var i=W(o,t);if(i){var a=n.make_(this,t,i,o);if(0===a)return;if(1===a)break}o=Object.getPrototypeOf(o)}Ni(this,n,t)}},t.extend_=function e(t,n,r,o){if(void 0===o&&(o=!1),!0===r&&(r=this.defaultAnnotation_),!1===r)return this.defineProperty_(t,n,o);Ci(this,r,t);var i=r.extend_(this,t,n,o);return i&&Ni(this,r,t),i},t.defineProperty_=function e(t,n,r){void 0===r&&(r=!1),_n(this.keysAtom_);try{Jn();var o=this.delete_(t);if(!o)return o;if(Uo(this)){var i=Wo(this,{object:this.proxy_||this.target_,name:t,type:pi,newValue:n.value});if(!i)return null;var a=i.newValue;n.value!==a&&(n=Pe({},n,{value:a}))}if(r){if(!Reflect.defineProperty(this.target_,t,n))return!1}else $(this.target_,t,n);this.notifyPropertyAddition_(t,n.value)}finally{Qn()}return!0},t.defineObservableProperty_=function e(t,n,r,o){void 0===o&&(o=!1),_n(this.keysAtom_);try{Jn();var i=this.delete_(t);if(!i)return i;if(Uo(this)){var a=Wo(this,{object:this.proxy_||this.target_,name:t,type:pi,newValue:n});if(!a)return null;n=a.newValue}var u=Pi(t),c={configurable:!Hn.safeDescriptors||this.isPlainObject_,enumerable:!0,get:u.get,set:u.set};if(o){if(!Reflect.defineProperty(this.target_,t,c))return!1}else $(this.target_,t,c);var s=new yn(n,r,"ObservableObject.key",!1);this.values_.set(t,s),this.notifyPropertyAddition_(t,s.value_)}finally{Qn()}return!0},t.defineComputedProperty_=function e(t,n,r){void 0===r&&(r=!1),_n(this.keysAtom_);try{Jn();var o=this.delete_(t),i;if(!o)return o;if(Uo(this))if(!Wo(this,{object:this.proxy_||this.target_,name:t,type:pi,newValue:void 0}))return null;n.name||(n.name="ObservableObject.key"),n.context=this.proxy_||this.target_;var a=Pi(t),u={configurable:!Hn.safeDescriptors||this.isPlainObject_,enumerable:!1,get:a.get,set:a.set};if(r){if(!Reflect.defineProperty(this.target_,t,u))return!1}else $(this.target_,t,u);this.values_.set(t,new bn(n)),this.notifyPropertyAddition_(t,void 0)}finally{Qn()}return!0},t.delete_=function e(t,n){if(void 0===n&&(n=!1),_n(this.keysAtom_),!ge(this.target_,t))return!0;var r;if(Uo(this)&&!Wo(this,{object:this.proxy_||this.target_,name:t,type:Ei}))return null;try{var o;Jn();var i=$o(this),a=!1,u=this.values_.get(t),c=void 0,s;if(!u&&i)c=null==(s=W(this.target_,t))?void 0:s.value;if(n){if(!Reflect.deleteProperty(this.target_,t))return!1}else delete this.target_[t];if(u&&(this.values_.delete(t),u instanceof yn&&(c=u.value_),er(u)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(o=o.get(t))||o.set(t in this.target_),i){var l={type:Ei,observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:c,name:t};0,i&&Yo(this,l)}}finally{Qn()}return!0},t.observe_=function e(t,n){return Xo(this,t)},t.intercept_=function e(t){return zo(this,t)},t.notifyPropertyAddition_=function e(t,n){var r,o=$o(this),i=!1;if(o){var a=o?{type:pi,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:t,newValue:n}:null;0,o&&Yo(this,a)}null==(r=this.pendingKeys_)||null==(r=r.get(t))||r.set(!0),this.keysAtom_.reportChanged()},t.ownKeys_=function e(){return this.keysAtom_.reportObserved(),ye(this.target_)},t.keys_=function e(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},e}();function Si(e,t){var n;if(ge(e,Fe))return e;var r=null!=(n=null==t?void 0:t.name)?n:"ObservableObject",o=new ki(e,new Map,String(r),Wt(t));return ce(e,Fe,o),e}var _i=le("ObservableObjectAdministration",ki);function Pi(e){return ji[e]||(ji[e]={get:function t(){return this[Fe].getObservablePropValue_(e)},set:function t(n){return this[Fe].setObservablePropValue_(e,n)}})}function xi(e){return!!ie(e)&&_i(e[Fe])}function Ni(e,t,n){var r;null==(r=e.target_[Ae])||delete r[n]}function Ci(e,t,n){var r,o,i}var Ti=Ii(0),Li=function(){var e=!1,t={};return Object.defineProperty(t,"0",{set:function t(){e=!0}}),Object.create(t)[0]=1,!1===e}(),Ai=0,Ri=function e(){};function Mi(e,t){Object.setPrototypeOf?Object.setPrototypeOf(e.prototype,t):void 0!==e.prototype.__proto__?e.prototype.__proto__=t:e.prototype=t}Mi(Ri,Array.prototype);var Di=function(e){function t(t,n,r,o){var i;return void 0===r&&(r="ObservableArray"),void 0===o&&(o=!1),i=e.call(this)||this,zi((function(){var e=new ni(r,n,o,!0);e.proxy_=i,se(i,Fe,e),t&&t.length&&i.spliceWithArray(0,0,t),Li&&Object.defineProperty(i,"0",Ti)})),i}xe(t,e);var n=t.prototype;return n.concat=function e(){this[Fe].atom_.reportObserved();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Array.prototype.concat.apply(this.slice(),n.map((function(e){return li(e)?e.slice():e})))},n[Symbol.iterator]=function(){var e=this,t=0;return Ji({next:function n(){return t<e.length?{value:e[t++],done:!1}:{done:!0,value:void 0}}})},Se(t,[{key:"length",get:function e(){return this[Fe].getArrayLength_()},set:function e(t){this[Fe].setArrayLength_(t)}},{key:Symbol.toStringTag,get:function e(){return"Array"}}])}(Ri);function Ii(e){return{enumerable:!1,configurable:!0,get:function t(){return this[Fe].get_(e)},set:function t(n){this[Fe].set_(e,n)}}}function Bi(e){$(Di.prototype,""+e,Ii(e))}function Vi(e){if(e>Ai){for(var t=Ai;t<e+100;t++)Bi(t);Ai=e}}function Fi(e,t,n){return new Di(e,t,n)}function Gi(e,t){if("object"==typeof e&&null!==e){if(li(e))return void 0!==t&&G(23),e[Fe].atom_;if(wi(e))return e.atom_;if(vi(e)){if(void 0===t)return e.keysAtom_;var n=e.data_.get(t)||e.hasMap_.get(t);return n||G(25,t,Ui(e)),n}if(xi(e)){if(!t)return G(26);var r=e[Fe].values_.get(t);return r||G(27,t,Ui(e)),r}if(He(e)||gn(e)||fr(e))return e}else if(re(e)&&fr(e[Fe]))return e[Fe];G(28)}function Hi(e,t){return e||G(29),void 0!==t?Hi(Gi(e,t)):He(e)||gn(e)||fr(e)||vi(e)||wi(e)?e:e[Fe]?e[Fe]:void G(24,e)}function Ui(e,t){var n;if(void 0!==t)n=Gi(e,t);else{if(Lr(e))return e.name;n=xi(e)||vi(e)||wi(e)?Hi(e):Gi(e)}return n.name_}function zi(e){var t=An(),n=dn(!0);Jn();try{return e()}finally{Qn(),hn(n),Rn(t)}}Object.entries(oi).forEach((function(e){var t=e[0],n=e[1];"concat"!==t&&ce(Di.prototype,t,n)})),Vi(1e3);var Wi=X.toString,$i;function Xi(e,t,n){return void 0===n&&(n=-1),Yi(e,t,n)}function Yi(e,t,n,r,o){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;if("function"!==i&&"object"!==i&&"object"!=typeof t)return!1;var a=Wi.call(e);if(a!==Wi.call(t))return!1;switch(a){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(t);case"[object Map]":case"[object Set]":n>=0&&n++}e=qi(e),t=qi(t);var u="[object Array]"===a;if(!u){if("object"!=typeof e||"object"!=typeof t)return!1;var c=e.constructor,s=t.constructor;if(c!==s&&!(re(c)&&c instanceof c&&re(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}if(0===n)return!1;n<0&&(n=-1),o=o||[];for(var l=(r=r||[]).length;l--;)if(r[l]===e)return o[l]===t;if(r.push(e),o.push(t),u){if((l=e.length)!==t.length)return!1;for(;l--;)if(!Yi(e[l],t[l],n-1,r,o))return!1}else{var f=Object.keys(e),p;if(l=f.length,Object.keys(t).length!==l)return!1;for(;l--;)if(!ge(t,p=f[l])||!Yi(e[p],t[p],n-1,r,o))return!1}return r.pop(),o.pop(),!0}function qi(e){return li(e)?e.slice():fe(e)||vi(e)||de(e)||wi(e)?Array.from(e.entries()):e}var Ki=(null==($i=U().Iterator)?void 0:$i.prototype)||{};function Ji(e){return e[Symbol.iterator]=Qi,Object.assign(Object.create(Ki),e)}function Qi(){return this}function Zi(e){return e instanceof Object&&"string"==typeof e.annotationType_&&re(e.make_)&&re(e.extend_)}["Symbol","Map","Set"].forEach((function(e){var t;void 0===U()[e]&&G("MobX requires global '"+e+"' to be available or polyfilled")})),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:br,extras:{getDebugName:Ui},$mobx:Fe})}.call(this,n(33))},function(e,t){e.exports=_},function(e,t,n){"use strict";var r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function e(t,n,r){return Function.prototype.apply.call(t,n,r)},i;function a(e){console&&console.warn&&console.warn(e)}i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function e(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function e(t){return Object.getOwnPropertyNames(t)};var u=Number.isNaN||function e(t){return t!=t};function c(){c.init.call(this)}e.exports=c,e.exports.once=w,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var s=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function f(e){return void 0===e._maxListeners?c.defaultMaxListeners:e._maxListeners}function p(e,t,n,r){var o,i,u;if(l(n),void 0===(i=e._events)?(i=e._events=Object.create(null),e._eventsCount=0):(void 0!==i.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),i=e._events),u=i[t]),void 0===u)u=i[t]=n,++e._eventsCount;else if("function"==typeof u?u=i[t]=r?[n,u]:[u,n]:r?u.unshift(n):u.push(n),(o=f(e))>0&&u.length>o&&!u.warned){u.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+u.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=u.length,a(c)}return e}function d(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},o=d.bind(r);return o.listener=n,r.wrapFn=o,o}function v(e,t,n){var r=e._events;if(void 0===r)return[];var o=r[t];return void 0===o?[]:"function"==typeof o?n?[o.listener||o]:[o]:n?g(o):m(o,o.length)}function y(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function b(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}function g(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function w(e,t){return new Promise((function(n,r){function o(n){e.removeListener(t,i),r(n)}function i(){"function"==typeof e.removeListener&&e.removeListener("error",o),n([].slice.call(arguments))}j(e,t,i,{once:!0}),"error"!==t&&O(e,o,{once:!0})}))}function O(e,t,n){"function"==typeof e.on&&j(e,"error",t,n)}function j(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function o(i){r.once&&e.removeEventListener(t,o),n(i)}))}}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||u(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),c.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function e(t){if("number"!=typeof t||t<0||u(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},c.prototype.getMaxListeners=function e(){return f(this)},c.prototype.emit=function e(t){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i="error"===t,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var u;if(n.length>0&&(u=n[0]),u instanceof Error)throw u;var c=new Error("Unhandled error."+(u?" ("+u.message+")":""));throw c.context=u,c}var s=a[t];if(void 0===s)return!1;if("function"==typeof s)o(s,this,n);else for(var l=s.length,f=m(s,l),r=0;r<l;++r)o(f[r],this,n);return!0},c.prototype.addListener=function e(t,n){return p(this,t,n,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function e(t,n){return p(this,t,n,!0)},c.prototype.once=function e(t,n){return l(n),this.on(t,h(this,t,n)),this},c.prototype.prependOnceListener=function e(t,n){return l(n),this.prependListener(t,h(this,t,n)),this},c.prototype.removeListener=function e(t,n){var r,o,i,a,u;if(l(n),void 0===(o=this._events))return this;if(void 0===(r=o[t]))return this;if(r===n||r.listener===n)0==--this._eventsCount?this._events=Object.create(null):(delete o[t],o.removeListener&&this.emit("removeListener",t,r.listener||n));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===n||r[a].listener===n){u=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():b(r,i),1===r.length&&(o[t]=r[0]),void 0!==o.removeListener&&this.emit("removeListener",t,u||n)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function e(t){var n,r,o;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i=Object.keys(r),a;for(o=0;o<i.length;++o)"removeListener"!==(a=i[o])&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(n=r[t]))this.removeListener(t,n);else if(void 0!==n)for(o=n.length-1;o>=0;o--)this.removeListener(t,n[o]);return this},c.prototype.listeners=function e(t){return v(this,t,!0)},c.prototype.rawListeners=function e(t){return v(this,t,!1)},c.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):y.call(e,t)},c.prototype.listenerCount=y,c.prototype.eventNames=function e(){return this._eventsCount>0?i(this._events):[]}},function(e,t){e.exports=window.ReactDOM},function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return m}));var r=n(14);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==u(t)?t:t+""}function p(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var d,h=new(function(){function e(){c(this,e),this.tip=null,this.showDelay=null,this.hideDelay=null,this.emitter=Object(r.b)("TipHandler")}return l(e,[{key:"setTarget",value:function e(t){var n=this,r=v(t);if(r){if(this.tip){if(this.tip.target===r.target)return void(this.tip=r);if(!this.showDelay)return this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.tip=r,void this.emitter.emit("tipchange");clearTimeout(this.showDelay),this.showDelay=null,this.tip=null}this.tip=r,this.hideDelay?(clearTimeout(this.hideDelay),this.hideDelay=null,this.emitter.emit("tipchange")):this.showDelay=setTimeout((function(){n.showDelay=null,n.emitter.emit("tipchange")}),350)}else this.showDelay?(clearTimeout(this.showDelay),this.showDelay=null):this.hideDelay=setTimeout((function(){n.hideDelay=null}),100),this.tip=null,this.emitter.emit("tipchange")}},{key:"hideImmediately",value:function e(){this.hideDelay&&(clearTimeout(this.hideDelay),this.hideDelay=null),this.showDelay&&(clearTimeout(this.showDelay),this.showDelay=null),this.tip=null,this.emitter.emit("tipchange")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("tipchange",t),function(){n.emitter.removeListener("tipchange",t)}}}])}());function v(e){if(!e)return null;for(var t=10;e&&t-- >0;){if(e.dataset&&e.dataset.tip)return{children:e.dataset.tip,direction:e.dataset.direction||e.dataset.dir,theme:e.dataset.theme,target:e};for(var n=e.lastElementChild;n;){if(n.dataset&&"tip"===n.dataset.role){var r=n.dataset.tipId;if(!r)return null;var o=y.get(r);return o?i(i({},o),{},{target:e}):null}n=n.previousElementSibling}e=e.parentNode}return null}var y=new Map;function m(e,t){t?y.set(e,t):y.delete(e)}},function(e,t){e.exports=window.PropTypes},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getMetadataField=t.getMetadata=t.MetadataType=t.metaSymbol=void 0,t.metaSymbol=Symbol("power-di-metadata");var r=function(){function e(){this.classInfo={extends:[],implements:[]},this.injects=[],this.postConstruct=[],this.preDestroy=[],this.aspects=[]}return e}();function o(e){if([Object,Object.prototype,Array,Array.prototype,Error,Error.prototype,null].includes(e))return new r;var n=Object.getOwnPropertyDescriptor(e,t.metaSymbol);return n&&n.value?n.value:(Object.defineProperty(e,t.metaSymbol,{enumerable:!1,configurable:!1,value:new r}),o(e))}function i(e,t){var n=o(e)[t];if(Array.isArray(n)){var r=Object.getPrototypeOf(e);if(r)return i(r,t).concat(n)}return n}t.MetadataType=r,t.getMetadata=o,t.getMetadataField=i},function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return v}));var r=n(3),o=n(9),i=n.n(o);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==a(t)?t:t+""}function f(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=new r.e({level:"warn",bizName:"event-bus"}),d=new r.e({level:"warn",bizName:"module-event-bus"}),h=function(){function e(t,n){u(this,e),this.eventEmitter=void 0,this.name=void 0,this.names=[],this.eventEmitter=t,this.name=n}return s(e,[{key:"getMsgPrefix",value:function e(t){return this.name&&this.name.length>0?"[".concat(this.name,"][event-").concat(t,"]"):"[*][event-".concat(t,"]")}},{key:"getLogger",value:function e(){return this.name&&this.name.length>0?d:p}},{key:"on",value:function e(t,n){var r=this;return this.eventEmitter.on(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("on")," ").concat(t)),function(){r.off(t,n)}}},{key:"prependListener",value:function e(t,n){var r=this;return this.eventEmitter.prependListener(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("prependListener")," ").concat(t)),function(){r.off(t,n)}}},{key:"off",value:function e(t,n){this.eventEmitter.off(t,n),this.getLogger().debug("".concat(this.getMsgPrefix("off")," ").concat(t))}},{key:"emit",value:function e(t){for(var n,r,o=arguments.length,i=new Array(o>1?o-1:0),a=1;a<o;a++)i[a-1]=arguments[a];(n=this.eventEmitter).emit.apply(n,[t].concat(i)),(r=this.getLogger()).debug.apply(r,["".concat(this.getMsgPrefix("emit")," name: ").concat(t,", args: ")].concat(i))}},{key:"removeListener",value:function e(t,n){return this.eventEmitter.removeListener(t,n)}},{key:"addListener",value:function e(t,n){return this.eventEmitter.addListener(t,n)}},{key:"setMaxListeners",value:function e(t){return this.eventEmitter.setMaxListeners(t)}},{key:"removeAllListeners",value:function e(t){return this.eventEmitter.removeAllListeners(t)}}])}(),v=function e(t,n){var r=new i.a;return n&&r.setMaxListeners(n),new h(r,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n(2),o=n.n(r),i=n(3),a=n(11);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=p(e,"string");return"symbol"==u(t)?t:t+""}function p(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function d(e,t,n){return t=m(t),h(e,y()?Reflect.construct(t,n||[],m(e).constructor):t.apply(e,n))}function h(e,t){if(t&&("object"==u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return v(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(y=function t(){return!!e})()}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var w=function(e){function t(){var e;c(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=d(this,t,[].concat(r))).id=Object(i.ib)("tips$"),e}return b(t,e),l(t,[{key:"componentWillUnmount",value:function e(){Object(a.a)(this.id,null)}},{key:"render",value:function e(){return Object(a.a)(this.id,this.props),React.createElement("meta",{"data-role":"tip","data-tip-id":this.id})}}])}(r.Component)},function(e,t,n){"use strict";n.d(t,"c",(function(){return kt})),n.d(t,"d",(function(){return St})),n.d(t,"a",(function(){return xt})),n.d(t,"b",(function(){return ot}));var r=n(0),o=n(2),i,a,u;function c(e){return e.type===a.literal}function s(e){return e.type===a.argument}function l(e){return e.type===a.number}function f(e){return e.type===a.date}function p(e){return e.type===a.time}function d(e){return e.type===a.select}function h(e){return e.type===a.plural}function v(e){return e.type===a.pound}function y(e){return e.type===a.tag}function m(e){return!(!e||"object"!=typeof e||e.type!==u.number)}function b(e){return!(!e||"object"!=typeof e||e.type!==u.dateTime)}function g(e){return{type:a.literal,value:e}}function w(e,t){return{type:a.number,value:e,style:t}}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(i||(i={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(a||(a={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(u||(u={}));var O=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,j=/[\t-\r \x85\u200E\u200F\u2028\u2029]/,E=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function k(e){var t={};return e.replace(E,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var S=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function _(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t,n=[],r=0,o=e.split(S).filter((function(e){return e.length>0}));r<o.length;r++){var i,a=o[r].split("/");if(0===a.length)throw new Error("Invalid number skeleton");for(var u=a[0],c=a.slice(1),s=0,l=c;s<l.length;s++){var f;if(0===l[s].length)throw new Error("Invalid number skeleton")}n.push({stem:u,options:c})}return n}function P(e){return e.replace(/^(.*?)-/,"")}var x=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,N=/^(@+)?(\+|#+)?[rs]?$/g,C=/(\*)(0+)|(#+)(0+)|(0+)/g,T=/^(0+)$/;function L(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace(N,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function A(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function R(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!T.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function M(e){var t={},n=A(e);return n||t}function D(e){for(var t={},n=0,o=e;n<o.length;n++){var i=o[n];switch(i.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=i.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=P(i.options[0]);continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"scientific"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"engineering":t=Object(r.a)(Object(r.a)(Object(r.a)({},t),{notation:"engineering"}),i.options.reduce((function(e,t){return Object(r.a)(Object(r.a)({},e),M(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(i.options[0]);continue;case"integer-width":if(i.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");i.options[0].replace(C,(function(e,n,r,o,i,a){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(a)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(T.test(i.stem))t.minimumIntegerDigits=i.stem.length;else if(x.test(i.stem)){if(i.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");i.stem.replace(x,(function(e,n,r,o,i,a){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&a?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+a.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var a=i.options[0];"w"===a?t=Object(r.a)(Object(r.a)({},t),{trailingZeroDisplay:"stripIfInteger"}):a&&(t=Object(r.a)(Object(r.a)({},t),L(a)))}else if(N.test(i.stem))t=Object(r.a)(Object(r.a)({},t),L(i.stem));else{var u=A(i.stem);u&&(t=Object(r.a)(Object(r.a)({},t),u));var c=R(i.stem);c&&(t=Object(r.a)(Object(r.a)({},t),c))}}return t}var I={AX:["H"],BQ:["H"],CP:["H"],CZ:["H"],DK:["H"],FI:["H"],ID:["H"],IS:["H"],ML:["H"],NE:["H"],RU:["H"],SE:["H"],SJ:["H"],SK:["H"],AS:["h","H"],BT:["h","H"],DJ:["h","H"],ER:["h","H"],GH:["h","H"],IN:["h","H"],LS:["h","H"],PG:["h","H"],PW:["h","H"],SO:["h","H"],TO:["h","H"],VU:["h","H"],WS:["h","H"],"001":["H","h"],AL:["h","H","hB"],TD:["h","H","hB"],"ca-ES":["H","h","hB"],CF:["H","h","hB"],CM:["H","h","hB"],"fr-CA":["H","h","hB"],"gl-ES":["H","h","hB"],"it-CH":["H","h","hB"],"it-IT":["H","h","hB"],LU:["H","h","hB"],NP:["H","h","hB"],PF:["H","h","hB"],SC:["H","h","hB"],SM:["H","h","hB"],SN:["H","h","hB"],TF:["H","h","hB"],VA:["H","h","hB"],CY:["h","H","hb","hB"],GR:["h","H","hb","hB"],CO:["h","H","hB","hb"],DO:["h","H","hB","hb"],KP:["h","H","hB","hb"],KR:["h","H","hB","hb"],NA:["h","H","hB","hb"],PA:["h","H","hB","hb"],PR:["h","H","hB","hb"],VE:["h","H","hB","hb"],AC:["H","h","hb","hB"],AI:["H","h","hb","hB"],BW:["H","h","hb","hB"],BZ:["H","h","hb","hB"],CC:["H","h","hb","hB"],CK:["H","h","hb","hB"],CX:["H","h","hb","hB"],DG:["H","h","hb","hB"],FK:["H","h","hb","hB"],GB:["H","h","hb","hB"],GG:["H","h","hb","hB"],GI:["H","h","hb","hB"],IE:["H","h","hb","hB"],IM:["H","h","hb","hB"],IO:["H","h","hb","hB"],JE:["H","h","hb","hB"],LT:["H","h","hb","hB"],MK:["H","h","hb","hB"],MN:["H","h","hb","hB"],MS:["H","h","hb","hB"],NF:["H","h","hb","hB"],NG:["H","h","hb","hB"],NR:["H","h","hb","hB"],NU:["H","h","hb","hB"],PN:["H","h","hb","hB"],SH:["H","h","hb","hB"],SX:["H","h","hb","hB"],TA:["H","h","hb","hB"],ZA:["H","h","hb","hB"],"af-ZA":["H","h","hB","hb"],AR:["H","h","hB","hb"],CL:["H","h","hB","hb"],CR:["H","h","hB","hb"],CU:["H","h","hB","hb"],EA:["H","h","hB","hb"],"es-BO":["H","h","hB","hb"],"es-BR":["H","h","hB","hb"],"es-EC":["H","h","hB","hb"],"es-ES":["H","h","hB","hb"],"es-GQ":["H","h","hB","hb"],"es-PE":["H","h","hB","hb"],GT:["H","h","hB","hb"],HN:["H","h","hB","hb"],IC:["H","h","hB","hb"],KG:["H","h","hB","hb"],KM:["H","h","hB","hb"],LK:["H","h","hB","hb"],MA:["H","h","hB","hb"],MX:["H","h","hB","hb"],NI:["H","h","hB","hb"],PY:["H","h","hB","hb"],SV:["H","h","hB","hb"],UY:["H","h","hB","hb"],JP:["H","h","K"],AD:["H","hB"],AM:["H","hB"],AO:["H","hB"],AT:["H","hB"],AW:["H","hB"],BE:["H","hB"],BF:["H","hB"],BJ:["H","hB"],BL:["H","hB"],BR:["H","hB"],CG:["H","hB"],CI:["H","hB"],CV:["H","hB"],DE:["H","hB"],EE:["H","hB"],FR:["H","hB"],GA:["H","hB"],GF:["H","hB"],GN:["H","hB"],GP:["H","hB"],GW:["H","hB"],HR:["H","hB"],IL:["H","hB"],IT:["H","hB"],KZ:["H","hB"],MC:["H","hB"],MD:["H","hB"],MF:["H","hB"],MQ:["H","hB"],MZ:["H","hB"],NC:["H","hB"],NL:["H","hB"],PM:["H","hB"],PT:["H","hB"],RE:["H","hB"],RO:["H","hB"],SI:["H","hB"],SR:["H","hB"],ST:["H","hB"],TG:["H","hB"],TR:["H","hB"],WF:["H","hB"],YT:["H","hB"],BD:["h","hB","H"],PK:["h","hB","H"],AZ:["H","hB","h"],BA:["H","hB","h"],BG:["H","hB","h"],CH:["H","hB","h"],GE:["H","hB","h"],LI:["H","hB","h"],ME:["H","hB","h"],RS:["H","hB","h"],UA:["H","hB","h"],UZ:["H","hB","h"],XK:["H","hB","h"],AG:["h","hb","H","hB"],AU:["h","hb","H","hB"],BB:["h","hb","H","hB"],BM:["h","hb","H","hB"],BS:["h","hb","H","hB"],CA:["h","hb","H","hB"],DM:["h","hb","H","hB"],"en-001":["h","hb","H","hB"],FJ:["h","hb","H","hB"],FM:["h","hb","H","hB"],GD:["h","hb","H","hB"],GM:["h","hb","H","hB"],GU:["h","hb","H","hB"],GY:["h","hb","H","hB"],JM:["h","hb","H","hB"],KI:["h","hb","H","hB"],KN:["h","hb","H","hB"],KY:["h","hb","H","hB"],LC:["h","hb","H","hB"],LR:["h","hb","H","hB"],MH:["h","hb","H","hB"],MP:["h","hb","H","hB"],MW:["h","hb","H","hB"],NZ:["h","hb","H","hB"],SB:["h","hb","H","hB"],SG:["h","hb","H","hB"],SL:["h","hb","H","hB"],SS:["h","hb","H","hB"],SZ:["h","hb","H","hB"],TC:["h","hb","H","hB"],TT:["h","hb","H","hB"],UM:["h","hb","H","hB"],US:["h","hb","H","hB"],VC:["h","hb","H","hB"],VG:["h","hb","H","hB"],VI:["h","hb","H","hB"],ZM:["h","hb","H","hB"],BO:["H","hB","h","hb"],EC:["H","hB","h","hb"],ES:["H","hB","h","hb"],GQ:["H","hB","h","hb"],PE:["H","hB","h","hb"],AE:["h","hB","hb","H"],"ar-001":["h","hB","hb","H"],BH:["h","hB","hb","H"],DZ:["h","hB","hb","H"],EG:["h","hB","hb","H"],EH:["h","hB","hb","H"],HK:["h","hB","hb","H"],IQ:["h","hB","hb","H"],JO:["h","hB","hb","H"],KW:["h","hB","hb","H"],LB:["h","hB","hb","H"],LY:["h","hB","hb","H"],MO:["h","hB","hb","H"],MR:["h","hB","hb","H"],OM:["h","hB","hb","H"],PH:["h","hB","hb","H"],PS:["h","hB","hb","H"],QA:["h","hB","hb","H"],SA:["h","hB","hb","H"],SD:["h","hB","hb","H"],SY:["h","hB","hb","H"],TN:["h","hB","hb","H"],YE:["h","hB","hb","H"],AF:["H","hb","hB","h"],LA:["H","hb","hB","h"],CN:["H","hB","hb","h"],LV:["H","hB","hb","h"],TL:["H","hB","hb","h"],"zu-ZA":["H","hB","hb","h"],CD:["hB","H"],IR:["hB","H"],"hi-IN":["hB","h","H"],"kn-IN":["hB","h","H"],"ml-IN":["hB","h","H"],"te-IN":["hB","h","H"],KH:["hB","h","H","hb"],"ta-IN":["hB","h","hb","H"],BN:["hb","hB","h","H"],MY:["hb","hB","h","H"],ET:["hB","hb","h","H"],"gu-IN":["hB","hb","h","H"],"mr-IN":["hB","hb","h","H"],"pa-IN":["hB","hb","h","H"],TW:["hB","hb","h","H"],KE:["hB","hb","H","h"],MM:["hB","hb","H","h"],TZ:["hB","hb","H","h"],UG:["hB","hb","H","h"]},B;function V(e,t){for(var n="",r=0;r<e.length;r++){var o=e.charAt(r);if("j"===o){for(var i=0;r+1<e.length&&e.charAt(r+1)===o;)i++,r++;var a=1+(1&i),u=i<2?1:3+(i>>1),c="a",s=F(t);for("H"!=s&&"k"!=s||(u=0);u-- >0;)n+="a";for(;a-- >0;)n=s+n}else n+="J"===o?"H":o}return n}function F(e){var t=e.hourCycle;if(void 0===t&&e.hourCycles&&e.hourCycles.length&&(t=e.hourCycles[0]),t)switch(t){case"h24":return"k";case"h23":return"H";case"h12":return"h";case"h11":return"K";default:throw new Error("Invalid hourCycle")}var n=e.language,r,o;return"root"!==n&&(r=e.maximize().region),(I[r||""]||I[n||""]||I["".concat(n,"-001")]||I["001"])[0]}var G=new RegExp("^".concat(O.source,"*")),H=new RegExp("".concat(O.source,"*$"));function U(e,t){return{start:e,end:t}}var z=!!String.prototype.startsWith,W=!!String.fromCodePoint,$=!!Object.fromEntries,X=!!String.prototype.codePointAt,Y=!!String.prototype.trimStart,q=!!String.prototype.trimEnd,K,J=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Q=!0;try{var Z;Q="a"===(null===(B=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===B?void 0:B[0])}catch(e){Q=!1}var ee=z?function e(t,n,r){return t.startsWith(n,r)}:function e(t,n,r){return t.slice(r,r+n.length)===n},te=W?String.fromCodePoint:function e(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r="",o=t.length,i=0,a;o>i;){if((a=t[i++])>1114111)throw RangeError(a+" is not a valid code point");r+=a<65536?String.fromCharCode(a):String.fromCharCode(55296+((a-=65536)>>10),a%1024+56320)}return r},ne=$?Object.fromEntries:function e(t){for(var n={},r=0,o=t;r<o.length;r++){var i=o[r],a=i[0],u=i[1];n[a]=u}return n},re=X?function e(t,n){return t.codePointAt(n)}:function e(t,n){var r=t.length;if(!(n<0||n>=r)){var o=t.charCodeAt(n),i;return o<55296||o>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?o:i-56320+(o-55296<<10)+65536}},oe=Y?function e(t){return t.trimStart()}:function e(t){return t.replace(G,"")},ie=q?function e(t){return t.trimEnd()}:function e(t){return t.replace(H,"")},ae;function ue(e,t){return new RegExp(e,t)}if(Q){var ce=ue("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");ae=function e(t,n){var r,o;return ce.lastIndex=n,null!==(r=ce.exec(t)[1])&&void 0!==r?r:""}}else ae=function e(t,n){for(var r=[];;){var o=re(t,n);if(void 0===o||de(o)||he(o))break;r.push(o),n+=o>=65536?2:1}return te.apply(void 0,r)};var se=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.locale=t.locale,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){var u;if((u=this.parseArgument(e,n)).err)return u;r.push(u.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(i.UNMATCHED_CLOSING_TAG,U(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&le(this.peek()||0)){var u;if((u=this.parseTag(e,t)).err)return u;r.push(u.val)}else{var u;if((u=this.parseLiteral(e,t)).err)return u;r.push(u.val)}}else{var c=this.clonePosition();this.bump(),r.push({type:a.pound,location:U(c,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:a.literal,value:"<".concat(r,"/>"),location:U(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var u=o.val,c=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!le(this.char()))return this.error(i.INVALID_TAG,U(c,this.clonePosition()));var s=this.clonePosition(),l;return r!==this.parseTagName()?this.error(i.UNMATCHED_CLOSING_TAG,U(s,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:a.tag,value:r,children:u,location:U(n,this.clonePosition())},err:null}:this.error(i.INVALID_TAG,U(c,this.clonePosition())))}return this.error(i.UNCLOSED_TAG,U(n,this.clonePosition()))}return this.error(i.INVALID_TAG,U(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&pe(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var u=this.tryParseLeftAngleBracket();if(!u)break;r+=u}}}var c=U(n,this.clonePosition());return{val:{type:a.literal,value:r,location:c},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&fe(this.peek()||0)?null:(this.bump(),"<")},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return te.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),te(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(i.EMPTY_ARGUMENT,U(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:a.argument,value:r,location:U(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(i.MALFORMED_ARGUMENT,U(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=ae(this.message,t),r=t+n.length,o,i;return this.bumpTo(r),{value:n,location:U(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,o){var c,s=this.clonePosition(),l=this.parseIdentifierIfPossible().value,f=this.clonePosition();switch(l){case"":return this.error(i.EXPECT_ARGUMENT_TYPE,U(s,f));case"number":case"date":case"time":this.bumpSpace();var p=null,d;if(this.bumpIf(",")){this.bumpSpace();var h=this.clonePosition(),v,y,m;if((v=this.parseSimpleArgStyleIfPossible()).err)return v;if(0===(y=ie(v.val)).length)return this.error(i.EXPECT_ARGUMENT_STYLE,U(this.clonePosition(),this.clonePosition()));p={style:y,styleLocation:U(h,this.clonePosition())}}if((d=this.tryParseArgumentClose(o)).err)return d;var b=U(o,this.clonePosition());if(p&&ee(null==p?void 0:p.style,"::",0)){var g=oe(p.style.slice(2)),v;if("number"===l)return(v=this.parseNumberSkeletonFromString(g,p.styleLocation)).err?v:{val:{type:a.number,value:n,location:b,style:v.val},err:null};if(0===g.length)return this.error(i.EXPECT_DATE_TIME_SKELETON,b);var w=g;this.locale&&(w=V(g,this.locale));var y={type:u.dateTime,pattern:w,location:p.styleLocation,parsedOptions:this.shouldParseSkeletons?k(w):{}},O;return{val:{type:"date"===l?a.date:a.time,value:n,location:b,style:y},err:null}}return{val:{type:"number"===l?a.number:"date"===l?a.date:a.time,value:n,location:b,style:null!==(c=null==p?void 0:p.style)&&void 0!==c?c:null},err:null};case"plural":case"selectordinal":case"select":var j=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(i.EXPECT_SELECT_ARGUMENT_OPTIONS,U(j,Object(r.a)({},j)));this.bumpSpace();var E=this.parseIdentifierIfPossible(),S=0;if("select"!==l&&"offset"===E.value){if(!this.bumpIf(":"))return this.error(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,U(this.clonePosition(),this.clonePosition()));var v;if(this.bumpSpace(),(v=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,i.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return v;this.bumpSpace(),E=this.parseIdentifierIfPossible(),S=v.val}var _=this.tryParsePluralOrSelectOptions(e,l,t,E),d;if(_.err)return _;if((d=this.tryParseArgumentClose(o)).err)return d;var P=U(o,this.clonePosition());return"select"===l?{val:{type:a.select,value:n,options:ne(_.val),location:P},err:null}:{val:{type:a.plural,value:n,options:ne(_.val),offset:S,pluralType:"plural"===l?"cardinal":"ordinal",location:P},err:null};default:return this.error(i.INVALID_ARGUMENT_TYPE,U(s,f))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(i.EXPECT_ARGUMENT_CLOSING_BRACE,U(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){var n;switch(this.char()){case 39:this.bump();var r=this.clonePosition();if(!this.bumpUntil("'"))return this.error(i.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,U(r,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=_(e)}catch(e){return this.error(i.INVALID_NUMBER_SKELETON,t)}return{val:{type:u.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?D(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,a=!1,u=[],c=new Set,s=r.value,l=r.location;;){if(0===s.length){var f=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var p=this.tryParseDecimalInteger(i.EXPECT_PLURAL_ARGUMENT_SELECTOR,i.INVALID_PLURAL_ARGUMENT_SELECTOR);if(p.err)return p;l=U(f,this.clonePosition()),s=this.message.slice(f.offset,this.offset())}if(c.has(s))return this.error("select"===t?i.DUPLICATE_SELECT_ARGUMENT_SELECTOR:i.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,l);"other"===s&&(a=!0),this.bumpSpace();var d=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:i.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,U(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var v=this.tryParseArgumentClose(d);if(v.err)return v;u.push([s,{value:h.val,location:U(d,this.clonePosition())}]),c.add(s),this.bumpSpace(),s=(o=this.parseIdentifierIfPossible()).value,l=o.location}return 0===u.length?this.error("select"===t?i.EXPECT_SELECT_ARGUMENT_SELECTOR:i.EXPECT_PLURAL_ARGUMENT_SELECTOR,U(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!a?this.error(i.MISSING_OTHER_CLAUSE,U(this.clonePosition(),this.clonePosition())):{val:u,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var a=this.char();if(!(a>=48&&a<=57))break;o=!0,i=10*i+(a-48),this.bump()}var u=U(r,this.clonePosition());return o?J(i*=n)?{val:i,err:null}:this.error(t,u):this.error(e,u)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=re(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(ee(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&de(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function le(e){return e>=97&&e<=122||e>=65&&e<=90}function fe(e){return le(e)||47===e}function pe(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function de(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function he(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function ve(e){e.forEach((function(e){if(delete e.location,d(e)||h(e))for(var t in e.options)delete e.options[t].location,ve(e.options[t].value);else l(e)&&m(e.style)||(f(e)||p(e))&&b(e.style)?delete e.style.location:y(e)&&ve(e.children)}))}function ye(e,t){void 0===t&&(t={}),t=Object(r.a)({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new se(e,t).parse();if(n.err){var o=SyntaxError(i[n.err.kind]);throw o.location=n.err.location,o.originalMessage=n.err.message,o}return(null==t?void 0:t.captureLocation)||ve(n.val),n.val}function me(e,t){var n=t&&t.cache?t.cache:Pe,r=t&&t.serializer?t.serializer:Se,o;return(t&&t.strategy?t.strategy:je)(e,{cache:n,serializer:r})}function be(e){return null==e||"number"==typeof e||"boolean"==typeof e}function ge(e,t,n,r){var o=be(r)?r:n(r),i=t.get(o);return void 0===i&&(i=e.call(this,r),t.set(o,i)),i}function we(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function Oe(e,t,n,r,o){return n.bind(t,e,r,o)}function je(e,t){var n;return Oe(e,this,1===e.length?ge:we,t.cache.create(),t.serializer)}function Ee(e,t){return Oe(e,this,we,t.cache.create(),t.serializer)}function ke(e,t){return Oe(e,this,ge,t.cache.create(),t.serializer)}var Se=function(){return JSON.stringify(arguments)};function _e(){this.cache=Object.create(null)}_e.prototype.get=function(e){return this.cache[e]},_e.prototype.set=function(e,t){this.cache[e]=t};var Pe={create:function e(){return new _e}},xe={variadic:Ee,monadic:ke},Ne;!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(Ne||(Ne={}));var Ce=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Object(r.c)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),Te=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),Ne.INVALID_VALUE,o)||this}return Object(r.c)(t,e),t}(Ce),Le=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),Ne.INVALID_VALUE,r)||this}return Object(r.c)(t,e),t}(Ce),Ae=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),Ne.MISSING_VALUE,n)||this}return Object(r.c)(t,e),t}(Ce),Re;function Me(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===Re.literal&&t.type===Re.literal?n.value+=t.value:e.push(t),e}),[])}function De(e){return"function"==typeof e}function Ie(e,t,n,r,o,i,a){if(1===e.length&&c(e[0]))return[{type:Re.literal,value:e[0].value}];for(var u=[],g=0,w=e;g<w.length;g++){var O=w[g];if(c(O))u.push({type:Re.literal,value:O.value});else if(v(O))"number"==typeof i&&u.push({type:Re.literal,value:n.getNumberFormat(t).format(i)});else{var j=O.value;if(!o||!(j in o))throw new Ae(j,a);var E=o[j];if(s(O))E&&"string"!=typeof E&&"number"!=typeof E||(E="string"==typeof E||"number"==typeof E?String(E):""),u.push({type:"string"==typeof E?Re.literal:Re.object,value:E});else if(f(O)){var k="string"==typeof O.style?r.date[O.style]:b(O.style)?O.style.parsedOptions:void 0;u.push({type:Re.literal,value:n.getDateTimeFormat(t,k).format(E)})}else if(p(O)){var k="string"==typeof O.style?r.time[O.style]:b(O.style)?O.style.parsedOptions:r.time.medium;u.push({type:Re.literal,value:n.getDateTimeFormat(t,k).format(E)})}else if(l(O)){var k;(k="string"==typeof O.style?r.number[O.style]:m(O.style)?O.style.parsedOptions:void 0)&&k.scale&&(E*=k.scale||1),u.push({type:Re.literal,value:n.getNumberFormat(t,k).format(E)})}else{if(y(O)){var S=O.children,_=O.value,P=o[_];if(!De(P))throw new Le(_,"function",a);var x,N=P(Ie(S,t,n,r,o,i).map((function(e){return e.value})));Array.isArray(N)||(N=[N]),u.push.apply(u,N.map((function(e){return{type:"string"==typeof e?Re.literal:Re.object,value:e}})))}if(d(O)){var C;if(!(C=O.options[E]||O.options.other))throw new Te(O.value,E,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o))}else if(h(O)){var C;if(!(C=O.options["=".concat(E)])){if(!Intl.PluralRules)throw new Ce('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',Ne.MISSING_INTL_API,a);var T=n.getPluralRules(t,{type:O.pluralType}).select(E-(O.offset||0));C=O.options[T]||O.options.other}if(!C)throw new Te(O.value,E,Object.keys(O.options),a);u.push.apply(u,Ie(C.value,t,n,r,o,E-(O.offset||0)))}else;}}}return Me(u)}function Be(e,t){return t?Object(r.a)(Object(r.a)(Object(r.a)({},e||{}),t||{}),Object.keys(e).reduce((function(n,o){return n[o]=Object(r.a)(Object(r.a)({},e[o]),t[o]||{}),n}),{})):e}function Ve(e,t){return t?Object.keys(e).reduce((function(n,r){return n[r]=Be(e[r],t[r]),n}),Object(r.a)({},e)):e}function Fe(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}function Ge(e){return void 0===e&&(e={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.number),strategy:xe.variadic}),getDateTimeFormat:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.dateTime),strategy:xe.variadic}),getPluralRules:me((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Object(r.e)([void 0],t,!1)))}),{cache:Fe(e.pluralRules),strategy:xe.variadic})}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(Re||(Re={}));var He=function(){function e(t,n,r,o){var i=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=i.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===Re.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return Ie(i.ast,i.locales,i.formatters,i.formats,e,void 0,i.message)},this.resolvedOptions=function(){return{locale:i.resolvedLocale.toString()}},this.getAst=function(){return i.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Ve(e.formats,r),this.formatters=o&&o.formatters||Ge(this.formatterCache)}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=ye,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),Ue=n(14),ze=n(22),We=n(3);function $e(e){return($e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ye(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ke(r.key),r)}}function qe(e,t,n){return t&&Ye(e.prototype,t),n&&Ye(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ke(e){var t=Je(e,"string");return"symbol"==$e(t)?t:t+""}function Je(e,t){if("object"!=$e(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$e(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Qe=new We.e({level:"warn",bizName:"globalLocale"}),Ze={en:"en-US",zh:"zh-CN",zt:"zh-TW",es:"es-ES",pt:"pt-PT",fr:"fr-FR",de:"de-DE",it:"it-IT",ru:"ru-RU",ja:"ja-JP",ko:"ko-KR",ar:"ar-SA",tr:"tr-TR",th:"th-TH",vi:"vi-VN",nl:"nl-NL",he:"iw-IL",id:"in-ID",pl:"pl-PL",hi:"hi-IN",uk:"uk-UA",ms:"ms-MY",tl:"tl-PH"},et="ali-lowcode-config",tt=function(){function e(){Xe(this,e),this.emitter=Object(Ue.b)("GlobalLocale"),this._locale=void 0,this.emitter.setMaxListeners(0)}return qe(e,[{key:"locale",get:function e(){if(null!=this._locale)return this._locale;var t=null;if(rt(window)){var n,r=window.localStorage,o;try{o=JSON.parse(r.getItem(et)||"")}catch(e){}null!==(n=o)&&void 0!==n&&n.locale&&(t=(o.locale||"").replace("_","-"),Qe.debug("getting locale from localStorage: ".concat(t)))}if(!t){var i=nt("locale");i&&(t=Ze[i]||i.replace("_","-"),Qe.debug("getting locale from config: ".concat(t)))}if(!t){var a,u=window.navigator;if(u.language){var c=u.language;return Ze[c]||c.replace("_","-")}if(u.browserLanguage){var s=u.browserLanguage.split("-"),l=s[0];s[1]&&(l+="-".concat(s[1].toUpperCase())),t=l,Qe.debug("getting locale from system: ".concat(t))}}return t||(Qe.warn("something when wrong when trying to get locale, use zh-CN as default, please check it out!"),t="zh-CN"),this._locale=t,t}},{key:"setLocale",value:function e(t){if(Qe.info("setting locale to ".concat(t)),t!==this.locale){if(this._locale=t,rt(window)){var n=window.localStorage,r;try{r=JSON.parse(n.getItem(et)||"")}catch(e){}r&&"object"===$e(r)?r.locale=t:r={locale:t},n.setItem(et,JSON.stringify(r))}this.emitter.emit("localechange",t)}}},{key:"getLocale",value:function e(){return this.locale}},{key:"onChangeLocale",value:function e(t){var n=this;return this.emitter.on("localechange",t),function(){n.emitter.removeListener("localechange",t)}}}])}();function nt(e){var t=window;return t[e]||(t.g_config||{})[e]||(t.pageConfig||{})[e]}function rt(e){return e.localStorage}Object(r.b)([ze.h.ref,Object(r.d)("design:type",String)],tt.prototype,"_locale",void 0),Object(r.b)([ze.c,Object(r.d)("design:type",Object),Object(r.d)("design:paramtypes",[])],tt.prototype,"locale",null);var ot=new tt,it=n(18);function at(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ut(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,st(r.key),r)}}function ct(e,t,n){return t&&ut(e.prototype,t),n&&ut(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function st(e){var t=lt(e,"string");return"symbol"==bt(t)?t:t+""}function lt(e,t){if("object"!=bt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ft(e,t,n){return t=vt(t),pt(e,ht()?Reflect.construct(t,n||[],vt(e).constructor):t.apply(e,n))}function pt(e,t){if(t&&("object"==bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dt(e)}function dt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ht(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ht=function t(){return!!e})()}function vt(e){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}function mt(e,t){return(mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=wt(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function wt(e,t){if(e){if("string"==typeof e)return Ot(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ot(e,t):void 0}}function Ot(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jt(e){var t=[e,e.replace("-","_")];return"zh-TW"===e||"en-US"===e?(t.push("zh-CN"),t.push("zh_CN")):(t.push("en-US"),t.push("en_US"),"zh-CN"!==e&&(t.push("zh-CN"),t.push("zh_CN"))),t}function Et(e,t,n){return e&&t?new He(e,n).format(t):e;var r}function kt(e,t){if(!Object(We.I)(e))return e;if(e.intl)return e.intl;var n=ot.getLocale(),r,o,i=gt(jt(n)),a;try{for(i.s();!(a=i.n()).done;){var u;if(null!=(o=e[a.value]))break}}catch(e){i.e(e)}finally{i.f()}return null==o?"##intl@".concat(n,"##"):Et(o,t,n)}function St(e){if(!e||"object"!==bt(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=kt(e[n])})),t}function _t(e,t){return Object(We.I)(e)?e.intlNode?e.intlNode:Object(o.createElement)(Pt,{data:e,params:t}):e}var Pt=function(e){function t(){return at(this,t),ft(this,t,arguments)}return yt(t,e),ct(t,[{key:"render",value:function e(){var t=this.props,n,r;return kt(t.data,t.params)}}])}(o.Component);function xt(e){var t=function(){var t=ot.getLocale();if("string"==typeof e){if(window[e])return window[e][t]||{};var n="".concat(e,"_").concat(t.toLocaleLowerCase());return window[n]||{}}return e&&"object"===bt(e)&&e[t]||{}}();function n(e,n){var r=t[e];return null==r?"##intl@".concat(e,"##"):Et(r,n,ot.getLocale())}var i=function(e){function t(){return at(this,t),ft(this,t,arguments)}return yt(t,e),ct(t,[{key:"render",value:function e(){var t=this.props,r,o;return n(t.id,t.params)}}])}(o.Component);return i=Object(r.b)([it.i],i),{intlNode:function e(t,n){return Object(o.createElement)(i,{id:t,params:n})},intl:n,getLocale:function e(){return ot.getLocale()},setLocale:function e(t){ot.setLocale(t)}}}Pt=Object(r.b)([it.i],Pt)},function(e,t){var n=function(e){return setTimeout((function(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},r="undefined"!=typeof requestIdleCallback;e.exports=r?requestIdleCallback:n,e.exports.cancelIdleCallback=r?cancelIdleCallback:clearTimeout},function(e,t,n){"use strict";var r;n.d(t,"e",(function(){return i})),n.d(t,"j",(function(){return a.h})),n.d(t,"h",(function(){return a.f})),n.d(t,"c",(function(){return a.b})),n.d(t,"f",(function(){return a.d})),n.d(t,"k",(function(){return a.i})),n.d(t,"d",(function(){return a.c})),n.d(t,"b",(function(){return a.a})),n.d(t,"l",(function(){return a.j})),n.d(t,"n",(function(){return a.k})),n.d(t,"g",(function(){return a.e})),n.d(t,"i",(function(){return a.g})),n.d(t,"a",(function(){return A})),n.d(t,"m",(function(){return F})),n.d(t,"o",(function(){return G}));var o=null===(r=document.currentScript)||void 0===r?void 0:r.src.replace(/^(.*\/)[^/]+$/,"$1");function i(){return o||""}var a=n(22),u=n(59),c;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=d(e,"string");return"symbol"==h(t)?t:t+""}function d(e,t){if("object"!=h(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=h(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t){return w(e)||g(e,t)||m(e,t)||y()}function y(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function m(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function w(e){if(Array.isArray(e))return e}var O=n.n(u)()("request");function j(e){if(!e)return"";var t=[];return Object.entries(e||{}).forEach((function(e){var n=v(e,2),r=n[0],o=n[1];null!=o&&""!==o&&("object"===h(o)?t.push("".concat(r,"=").concat(encodeURIComponent(JSON.stringify(o)))):t.push("".concat(r,"=").concat(encodeURIComponent(o))))})),t.join("&")}function E(e,t){var n=j(t);return n?e.indexOf("?")>0?"".concat(e,"&").concat(n):"".concat(e,"?").concat(n):e}function k(e,t,n,r){var o=l({Accept:"application/json"},n);return _(E(e,t),"GET",void 0,o,r)}function S(e,t,n,r){var o=l({Accept:"application/json","Content-Type":"application/x-www-form-urlencoded"},n);return _(e,"POST",o["Content-Type"].indexOf("application/json")>-1||Array.isArray(t)?JSON.stringify(t):j(t),o,r)}function _(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;return new Promise((function(i,a){o&&o.timeout&&setTimeout((function(){a(new Error("timeout"))}),o.timeout),fetch(e,l({method:t,credentials:"include",headers:r,body:n},o)).then((function(e){switch(e.status){case 200:case 201:case 202:return e.json();case 204:return"DELETE"===t?{success:!0}:{__success:!1,code:e.status};case 400:case 401:case 403:case 404:case 406:case 410:case 422:case 500:return e.json().then((function(t){return{__success:!1,code:e.status,data:t}})).catch((function(){return{__success:!1,code:e.status}}));default:return null}})).then((function(e){e&&!1!==e.__success?i(e):(delete e.__success,a(e))})).catch((function(e){O(e),a(e)}))}))}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,T(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function T(e){var t=L(e,"string");return"symbol"==P(t)?t:t+""}function L(e,t){if("object"!=P(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=P(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var A=function(){function e(){x(this,e),this.actives=[],this.modals=[]}return C(e,[{key:"mount",value:function e(t){var n=this,r=function e(t){if(!n.checkModalDown(t)){var r=n.first;r&&!r.internalCheckInRange(t)&&(n.internalSuspenseItem(r),r.internalTriggerBlur())}};return t.document.addEventListener("click",r,!0),function(){t.document.removeEventListener("click",r,!0)}}},{key:"first",get:function e(){return this.actives[0]}},{key:"addModal",value:function e(t,n){this.modals.push({checkDown:t,checkOpen:n})}},{key:"checkModalOpen",value:function e(){return this.modals.some((function(e){return e.checkOpen()}))}},{key:"checkModalDown",value:function e(t){return this.modals.some((function(e){return e.checkDown(t)}))}},{key:"execSave",value:function e(){this.checkModalOpen()||this.first&&this.first.internalTriggerSave()}},{key:"execEsc",value:function e(){var t=this.first;t&&(this.internalSuspenseItem(t),t.internalTriggerEsc())}},{key:"create",value:function e(t){return new R(this,t)}},{key:"internalActiveItem",value:function e(t){var n=this.actives[0];if(n!==t){var r=this.actives.indexOf(t);r>-1&&this.actives.splice(r,1),this.actives.unshift(t),!t.isModal&&n&&n.internalTriggerBlur(),t.internalTriggerActive()}}},{key:"internalSuspenseItem",value:function e(t){var n=this.actives.indexOf(t),r;n>-1&&(this.actives.splice(n,1),null===(r=this.first)||void 0===r||r.internalTriggerActive())}}])}(),R=function(){function e(t,n){x(this,e),this.tracker=void 0,this.config=void 0,this.isModal=void 0,this.tracker=t,this.config=n,this.isModal=null!=n.modal&&n.modal}return C(e,[{key:"active",value:function e(){this.tracker.internalActiveItem(this)}},{key:"suspense",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"purge",value:function e(){this.tracker.internalSuspenseItem(this)}},{key:"internalCheckInRange",value:function e(t){var n=this.config.range;return!!n&&("function"==typeof n?n(t):n.contains(t.target))}},{key:"internalTriggerBlur",value:function e(){this.config.onBlur&&this.config.onBlur()}},{key:"internalTriggerSave",value:function e(){return!!this.config.onSave&&(this.config.onSave(),!0)}},{key:"internalTriggerEsc",value:function e(){this.config.onEsc&&this.config.onEsc()}},{key:"internalTriggerActive",value:function e(){this.config.onActive&&this.config.onActive()}}])}(),M=!0;function D(e){M=e}function I(){D(!0)}function B(){D(!1)}function V(){return M}function F(e){B(),e(),I()}function G(e){return function(){V()&&e.apply(void 0,arguments)}}var H=n(27)},function(e,t,n){(function(t){var n=a(),r=u(),o=c(),i="undefined"!=typeof window?window:t;function a(){return Object.assign?Object.assign:function e(t,n,r,o){for(var i=1;i<arguments.length;i++)f(Object(arguments[i]),(function(e,n){t[n]=e}));return t}}function u(){if(Object.create)return function e(t,r,o,i){var a=l(arguments,1);return n.apply(this,[Object.create(t)].concat(a))};{function e(){}return function t(r,o,i,a){var u=l(arguments,1);return e.prototype=r,n.apply(this,[new e].concat(u))}}}function c(){return String.prototype.trim?function e(t){return String.prototype.trim.call(t)}:function e(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}}function s(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}}function l(e,t){return Array.prototype.slice.call(e,t||0)}function f(e,t){d(e,(function(e,n){return t(e,n),!1}))}function p(e,t){var n=h(e)?[]:{};return d(e,(function(e,r){return n[r]=t(e,r),!1})),n}function d(e,t){if(h(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function h(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}function v(e){return e&&"[object Function]"==={}.toString.call(e)}function y(e){return e&&"[object Object]"==={}.toString.call(e)}e.exports={assign:n,create:r,trim:o,bind:s,slice:l,each:f,map:p,pluck:d,isList:h,isFunction:v,isObject:y,Global:i}}).call(this,n(33))},function(e,t,n){const r=n(38),o=(e,t,n)=>new r(e,n).compare(new r(t,n));e.exports=o},function(e,t,n){"use strict";var r=n(43);n.d(t,"Setters",(function(){return r.a}));var o=n(44);n.o(o,"Command")&&n.d(t,"Command",(function(){return o.Command})),n.o(o,"HelpTip")&&n.d(t,"HelpTip",(function(){return o.HelpTip})),n.o(o,"Hotkey")&&n.d(t,"Hotkey",(function(){return o.Hotkey})),n.o(o,"Tip")&&n.d(t,"Tip",(function(){return o.Tip})),n.o(o,"TipContainer")&&n.d(t,"TipContainer",(function(){return o.TipContainer})),n.o(o,"Title")&&n.d(t,"Title",(function(){return o.Title})),n.o(o,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return o.createModuleEventBus})),n.o(o,"engineConfig")&&n.d(t,"engineConfig",(function(){return o.engineConfig})),n.o(o,"globalContext")&&n.d(t,"globalContext",(function(){return o.globalContext}));var i=n(15);n.d(t,"Tip",(function(){return i.a}))},function(e,t,n){"use strict";n.d(t,"h",(function(){return r.observable})),n.d(t,"f",(function(){return r.observable})),n.d(t,"b",(function(){return r.autorun})),n.d(t,"d",(function(){return r.makeObservable})),n.d(t,"i",(function(){return r.reaction})),n.d(t,"c",(function(){return r.computed})),n.d(t,"a",(function(){return r.action})),n.d(t,"j",(function(){return r.runInAction})),n.d(t,"k",(function(){return r.untracked})),n.d(t,"e",(function(){return r})),n.d(t,"g",(function(){return ve}));var r=n(7),o=n(2),i=n.n(o);if(!o.useState)throw new Error("mobx-react-lite requires React with Hooks support");if(!r.makeObservable)throw new Error("mobx-react-lite@3 requires mobx at least version 6 to be available");var a=n(10);function u(e){e()}function c(e){e||(e=u),Object(r.configure)({reactionScheduler:e})}var s=function(){return!0},l=[];function f(e){l.includes(e)||(l.push(e),console.warn(e))}function p(e){return Object(r.getDependencyTree)(e)}var d=1e4,h=1e4,v=function(){function e(e){var t=this;Object.defineProperty(this,"finalize",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"registrations",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"sweepTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sweep",{enumerable:!0,configurable:!0,writable:!0,value:function(e){void 0===e&&(e=1e4),clearTimeout(t.sweepTimeout),t.sweepTimeout=void 0;var n=Date.now();t.registrations.forEach((function(r,o){n-r.registeredAt>=e&&(t.finalize(r.value),t.registrations.delete(o))})),t.registrations.size>0&&t.scheduleSweep()}}),Object.defineProperty(this,"finalizeAllImmediately",{enumerable:!0,configurable:!0,writable:!0,value:function(){t.sweep(0)}})}return Object.defineProperty(e.prototype,"register",{enumerable:!1,configurable:!0,writable:!0,value:function(e,t,n){this.registrations.set(n,{value:t,registeredAt:Date.now()}),this.scheduleSweep()}}),Object.defineProperty(e.prototype,"unregister",{enumerable:!1,configurable:!0,writable:!0,value:function(e){this.registrations.delete(e)}}),Object.defineProperty(e.prototype,"scheduleSweep",{enumerable:!1,configurable:!0,writable:!0,value:function(){void 0===this.sweepTimeout&&(this.sweepTimeout=setTimeout(this.sweep,1e4))}}),e}(),y,m=new("undefined"!=typeof FinalizationRegistry?FinalizationRegistry:v)((function(e){var t;null===(t=e.reaction)||void 0===t||t.dispose(),e.reaction=null})),b=!1;function g(e){b=e}function w(){return b}var O=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i};function j(e){return"observer".concat(e)}var E=function(){function e(){}return e}();function k(){return new E}function S(e,t){if(void 0===t&&(t="observed"),w())return e();var n,o=O(i.a.useState(k),1)[0],a,u=O(i.a.useState(),2)[1],c=function(){return u([])},s=i.a.useRef(null);s.current||(s.current={reaction:null,mounted:!1,changedBeforeMount:!1});var l=s.current,f,d;if(l.reaction||(l.reaction=new r.Reaction(j(t),(function(){l.mounted?c():l.changedBeforeMount=!0})),m.register(o,l,l)),i.a.useDebugValue(l.reaction,p),i.a.useEffect((function(){return m.unregister(l),l.mounted=!0,l.reaction?l.changedBeforeMount&&(l.changedBeforeMount=!1,c()):(l.reaction=new r.Reaction(j(t),(function(){c()})),c()),function(){l.reaction.dispose(),l.reaction=null,l.mounted=!1,l.changedBeforeMount=!1}}),[]),l.reaction.track((function(){try{f=e()}catch(e){d=e}})),d)throw d;return f}var _=!0,P="function"==typeof Symbol&&Symbol.for,x=P?Symbol.for("react.forward_ref"):"function"==typeof o.forwardRef&&Object(o.forwardRef)((function(e){return null})).$$typeof,N=P?Symbol.for("react.memo"):"function"==typeof o.memo&&Object(o.memo)((function(e){return null})).$$typeof;function C(e,t){var n;if(N&&e.$$typeof===N)throw new Error("[mobx-react-lite] You are trying to use `observer` on a function component wrapped in either another `observer` or `React.memo`. The observer already applies 'React.memo' for you.");if(w())return e;var r=null!==(n=null==t?void 0:t.forwardRef)&&void 0!==n&&n,i=e,a=e.displayName||e.name;if(x&&e.$$typeof===x&&(r=!0,"function"!=typeof(i=e.render)))throw new Error("[mobx-react-lite] `render` property of ForwardRef was not a function");var u=function(e,t){return S((function(){return i(e,t)}),a)};return""!==a&&(u.displayName=a),e.contextTypes&&(u.contextTypes=e.contextTypes),r&&(u=Object(o.forwardRef)(u)),L(e,u=Object(o.memo)(u)),u}var T={$$typeof:!0,render:!0,compare:!0,type:!0,displayName:!0};function L(e,t){Object.keys(e).forEach((function(n){T[n]||Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}function A(e){var t=e.children,n=e.render,r=t||n;return"function"!=typeof r?null:S(r)}function R(e,t,n,r,o){var i="children"===t?"render":"children",a="function"==typeof e[t],u="function"==typeof e[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+n):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}function M(e,t){return Object(o.useState)((function(){return Object(r.observable)(e(),t,{autoBind:!0})}))[0]}A.displayName="Observer";var D=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),o,i=[],a;try{for(;(void 0===t||t-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(e){a={error:e}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return i},I;function B(e){var t,n=D(Object(o.useState)((function(){return Object(r.observable)(e,{},{deep:!1})})),1)[0];return Object(r.runInAction)((function(){Object.assign(n,e)})),n}function V(e,t){var n=t&&B(t);return Object(o.useState)((function(){return Object(r.observable)(e(n),void 0,{autoBind:!0})}))[0]}c(a.unstable_batchedUpdates);var F=null!==(I=m.finalizeAllImmediately)&&void 0!==I?I:function(){};function G(e,t){return void 0===t&&(t="observed"),S(e,t)}function H(e){g(e)}var U=0;function z(e){if("function"==typeof Symbol)return Symbol(e);var t="__$mobx-react "+e+" ("+U+")";return U++,t}var W={};function $(e){return W[e]||(W[e]=z(e)),W[e]}function X(e,t){if(Y(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var o=0;o<n.length;o++)if(!Object.hasOwnProperty.call(t,n[o])||!Y(e[n[o]],t[n[o]]))return!1;return!0}function Y(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}var q={$$typeof:1,render:1,compare:1,type:1,childContextTypes:1,contextType:1,contextTypes:1,defaultProps:1,getDefaultProps:1,getDerivedStateFromError:1,getDerivedStateFromProps:1,mixins:1,displayName:1,propTypes:1};function K(e,t){var n=Object.getOwnPropertyNames(Object.getPrototypeOf(e));Object.getOwnPropertyNames(e).forEach((function(r){q[r]||-1!==n.indexOf(r)||Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}))}function J(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var Q=$("patchMixins"),Z=$("patchedDefinition");function ee(e,t){var n=e[Q]=e[Q]||{},r=n[t]=n[t]||{};return r.locks=r.locks||0,r.methods=r.methods||[],r}function te(e,t){for(var n=this,r=arguments.length,o=new Array(r>2?r-2:0),i=2;i<r;i++)o[i-2]=arguments[i];t.locks++;try{var a;return null!=e&&(a=e.apply(this,o)),a}finally{t.locks--,0===t.locks&&t.methods.forEach((function(e){e.apply(n,o)}))}}function ne(e,t){var n;return function n(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];te.call.apply(te,[this,e,t].concat(o))}}function re(e,t,n){var r=ee(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var o=Object.getOwnPropertyDescriptor(e,t);if(!o||!o[Z]){var i=e[t],a=oe(e,t,o?o.enumerable:void 0,r,i);Object.defineProperty(e,t,a)}}function oe(e,t,n,r,o){var i,a=ne(o,r);return(i={})[Z]=!0,i.get=function e(){return a},i.set=function o(i){if(this===e)a=ne(i,r);else{var u=oe(this,t,n,r,i);Object.defineProperty(this,t,u)}},i.configurable=!0,i.enumerable=n,i}var ie=r.$mobx||"$mobx",ae=$("isMobXReactObserver"),ue=$("isUnmounted"),ce=$("skipRender"),se=$("isForcingUpdate");function le(e){var t=e.prototype;if(e[ae]){var n=fe(t);console.warn("The provided component class ("+n+")\n                has already been declared as an observer component.")}else e[ae]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==o.PureComponent)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==de)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=de;he(t,"props"),he(t,"state"),e.contextType&&he(t,"context");var r=t.render;if("function"!=typeof r){var i=fe(t);throw new Error("[mobx-react] class component ("+i+") is missing `render` method.\n`observer` requires `render` being a function defined on prototype.\n`render = () => {}` or `render = function() {}` is not supported.")}return t.render=function(){return this.render=w()?r:pe.call(this,r),this.render()},re(t,"componentDidMount",(function(){this[ue]=!1,this.render[ie]||o.Component.prototype.forceUpdate.call(this)})),re(t,"componentWillUnmount",(function(){if(!w()){var e=this.render[ie];if(e)e.dispose(),this.render[ie]=null;else{var t=fe(this);console.warn("The reactive render of an observer class component ("+t+")\n                was overridden after MobX attached. This may result in a memory leak if the\n                overridden reactive render was not properly disposed.")}this[ue]=!0}})),e}function fe(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function pe(e){var t=this;J(this,ce,!1),J(this,se,!1);var n=fe(this),i=e.bind(this),a=!1,u=function e(){var i=new r.Reaction(n+".render()",(function(){if(!a&&(a=!0,!0!==t[ue])){var e=!0;try{J(t,se,!0),t[ce]||o.Component.prototype.forceUpdate.call(t),e=!1}finally{J(t,se,!1),e&&(i.dispose(),t.render[ie]=null)}}}));return i.reactComponent=t,i};function c(){var e;a=!1;var t=null!=(e=c[ie])?e:c[ie]=u(),n=void 0,o=void 0;if(t.track((function(){try{o=Object(r._allowStateChanges)(!1,i)}catch(e){n=e}})),n)throw n;return o}return c}function de(e,t){return w()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==t||!X(this.props,e)}function he(e,t){var n=$("reactProp_"+t+"_valueHolder"),o=$("reactProp_"+t+"_atomHolder");function i(){return this[o]||J(this,o,Object(r.createAtom)("reactive "+t)),this[o]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function e(){var t=!1;return r._allowStateReadsStart&&r._allowStateReadsEnd&&(t=Object(r._allowStateReadsStart)(!0)),i.call(this).reportObserved(),r._allowStateReadsStart&&r._allowStateReadsEnd&&Object(r._allowStateReadsEnd)(t),this[n]},set:function e(t){this[se]||X(this[n],t)?J(this,n,t):(J(this,n,t),J(this,ce,!0),i.call(this).reportChanged(),J(this,ce,!1))}})}function ve(e){return!0===e.isMobxInjector&&console.warn("Mobx observer: You are trying to use `observer` on a component that already has `inject`. Please apply `observer` before applying `inject`"),Object.prototype.isPrototypeOf.call(o.Component,e)||Object.prototype.isPrototypeOf.call(o.PureComponent,e)?le(e):C(e)}function ye(){return(ye=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function me(e,t){if(null==e)return{};var n={},r=Object.keys(e),o,i;for(i=0;i<r.length;i++)o=r[i],t.indexOf(o)>=0||(n[o]=e[o]);return n}var be=["children"],ge=i.a.createContext({});function we(e){var t=e.children,n=me(e,be),r=i.a.useContext(ge),o,a=i.a.useRef(ye({},r,n)).current,u;return i.a.createElement(ge.Provider,{value:a},t)}function Oe(e,t,n,r){var o=i.a.forwardRef((function(n,r){var o=ye({},n),a=i.a.useContext(ge);return Object.assign(o,e(a||{},o)||{}),r&&(o.ref=r),i.a.createElement(t,o)}));return r&&(o=ve(o)),o.isMobxInjector=!0,K(t,o),o.wrappedComponent=t,o.displayName=je(t,n),o}function je(e,t){var n,r=e.displayName||e.name||e.constructor&&e.constructor.name||"Component";return n=t?"inject-with-"+t+"("+r+")":"inject("+r+")"}function Ee(e){return function(t,n){return e.forEach((function(e){if(!(e in n)){if(!(e in t))throw new Error("MobX injector: Store '"+e+"' is not available! Make sure it is provided by some Provider");n[e]=t[e]}})),n}}function ke(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("function"==typeof arguments[0]){var r=arguments[0];return function(e){return Oe(r,e,r.name,!0)}}return function(e){return Oe(Ee(t),e,t.join("-"),!1)}}we.displayName="MobXProvider";var Se=$("disposeOnUnmountProto"),_e=$("disposeOnUnmountInst");function Pe(){var e=this;[].concat(this[Se]||[],this[_e]||[]).forEach((function(t){var n="string"==typeof t?e[t]:t;null!=n&&(Array.isArray(n)?n.map((function(e){return e()})):n())}))}function xe(e,t){if(Array.isArray(t))return t.map((function(t){return xe(e,t)}));var n=Object.getPrototypeOf(e).constructor,r=Object.getPrototypeOf(e.constructor),o=Object.getPrototypeOf(Object.getPrototypeOf(e));if(n!==i.a.Component&&n!==i.a.PureComponent&&r!==i.a.Component&&r!==i.a.PureComponent&&o!==i.a.Component&&o!==i.a.PureComponent)throw new Error("[mobx-react] disposeOnUnmount only supports direct subclasses of React.Component or React.PureComponent.");if("string"!=typeof t&&"function"!=typeof t&&!Array.isArray(t))throw new Error("[mobx-react] disposeOnUnmount only works if the parameter is either a property key or a function.");var a="string"==typeof t,u=!!e[Se]||!!e[_e],c;return(a?e[Se]||(e[Se]=[]):e[_e]||(e[_e]=[])).push(t),u||re(e,"componentWillUnmount",Pe),"string"!=typeof t?t:void 0}function Ne(e){function t(t,n,o,i,a,u){for(var c=arguments.length,s=new Array(c>6?c-6:0),l=6;l<c;l++)s[l-6]=arguments[l];return Object(r.untracked)((function(){if(i=i||"<<anonymous>>",u=u||o,null==n[o]){if(t){var r=null===n[o]?"null":"undefined";return new Error("The "+a+" `"+u+"` is marked as required in `"+i+"`, but its value is `"+r+"`.")}return null}return e.apply(void 0,[n,o,i,a,u].concat(s))}))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function Ce(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function Te(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":Ce(t,e)?"symbol":t}function Le(e){var t=Te(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function Ae(e,t){return Ne((function(n,o,i,a,u){return Object(r.untracked)((function(){if(e&&Te(n[o])===t.toLowerCase())return null;var a;switch(t){case"Array":a=r.isObservableArray;break;case"Object":a=r.isObservableObject;break;case"Map":a=r.isObservableMap;break;default:throw new Error("Unexpected mobxType: "+t)}var c=n[o];if(!a(c)){var s=Le(c),l=e?" or javascript `"+t.toLowerCase()+"`":"";return new Error("Invalid prop `"+u+"` of type `"+s+"` supplied to `"+i+"`, expected `mobx.Observable"+t+"`"+l+".")}return null}))}))}function Re(e,t){return Ne((function(n,o,i,a,u){for(var c=arguments.length,s=new Array(c>5?c-5:0),l=5;l<c;l++)s[l-5]=arguments[l];return Object(r.untracked)((function(){if("function"!=typeof t)return new Error("Property `"+u+"` of component `"+i+"` has invalid PropType notation.");var r=Ae(e,"Array")(n,o,i,a,u);if(r instanceof Error)return r;for(var c=n[o],l=0;l<c.length;l++)if((r=t.apply(void 0,[c,l,i,a,u+"["+l+"]"].concat(s)))instanceof Error)return r;return null}))}))}var Me,De,Ie,Be,Ve,Fe,Ge,He=Ae(!1,"Array"),Ue=Re.bind(null,!1),ze=Ae(!1,"Map"),We=Ae(!1,"Object"),$e=Ae(!0,"Array"),Xe=Re.bind(null,!0),Ye=Ae(!0,"Object");if(!o.Component)throw new Error("mobx-react requires React to be available");if(!r.observable)throw new Error("mobx-react requires mobx to be available");Object(r.configure)({enforceActions:"never"})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.logger=void 0,o(n(85),t),o(n(24),t),o(n(88),t),o(n(45),t),o(n(46),t),o(n(47),t),o(n(89),t);var i=n(47);t.logger=i.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.symbolString=t.isExtendOf=t.getGlobalType=t.isClass=void 0;var r=n(34),o=n(45),i=0,a={};function u(e){return(null==e?void 0:e.prototype)&&e.prototype.constructor===e}function c(e,t){if(void 0===t&&(t=""),!e)throw new Error("no key.");if(["string","symbol","object"].includes(typeof e))return e;if(e.hasOwnProperty("__type"))return e.__type;var n,o=e[r.nameSymbol]||e.name;if("function"!=typeof e||!o)throw new Error("data MUST be a class or string.");return a[n=t+o]&&(n=n+"_"+i++),a[n]=!0,Object.defineProperty(e,"__type",{configurable:!1,enumerable:!1,writable:!1,value:n}),n}function s(e,t){if(!u(e)||!u(t))throw new Error("classType and superClassType MUST be a class.");var n=c(t);return!!(0,o.getSuperClassInfo)(e).find((function(e){return e.type===n}))}function l(e){return"symbol"==typeof e?e.toString():e}t.isClass=u,t.getGlobalType=c,t.isExtendOf=s,t.symbolString=l},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.classLoader=t.ClassLoader=t.DuplicateRegistrationError=void 0;var a=n(13),u=n(23),c=function(e){function t(t){return e.call(this,"Type ".concat(t.name," is already registration."))||this}return r(t,e),t}(Error);t.DuplicateRegistrationError=c;var s=function(){function e(e,t,n){void 0===e&&(e=new Map),void 0===t&&(t=new Map),void 0===n&&(n={}),this.classInfoMap=e,this.implementCacheMap=t,this.callback=n}return e.prototype.hasClass=function(e){return this.classInfoMap.has(e)},e.prototype.registerClass=function(e,t){var n=this,r,o,s;if(this.classInfoMap.has(e))throw new c(e);var l=(0,a.getMetadata)(e);l.injectable=!0;var f=t||l.classInfo;if(f.name||(f.name=e.name),!(null===(r=f.extends)||void 0===r?void 0:r.length)){var p=(0,u.getSuperClassInfo)(e);f.extends=p.map((function(e){return e.class}))}return this.classInfoMap.set(e,f),f.implements||(f.implements=[]),i(i([],f.extends,!0),f.implements,!0).forEach((function(t){var r=n.getImplCacheByType(t);r.every((function(t){return t.type!==e}))&&r.push({type:e,info:f})})),null===(s=(o=this.callback).onRegisterClass)||void 0===s||s.call(o,e,f),this},e.prototype.unregisterClass=function(e){var t=this,n,r,o=this.classInfoMap.get(e);if(o){i(i([],o.extends,!0),o.implements,!0).forEach((function(n){var r=t.getImplCacheByType(n),o=r.findIndex((function(t){return t.type===e}));o>=0&&r.splice(o,1)}));var a=this.classInfoMap.delete(e);return null===(r=(n=this.callback).onUnregisterClass)||void 0===r||r.call(n,e,o),a}return!1},e.prototype.getClassInfo=function(e){return this.classInfoMap.get(e)},e.prototype.filterClasses=function(e){var t=[];return this.classInfoMap.forEach((function(n,r){var o={type:r,info:n};e(o)&&t.push(o)})),t},e.prototype.getImplementClasses=function(e){return this.getImplCacheByType(e)},e.prototype.clearAll=function(){return this.classInfoMap.clear(),this.implementCacheMap.clear(),this},e.prototype.clone=function(){var e,t=new(0,this.constructor);return t.initWith(this),t},e.prototype.initWith=function(e){this.classInfoMap=new Map(e.classInfoMap),this.implementCacheMap=this.cloneImplCacheMap(e.implementCacheMap),this.callback=e.callback},e.prototype.cloneImplCacheMap=function(e){return new Map(Array.from(e.entries()).map((function(e){var t=e[0],n=e[1];return[t,i([],n,!0)]})))},e.prototype.getImplCacheByType=function(e){var t=(0,u.getGlobalType)(e);return this.implementCacheMap.has(t)?this.implementCacheMap.get(t):(this.implementCacheMap.set(t,[]),this.getImplCacheByType(e))},e}();t.ClassLoader=s,t.classLoader=new s},function(e,t,n){(function(t){const n="object"==typeof t&&t.env&&t.env.NODE_DEBUG&&/\bsemver\b/i.test(t.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=n}).call(this,n(42))},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(32),o=n.n(r),i=n(30);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function s(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e){var t=f(e,"string");return"symbol"==a(t)?t:t+""}function f(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var p=Object(i.a)({level:"warn",bizName:"Preference"}),d="ale",h=function(){function e(){u(this,e)}return s(e,[{key:"getStorageKey",value:function e(t,n){var r=n||"__inner__";return"".concat("ale","_").concat(r,".").concat(t)}},{key:"set",value:function e(t,n,r){if(t&&"string"==typeof t&&0!==t.length){var i=this.getStorageKey(t,r);p.debug("storageKey:",i,"set with value:",n),o.a.set(i,n)}else p.error("Invalid key when setting preference",t)}},{key:"get",value:function e(t,n){if(t&&"string"==typeof t&&0!==t.length){var r=this.getStorageKey(t,n),i=o.a.get(r);return p.debug("storageKey:",r,"get with result:",i),i}p.error("Invalid key when getting from preference",t)}},{key:"contains",value:function e(t,n){if(!t||"string"!=typeof t||0===t.length)return p.error("Invalid key when getting from preference",t),!1;var r=this.getStorageKey(t,n),i=o.a.get(r);return!(null==i)}}])}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var r=n(8),o=n.n(r),i=n(3),a=n(30),u=n(27);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=d(e,"string");return"symbol"==c(t)?t:t+""}function d(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=Object(a.a)({level:"log",bizName:"config"}),v=!0,y={enableCondition:{type:"boolean",description:"\u662f\u5426\u5f00\u542f condition \u7684\u80fd\u529b\uff0c\u9ed8\u8ba4\u5728\u8bbe\u8ba1\u5668\u4e2d\u4e0d\u7ba1 condition \u662f\u5565\u90fd\u6b63\u5e38\u5c55\u793a"},designMode:{type:"string",enum:["design","live"],default:"design",description:"\u8bbe\u8ba1\u6a21\u5f0f\uff0clive \u6a21\u5f0f\u5c06\u4f1a\u5b9e\u65f6\u5c55\u793a\u53d8\u91cf\u503c"},device:{type:"string",enum:["default","mobile","any string value"],default:"default",description:"\u8bbe\u5907\u7c7b\u578b"},deviceClassName:{type:"string",default:void 0,description:"\u6307\u5b9a\u521d\u59cb\u5316\u7684 deviceClassName\uff0c\u6302\u8f7d\u5230\u753b\u5e03\u7684\u9876\u5c42\u8282\u70b9\u4e0a"},locale:{type:"string",default:"zh-CN",description:"\u8bed\u8a00"},renderEnv:{type:"string",enum:["react","any string value"],default:"react",description:"\u6e32\u67d3\u5668\u7c7b\u578b"},deviceMapper:{type:"object",description:"\u8bbe\u5907\u7c7b\u578b\u6620\u5c04\u5668\uff0c\u5904\u7406\u8bbe\u8ba1\u5668\u4e0e\u6e32\u67d3\u5668\u4e2d device \u7684\u6620\u5c04"},enableStrictPluginMode:{type:"boolean",default:!0,description:"\u5f00\u542f\u4e25\u683c\u63d2\u4ef6\u6a21\u5f0f\uff0c\u9ed8\u8ba4\u503c\uff1aSTRICT_PLUGIN_MODE_DEFAULT , \u4e25\u683c\u6a21\u5f0f\u4e0b\uff0c\u63d2\u4ef6\u5c06\u65e0\u6cd5\u901a\u8fc7 engineOptions \u4f20\u9012\u81ea\u5b9a\u4e49\u914d\u7f6e\u9879"},enableReactiveContainer:{type:"boolean",default:!1,description:"\u5f00\u542f\u62d6\u62fd\u7ec4\u4ef6\u65f6\uff0c\u5373\u5c06\u88ab\u653e\u5165\u7684\u5bb9\u5668\u662f\u5426\u6709\u89c6\u89c9\u53cd\u9988"},disableAutoRender:{type:"boolean",default:!1,description:"\u5173\u95ed\u753b\u5e03\u81ea\u52a8\u6e32\u67d3\uff0c\u5728\u8d44\u4ea7\u5305\u591a\u91cd\u5f02\u6b65\u52a0\u8f7d\u7684\u573a\u666f\u6709\u6548"},disableDetecting:{type:"boolean",default:!1,description:"\u5173\u95ed\u62d6\u62fd\u7ec4\u4ef6\u65f6\u7684\u865a\u7ebf\u54cd\u5e94\uff0c\u6027\u80fd\u8003\u8651"},customizeIgnoreSelectors:{type:"function",default:void 0,description:"\u5b9a\u5236\u753b\u5e03\u4e2d\u70b9\u51fb\u88ab\u5ffd\u7565\u7684 selectors, eg. (defaultIgnoreSelectors: string[], e: MouseEvent) => string[]"},disableDefaultSettingPanel:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u9762\u677f"},disableDefaultSetters:{type:"boolean",default:!1,description:"\u7981\u6b62\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u5668"},enableCanvasLock:{type:"boolean",default:!1,description:"\u6253\u5f00\u753b\u5e03\u7684\u9501\u5b9a\u64cd\u4f5c"},enableLockedNodeSetting:{type:"boolean",default:!1,description:"\u5bb9\u5668\u9501\u5b9a\u540e\uff0c\u5bb9\u5668\u672c\u8eab\u662f\u5426\u53ef\u4ee5\u8bbe\u7f6e\u5c5e\u6027\uff0c\u4ec5\u5f53\u753b\u5e03\u9501\u5b9a\u7279\u6027\u5f00\u542f\u65f6\u751f\u6548"},stayOnTheSameSettingTab:{type:"boolean",default:!1,description:"\u5f53\u9009\u4e2d\u8282\u70b9\u5207\u6362\u65f6\uff0c\u662f\u5426\u505c\u7559\u5728\u76f8\u540c\u7684\u8bbe\u7f6e tab \u4e0a"},hideSettingsTabsWhenOnlyOneItem:{type:"boolean",description:"\u662f\u5426\u5728\u53ea\u6709\u4e00\u4e2a item \u7684\u65f6\u5019\u9690\u85cf\u8bbe\u7f6e tabs"},loadingComponent:{type:"ComponentType",default:void 0,description:"\u81ea\u5b9a\u4e49 loading \u7ec4\u4ef6"},supportVariableGlobally:{type:"boolean",default:!1,description:"\u8bbe\u7f6e\u6240\u6709\u5c5e\u6027\u652f\u6301\u53d8\u91cf\u914d\u7f6e"},visionSettings:{type:"object",description:"Vision-polyfill settings"},simulatorUrl:{type:"array",description:"\u81ea\u5b9a\u4e49 simulatorUrl \u7684\u5730\u5740"},appHelper:{type:"object",description:"\u5b9a\u4e49 utils \u548c constants \u7b49\u5bf9\u8c61"},requestHandlersMap:{type:"object",description:"\u6570\u636e\u6e90\u5f15\u64ce\u7684\u8bf7\u6c42\u5904\u7406\u5668\u6620\u5c04"},thisRequiredInJSE:{type:"boolean",description:"JSExpression \u662f\u5426\u53ea\u652f\u6301\u4f7f\u7528 this \u6765\u8bbf\u95ee\u4e0a\u4e0b\u6587\u53d8\u91cf"},enableStrictNotFoundMode:{type:"boolean",description:"\u5f53\u5f00\u542f\u7ec4\u4ef6\u672a\u627e\u5230\u4e25\u683c\u6a21\u5f0f\u65f6\uff0c\u6e32\u67d3\u6a21\u5757\u4e0d\u4f1a\u9ed8\u8ba4\u7ed9\u4e00\u4e2a\u5bb9\u5668\u7ec4\u4ef6"},focusNodeSelector:{type:"function",description:"\u914d\u7f6e\u6307\u5b9a\u8282\u70b9\u4e3a\u6839\u7ec4\u4ef6"},enableAutoOpenFirstWindow:{type:"boolean",description:"\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\uff0c\u81ea\u52a8\u6253\u5f00\u7b2c\u4e00\u4e2a\u7a97\u53e3",default:!0},enableWorkspaceMode:{type:"boolean",description:"\u662f\u5426\u5f00\u542f\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f",default:!1},workspaceEmptyComponent:{type:"function",description:"\u5e94\u7528\u7ea7\u8bbe\u8ba1\u6a21\u5f0f\u4e0b\uff0c\u7a97\u53e3\u4e3a\u7a7a\u65f6\u5c55\u793a\u7684\u5360\u4f4d\u7ec4\u4ef6"},enableContextMenu:{type:"boolean",description:"\u662f\u5426\u5f00\u542f\u53f3\u952e\u83dc\u5355",default:!1},hideComponentAction:{type:"boolean",description:"\u662f\u5426\u9690\u85cf\u8bbe\u8ba1\u5668\u8f85\u52a9\u5c42",default:!1}},m=function e(t,n){return t&&Object(i.R)(t)?void 0===t.enableStrictPluginMode||null===t.enableStrictPluginMode?n:t.enableStrictPluginMode:n},b,g=new(function(){function e(t){s(this,e),this.config={},this.waits=new Map,this.preference=void 0,this.config=t||{},this.preference=new u.a}return f(e,[{key:"has",value:function e(t){return void 0!==this.config[t]}},{key:"get",value:function e(t,n){return Object(r.get)(this.config,t,n)}},{key:"set",value:function e(t,n){this.config[t]=n,this.notifyGot(t)}},{key:"setConfig",value:function e(t){var n=this;t&&Object.keys(t).forEach((function(e){n.set(e,t[e])}))}},{key:"setEngineOptions",value:function e(t){var n=this,r;if(t&&Object(i.R)(t))if(!0===m(t,!0)){var o=function e(t){var n=y[t];return!(null==n)};Object.keys(t).forEach((function(e){o(e)?n.set(e,t[e]):h.warn("failed to config ".concat(e," to engineConfig, only predefined options can be set under strict mode, predefined options: "),y)}))}else this.setConfig(t)}},{key:"onceGot",value:function e(t){var n=this,r=this.config[t];return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r,o=this,i=null===(r=this.config)||void 0===r?void 0:r[t];return void 0!==i&&n(i),this.setWait(t,n),function(){o.delWait(t,n)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}},{key:"getPreference",value:function e(){return this.preference}}])}())},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(84),t),o(n(34),t),o(n(90),t)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(3);function o(e){return new r.e(e)}},function(e){e.exports=JSON.parse('{"NotValidNodeData":"\u4e0d\u662f\u6709\u6548\u7684\u8282\u70b9\u6570\u636e","SelectComponents":"\u9009\u62e9\u7ec4\u4ef6","CopyAndPaste":"\u590d\u5236","Copy":"\u62f7\u8d1d","PasteToTheBottom":"\u7c98\u8d34\u81f3\u4e0b\u65b9","PasteToTheInside":"\u7c98\u8d34\u81f3\u5185\u90e8","Delete":"\u5220\u9664"}')},function(e,t,n){var r=n(74),o=n(75),i=[n(82)];e.exports=r.createStore(o,i)},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(86),t),o(n(25),t)},function(e,t){const n=Object.freeze({loose:!0}),r=Object.freeze({}),o=e=>e?"object"!=typeof e?n:e:r;e.exports=o},function(e,t,n){const{MAX_SAFE_COMPONENT_LENGTH:r,MAX_SAFE_BUILD_LENGTH:o,MAX_LENGTH:i}=n(37),a=n(26),u=(t=e.exports={}).re=[],c=t.safeRe=[],s=t.src=[],l=t.t={};let f=0;const p="[a-zA-Z0-9-]",d=[["\\s",1],["\\d",i],["[a-zA-Z0-9-]",o]],h=e=>{for(const[t,n]of d)e=e.split(t+"*").join(`${t}{0,${n}}`).split(t+"+").join(`${t}{1,${n}}`);return e},v=(e,t,n)=>{const r=h(t),o=f++;a(e,o,t),l[e]=o,s[o]=t,u[o]=new RegExp(t,n?"g":void 0),c[o]=new RegExp(r,n?"g":void 0)};v("NUMERICIDENTIFIER","0|[1-9]\\d*"),v("NUMERICIDENTIFIERLOOSE","\\d+"),v("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),v("MAINVERSION",`(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})\\.(${s[l.NUMERICIDENTIFIER]})`),v("MAINVERSIONLOOSE",`(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})\\.(${s[l.NUMERICIDENTIFIERLOOSE]})`),v("PRERELEASEIDENTIFIER",`(?:${s[l.NUMERICIDENTIFIER]}|${s[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASEIDENTIFIERLOOSE",`(?:${s[l.NUMERICIDENTIFIERLOOSE]}|${s[l.NONNUMERICIDENTIFIER]})`),v("PRERELEASE",`(?:-(${s[l.PRERELEASEIDENTIFIER]}(?:\\.${s[l.PRERELEASEIDENTIFIER]})*))`),v("PRERELEASELOOSE",`(?:-?(${s[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[l.PRERELEASEIDENTIFIERLOOSE]})*))`),v("BUILDIDENTIFIER","[a-zA-Z0-9-]+"),v("BUILD",`(?:\\+(${s[l.BUILDIDENTIFIER]}(?:\\.${s[l.BUILDIDENTIFIER]})*))`),v("FULLPLAIN",`v?${s[l.MAINVERSION]}${s[l.PRERELEASE]}?${s[l.BUILD]}?`),v("FULL",`^${s[l.FULLPLAIN]}$`),v("LOOSEPLAIN",`[v=\\s]*${s[l.MAINVERSIONLOOSE]}${s[l.PRERELEASELOOSE]}?${s[l.BUILD]}?`),v("LOOSE",`^${s[l.LOOSEPLAIN]}$`),v("GTLT","((?:<|>)?=?)"),v("XRANGEIDENTIFIERLOOSE",s[l.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*"),v("XRANGEIDENTIFIER",s[l.NUMERICIDENTIFIER]+"|x|X|\\*"),v("XRANGEPLAIN",`[v=\\s]*(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:\\.(${s[l.XRANGEIDENTIFIER]})(?:${s[l.PRERELEASE]})?${s[l.BUILD]}?)?)?`),v("XRANGEPLAINLOOSE",`[v=\\s]*(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[l.XRANGEIDENTIFIERLOOSE]})(?:${s[l.PRERELEASELOOSE]})?${s[l.BUILD]}?)?)?`),v("XRANGE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAIN]}$`),v("XRANGELOOSE",`^${s[l.GTLT]}\\s*${s[l.XRANGEPLAINLOOSE]}$`),v("COERCEPLAIN",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?`),v("COERCE",s[l.COERCEPLAIN]+"(?:$|[^\\d])"),v("COERCEFULL",s[l.COERCEPLAIN]+`(?:${s[l.PRERELEASE]})?`+`(?:${s[l.BUILD]})?(?:$|[^\\d])`),v("COERCERTL",s[l.COERCE],!0),v("COERCERTLFULL",s[l.COERCEFULL],!0),v("LONETILDE","(?:~>?)"),v("TILDETRIM",`(\\s*)${s[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",v("TILDE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAIN]}$`),v("TILDELOOSE",`^${s[l.LONETILDE]}${s[l.XRANGEPLAINLOOSE]}$`),v("LONECARET","(?:\\^)"),v("CARETTRIM",`(\\s*)${s[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",v("CARET",`^${s[l.LONECARET]}${s[l.XRANGEPLAIN]}$`),v("CARETLOOSE",`^${s[l.LONECARET]}${s[l.XRANGEPLAINLOOSE]}$`),v("COMPARATORLOOSE",`^${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]})$|^$`),v("COMPARATOR",`^${s[l.GTLT]}\\s*(${s[l.FULLPLAIN]})$|^$`),v("COMPARATORTRIM",`(\\s*)${s[l.GTLT]}\\s*(${s[l.LOOSEPLAIN]}|${s[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",v("HYPHENRANGE",`^\\s*(${s[l.XRANGEPLAIN]})\\s+-\\s+(${s[l.XRANGEPLAIN]})\\s*$`),v("HYPHENRANGELOOSE",`^\\s*(${s[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[l.XRANGEPLAINLOOSE]})\\s*$`),v("STAR","(<|>)?=?\\s*\\*"),v("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),v("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},function(e,t){const n="2.0.0",r=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,i=16,a=250,u=["major","premajor","minor","preminor","patch","prepatch","prerelease"];e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:o,RELEASE_TYPES:u,SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},function(e,t,n){const r=n(26),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(37),{safeRe:a,t:u}=n(36),c=n(35),{compareIdentifiers:s}=n(112);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?a[u.LOOSE]:a[u.FULL]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),s(this.major,e.major)||s(this.minor,e.minor)||s(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("build compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return s(n,o)}while(++t)}inc(e,t,n){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,n),this.inc("pre",t,n);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,n),this.inc("pre",t,n);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(n)?1:0;if(!t&&!1===n)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let r=this.prerelease.length;for(;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);if(-1===r){if(t===this.prerelease.join(".")&&!1===n)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let r=[t,e];!1===n&&(r=[t]),0===s(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=r):this.prerelease=r}break}default:throw new Error("invalid increment argument: "+e)}return this.raw=this.format(),this.build.length&&(this.raw+="+"+this.build.join(".")),this}}e.exports=l},function(e,t,n){"use strict";e.exports=n(68)},function(e,t,n){"use strict";var r="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=r},function(e){e.exports=JSON.parse('{"NotValidNodeData":"Not valid node data","SelectComponents":"Select components","CopyAndPaste":"Copy and Paste","Copy":"Copy","PasteToTheBottom":"Paste to the bottom","PasteToTheInside":"Paste to the inside","Delete":"Delete"}')},function(e,t){var n=e.exports={},r,o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===a||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{o="function"==typeof clearTimeout?clearTimeout:a}catch(e){o=a}}();var s=[],l=!1,f,p=-1;function d(){l&&f&&(l=!1,f.length?s=f.concat(s):p=-1,s.length&&h())}function h(){if(!l){var e=u(d);l=!0;for(var t=s.length;t;){for(f=s,s=[];++p<t;)f&&f[p].run();p=-1,t=s.length}f=null,l=!1,c(e)}}function v(e,t){this.fun=e,this.array=t}function y(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new v(e,t)),1!==s.length||l||u(h)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=y,n.addListener=y,n.once=y,n.off=y,n.removeListener=y,n.removeAllListeners=y,n.emit=y,n.prependListener=y,n.prependOnceListener=y,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n(3);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return(t=l(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e){var t=f(e,"string");return"symbol"==p(t)?t:t+""}function f(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var d=new Map;function h(e,t){if("object"!==p(e)){if(t){if(Object(r.A)(t)&&(t={component:t,title:t.displayName||t.name||"CustomSetter"}),!t.initialValue){var n=v(t.component);n&&(t.initialValue=function(e){return n.call(e,e.getValue())})}d.set(e,c({type:e},t))}}else Object.keys(e).forEach((function(t){h(t,e[t])}))}function v(e){return e&&(e.initial||e.Initial||e.type&&(e.type.initial||e.type.Initial))||null}var y=i((function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";a(this,e),this.viewName=void 0,this.settersMap=new Map,this.getSetter=function(e){return t.settersMap.get(e)||null},this.registerSetter=function(e,n){if("object"!==p(e)){if(n){if(Object(r.A)(n)&&(n={component:n,title:n.displayName||n.name||"CustomSetter"}),!n.initialValue){var o=v(n.component);o&&(n.initialValue=function(e){return o.call(e,e.getValue())})}t.settersMap.set(e,c({type:e},n))}}else Object.keys(e).forEach((function(n){t.registerSetter(n,e[n])}))},this.getSettersMap=function(){return t.settersMap},this.createSetterContent=function(e,n){if("string"==typeof e){if(!(e=t.getSetter(e)))return null;e.defaultProps&&(n=c(c({},e.defaultProps),n)),e=e.component}return"value"in n&&void 0===n.value&&delete n.value,Object(r.n)(e,n)},this.viewName=n}))},function(e,t,n){"use strict";n.d(t,"globalContext",(function(){return i}));var r=n(29),o=n.n(r);n.o(r,"Command")&&n.d(t,"Command",(function(){return r.Command})),n.o(r,"HelpTip")&&n.d(t,"HelpTip",(function(){return r.HelpTip})),n.o(r,"Hotkey")&&n.d(t,"Hotkey",(function(){return r.Hotkey})),n.o(r,"Tip")&&n.d(t,"Tip",(function(){return r.Tip})),n.o(r,"TipContainer")&&n.d(t,"TipContainer",(function(){return r.TipContainer})),n.o(r,"Title")&&n.d(t,"Title",(function(){return r.Title})),n.o(r,"createModuleEventBus")&&n.d(t,"createModuleEventBus",(function(){return r.createModuleEventBus})),n.o(r,"engineConfig")&&n.d(t,"engineConfig",(function(){return r.engineConfig}));var i=r.IocContext.DefaultInstance},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSuperClassInfo=void 0;var r=n(24);function o(e){if(!(0,r.isClass)(e))throw new Error("need a classType.");for(var t=[],n=Object.getPrototypeOf(e);(0,r.isClass)(n);){var o=(0,r.getGlobalType)(n);t.push({type:o,class:n}),n=Object.getPrototypeOf(n)}return t}t.getSuperClassInfo=o},function(e,t,n){"use strict";function r(e,t){var n;void 0===t&&(t={});try{return e()}catch(e){return null===(n=t.onError)||void 0===n||n.call(t,e),t.defaultValue}}Object.defineProperty(t,"__esModule",{value:!0}),t.guard=void 0,t.guard=r},function(e,t,n){"use strict";var r=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))},o;Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=t.OutLevel=void 0,function(e){e[e.Log=0]="Log",e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.None=4]="None"}(o=t.OutLevel||(t.OutLevel={}));var i=function(){function e(){this.outLevel=o.Warn}return e.prototype.setOutLevel=function(e){this.outLevel=e},e.prototype.error=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Error&&console.error.apply(console,r([e],t,!1))},e.prototype.info=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Info&&console.info.apply(console,r([e],t,!1))},e.prototype.log=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Log&&console.log.apply(console,r([e],t,!1))},e.prototype.warn=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.outLevel<=o.Warn&&console.warn.apply(console,r([e],t,!1))},e}();t.Logger=i;var a=new i;t.default=a},function(e,t,n){"use strict";var r=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]},r,o,i,a;return a={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function u(e){return function(t){return c([e,t])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,o&&(i=2&u[0]?o.return:u[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,u[1])).done)return i;switch(o=0,i&&(u=[2&u[0],i.value]),u[0]){case 0:case 1:i=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,o=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(!(i=n.trys,(i=i.length>0&&i[i.length-1])||6!==u[0]&&2!==u[0])){n=0;continue}if(3===u[0]&&(!i||u[1]>i[0]&&u[1]<i[3])){n.label=u[1];break}if(6===u[0]&&n.label<i[1]){n.label=i[1],i=u;break}if(i&&n.label<i[2]){n.label=i[2],n.ops.push(u);break}i[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(e){u=[6,e],o=0}finally{r=i=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(t,"__esModule",{value:!0}),t.aspect=t.genAspectWrapper=void 0;var o=n(13),i=function e(){},a=function(){return r(this,(function(e){return[2]}))},u=Object.getPrototypeOf(i),c=Object.getPrototypeOf(a);function s(e){return"function"==typeof e&&u!==c&&Object.getPrototypeOf(e)===c}function l(e,t){e&&e(t)}function f(e,t,n,r){return{ioc:e,functionName:n.__name||n.name,inst:t,data:{},args:r}}function p(e,t,n){var o;return(o=s(n)?function(){var o,i,a,u,c=[];for(o=0;o<arguments.length;o++)c[o]=arguments[o];return r(this,(function(r){switch(r.label){case 0:i=f(e,this,n,c),r.label=1;case 1:return r.trys.push([1,4,,5]),l(t.before,i),i.skipRunning?[3,3]:(a=i,[4,n.apply(this,i.args)]);case 2:a.ret=r.sent(),r.label=3;case 3:return l(t.after,i),[2,i.ret];case 4:if(u=r.sent(),i.err=u,l(t.error,i),i.err)throw i.err;return[3,5];case 5:return[2]}}))}:function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=f(e,this,n,r);try{return l(t.before,i),i.skipRunning||(i.ret=n.apply(this,i.args)),i.ret instanceof Promise?(i.ret=i.ret.then((function(e){return i.ret=e,l(t.after,i),i.ret})),t.error&&(i.ret=i.ret.catch((function(e){if(i.err=e,l(t.error,i),i.err)throw i.err}))),i.ret):(l(t.after,i),i.ret)}catch(e){if(i.err=e,l(t.error,i),i.err)throw i.err}}).__name=n.__name||n.name,o}function d(e){return void 0===e&&(e={}),function(t,n){(0,o.getMetadata)(t.constructor).aspects.push({key:n,point:e})}}t.genAspectWrapper=p,t.aspect=d},function(e,t,n){"use strict";n.d(t,"a",(function(){return L}));var r=n(8),o=n.n(r),i=n(21);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=c(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function c(e,t){if(e){if("string"==typeof e)return s(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function p(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function d(e){var t=h(e,"string");return"symbol"==a(t)?t:t+""}function h(e,t){if("object"!=a(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}for(var v={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},y={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},m={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},b={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},g,w=1;w<20;++w)v[111+w]="f".concat(w);for(var O=0;O<=9;++O)v[O+96]=String(O);function j(e){var t=e.keyCode||e.which;if("keypress"===e.type){var n=String.fromCharCode(t);return e.shiftKey||(n=n.toLowerCase()),n}return v[t]?v[t]:y[t]?y[t]:String.fromCharCode(t).toLowerCase()}function E(e){return"keypress"===e.type}function k(e,t){return e.sort().join(",")===t.sort().join(",")}function S(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}function _(e){return"shift"===e||"ctrl"===e||"alt"===e||"meta"===e}function P(){if(!g)for(var e in g={},v)Number(e)>95&&Number(e)<112||v.hasOwnProperty(e)&&(g[v[e]]=e);return g}function x(e,t,n){return n||(n=P()[e]?"keydown":"keypress"),"keypress"===n&&t.length&&(n="keydown"),n}function N(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}function C(e,t){var n=[],r="",o,i=[];for(n=N(e),o=0;o<n.length;++o)r=n[o],b[r]&&(r=b[r]),t&&"keypress"!==t&&m[r]&&(r=m[r],i.push("shift")),_(r)&&i.push(r);return{key:r,modifiers:i,action:t=x(r,i,t)}}function T(e,t,n,r){try{var o,a,u,c,s,l=i.globalContext.get("workspace"),f=l.isActive?null===(o=l.window)||void 0===o?void 0:o.editor:i.globalContext.get("editor"),p=null==f?void 0:f.get("designer"),d=null==p||null===(a=p.currentSelection)||void 0===a||null===(u=a.getNodes())||void 0===u?void 0:u[0],h=null==d||null===(c=d.componentMeta)||void 0===c?void 0:c.npm,v=[null==h?void 0:h.package,null==h?void 0:h.componentName].filter((function(e){return!!e})).join("-")||(null==d||null===(s=d.componentMeta)||void 0===s?void 0:s.componentName)||"";!1===e(t,n)&&(t.preventDefault(),t.stopPropagation()),null==f||f.eventBus.emit("hotkey.callback.call",{callback:e,e:t,combo:n,sequence:r,selected:v})}catch(e){console.error(e.message)}}var L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global";l(this,e),this.viewName=void 0,this.callBacks={},this.directMap={},this.sequenceLevels={},this.resetTimer=0,this.ignoreNextKeyup=!1,this.ignoreNextKeypress=!1,this.nextExpectedAction=!1,this.isActivate=!0,this.viewName=t,this.mount(window)}return p(e,[{key:"activate",value:function e(t){this.isActivate=t}},{key:"mount",value:function e(t){var n=t.document,r=this.handleKeyEvent.bind(this);return n.addEventListener("keypress",r,!1),n.addEventListener("keydown",r,!1),n.addEventListener("keyup",r,!1),function(){n.removeEventListener("keypress",r,!1),n.removeEventListener("keydown",r,!1),n.removeEventListener("keyup",r,!1)}}},{key:"bind",value:function e(t,n,r){return this.bindMultiple(Array.isArray(t)?t:[t],n,r),this}},{key:"unbind",value:function e(t,n,o){var i=this,a;(Array.isArray(t)?t:[t]).forEach((function(e){var t=C(e,o),a=t.key,u=t.modifiers,c=i.callBacks[a].findIndex((function(e){return Object(r.isEqual)(e.modifiers,u)&&e.callback===n}));-1!==c&&i.callBacks[a].splice(c,1)}))}},{key:"resetSequences",value:function e(t){var n=!1,r="";for(r in this.sequenceLevels)t&&t[r]?n=!0:this.sequenceLevels[r]=0;n||(this.nextExpectedAction=!1)}},{key:"getMatches",value:function e(t,n,r,o,i,a){var u,c,s=[],l=r.type;if(!this.callBacks[t])return[];for("keyup"===l&&_(t)&&(n=[t]),u=0;u<this.callBacks[t].length;++u)if(c=this.callBacks[t][u],(o||!c.seq||this.sequenceLevels[c.seq]===c.level)&&l===c.action&&(E(r)&&!r.metaKey&&!r.ctrlKey||k(n,c.modifiers))){var f=!o&&c.combo===i,p=o&&c.seq===o&&c.level===a;(f||p)&&this.callBacks[t].splice(u,1),s.push(c)}return s}},{key:"handleKey",value:function e(t,n,r){var o=this.getMatches(t,n,r),i,a={},u=0,c=!1;for(i=0;i<o.length;++i)o[i].seq&&(u=Math.max(u,o[i].level||0));for(i=0;i<o.length;++i)if(o[i].seq){if(o[i].level!==u)continue;c=!0,a[o[i].seq||""]=1,T(o[i].callback,r,o[i].combo,o[i].seq)}else c||T(o[i].callback,r,o[i].combo);var s="keypress"===r.type&&this.ignoreNextKeypress;r.type!==this.nextExpectedAction||_(t)||s||this.resetSequences(a),this.ignoreNextKeypress=c&&"keydown"===r.type}},{key:"handleKeyEvent",value:function e(t){if(this.isActivate){var n=j(t);n&&("keyup"!==t.type||this.ignoreNextKeyup!==n?this.handleKey(n,S(t),t):this.ignoreNextKeyup=!1)}}},{key:"resetSequenceTimer",value:function e(){this.resetTimer&&clearTimeout(this.resetTimer),this.resetTimer=window.setTimeout(this.resetSequences,1e3)}},{key:"bindSequence",value:function e(t,n,r,o){var i=this;this.sequenceLevels[t]=0;for(var a=function e(n){return function(){i.nextExpectedAction=n,++i.sequenceLevels[t],i.resetSequenceTimer()}},u=function e(n){T(r,n,t),"keyup"!==o&&(i.ignoreNextKeyup=j(n)),setTimeout(i.resetSequences,10)},c=0;c<n.length;++c){var s,l=c+1===n.length?u:a(o||C(n[c+1]).action);this.bindSingle(n[c],l,o,t,c)}}},{key:"bindSingle",value:function e(t,n,r,o,i){this.directMap["".concat(t,":").concat(r)]=n;var a=(t=t.replace(/\s+/g," ")).split(" ");if(a.length>1)this.bindSequence(t,a,n,r);else{var u=C(t,r);this.callBacks[u.key]=this.callBacks[u.key]||[],this.getMatches(u.key,u.modifiers,{type:u.action},o,t,i),this.callBacks[u.key][o?"unshift":"push"]({callback:n,modifiers:u.modifiers,action:u.action,seq:o,level:i,combo:t})}}},{key:"bindMultiple",value:function e(t,n,r){var o=u(t),i;try{for(o.s();!(i=o.n()).done;){var a=i.value;this.bindSingle(a,n,r)}}catch(e){o.e(e)}finally{o.f()}}}])}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),o=n(3);function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function p(e){var t=d(e,"string");return"symbol"==i(t)?t:t+""}function d(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var h=function(){function e(){s(this,e),this.commands=new Map,this.commandErrors=[]}return f(e,[{key:"registerCommand",value:function e(t,n){if(null==n||!n.commandScope)throw new Error("plugin meta.commandScope is required.");var r="".concat(n.commandScope,":").concat(t.name);if(this.commands.has(r))throw new Error("Command '".concat(t.name,"' is already registered."));this.commands.set(r,u(u({},t),{},{name:r}))}},{key:"unregisterCommand",value:function e(t){if(!this.commands.has(t))throw new Error("Command '".concat(t,"' is not registered."));this.commands.delete(t)}},{key:"executeCommand",value:function e(t,n){var r,i=this.commands.get(t);if(!i)throw new Error("Command '".concat(t,"' is not registered."));null===(r=i.parameters)||void 0===r||r.forEach((function(e){if(!Object(o.j)(n[e.name],e.name,e.propType,"command"))throw new Error("Command '".concat(t,"' arguments ").concat(e.name," is invalid."))}));try{i.handler(n)}catch(e){if(!this.commandErrors||!this.commandErrors.length)throw e;this.commandErrors.forEach((function(n){return n(t,e)}))}}},{key:"batchExecuteCommand",value:function e(t,n){var o=this;t&&t.length&&n.common.utils.executeTransaction((function(){t.forEach((function(e){return o.executeCommand(e.name,e.args)}))}),r.j.REPAINT)}},{key:"listCommands",value:function e(){return Array.from(this.commands.values()).map((function(e){var t={name:e.name};return e.description&&(t.description=e.description),e.parameters&&(t.parameters=e.parameters),t}))}},{key:"onCommandError",value:function e(t){this.commandErrors.push(t)}}])}()},function(e,t,n){const r=/\s+/g;class o{constructor(e,t){if(t=u(t),e instanceof o)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new o(e.raw,t);if(e instanceof c)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(r," "),this.set=this.raw.split("||").map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError("Invalid SemVer Range: "+this.raw);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter(e=>!b(e[0])),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&g(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=undefined,n=((this.options.includePrerelease&&y)|(this.options.loose&&m))+":"+e,r=a.get(n);if(r)return r;const o=this.options.loose,i=o?f[p.HYPHENRANGELOOSE]:f[p.HYPHENRANGE];e=e.replace(i,T(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(f[p.COMPARATORTRIM],d),s("comparator trim",e),e=e.replace(f[p.TILDETRIM],h),s("tilde trim",e),e=e.replace(f[p.CARETTRIM],v),s("caret trim",e);let u=e.split(" ").map(e=>O(e,this.options)).join(" ").split(/\s+/).map(e=>C(e,this.options));o&&(u=u.filter(e=>(s("loose invalid filter",e,this.options),!!e.match(f[p.COMPARATORLOOSE])))),s("range list",u);const l=new Map,g=u.map(e=>new c(e,this.options));for(const e of g){if(b(e))return[e];l.set(e.value,e)}l.size>1&&l.has("")&&l.delete("");const w=[...l.values()];return a.set(n,w),w}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Range is required");return this.set.some(n=>w(n,t)&&e.set.some(e=>w(e,t)&&n.every(n=>e.every(e=>n.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(L(this.set[t],e,this.options))return!0;return!1}}e.exports=o;const i=undefined,a=new(n(108)),u=n(35),c=n(109),s=n(26),l=n(38),{safeRe:f,t:p,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:v}=n(36),{FLAG_INCLUDE_PRERELEASE:y,FLAG_LOOSE:m}=n(37),b=e=>"<0.0.0-0"===e.value,g=e=>""===e.value,w=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every(e=>o.intersects(e,t)),o=r.pop();return n},O=(e,t)=>(s("comp",e,t),e=S(e,t),s("caret",e),e=E(e,t),s("tildes",e),e=P(e,t),s("xrange",e),e=N(e,t),s("stars",e),e),j=e=>!e||"x"===e.toLowerCase()||"*"===e,E=(e,t)=>e.trim().split(/\s+/).map(e=>k(e,t)).join(" "),k=(e,t)=>{const n=t.loose?f[p.TILDELOOSE]:f[p.TILDE];return e.replace(n,(t,n,r,o,i)=>{let a;return s("tilde",e,t,n,r,o,i),j(n)?a="":j(r)?a=`>=${n}.0.0 <${+n+1}.0.0-0`:j(o)?a=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(s("replaceTilde pr",i),a=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):a=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,s("tilde return",a),a})},S=(e,t)=>e.trim().split(/\s+/).map(e=>_(e,t)).join(" "),_=(e,t)=>{s("caret",e,t);const n=t.loose?f[p.CARETLOOSE]:f[p.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,(t,n,o,i,a)=>{let u;return s("caret",e,t,n,o,i,a),j(n)?u="":j(o)?u=`>=${n}.0.0${r} <${+n+1}.0.0-0`:j(i)?u="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:a?(s("replaceCaret pr",a),u="0"===n?"0"===o?`>=${n}.${o}.${i}-${a} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${a} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${a} <${+n+1}.0.0-0`):(s("no pr"),u="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),s("caret return",u),u})},P=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map(e=>x(e,t)).join(" ")),x=(e,t)=>{e=e.trim();const n=t.loose?f[p.XRANGELOOSE]:f[p.XRANGE];return e.replace(n,(n,r,o,i,a,u)=>{s("xRange",e,n,r,o,i,a,u);const c=j(o),l=c||j(i),f=l||j(a),p=f;return"="===r&&p&&(r=""),u=t.includePrerelease?"-0":"",c?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&p?(l&&(i=0),a=0,">"===r?(r=">=",l?(o=+o+1,i=0,a=0):(i=+i+1,a=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(u="-0"),n=`${r+o}.${i}.${a}${u}`):l?n=`>=${o}.0.0${u} <${+o+1}.0.0-0`:f&&(n=`>=${o}.${i}.0${u} <${o}.${+i+1}.0-0`),s("xRange return",n),n})},N=(e,t)=>(s("replaceStars",e,t),e.trim().replace(f[p.STAR],"")),C=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(f[t.includePrerelease?p.GTE0PRE:p.GTE0],"")),T=e=>(t,n,r,o,i,a,u,c,s,l,f,p)=>`${n=j(r)?"":j(o)?`>=${r}.0.0${e?"-0":""}`:j(i)?`>=${r}.${o}.0${e?"-0":""}`:a?">="+n:`>=${n}${e?"-0":""}`} ${c=j(s)?"":j(l)?`<${+s+1}.0.0-0`:j(f)?`<${s}.${+l+1}.0-0`:p?`<=${s}.${l}.${f}-${p}`:e?`<${s}.${l}.${+f+1}-0`:"<="+c}`.trim(),L=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(s(e[n].semver),e[n].semver!==c.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},function(e,t,n){},function(e,t,n){},function(e){e.exports=JSON.parse('{"Initializing":"Initializing","Hide":"Hide","Show":"Show","Lock":"Lock","Unlock":"Unlock","Expand":"Expand","Collapse":"Collapse","Conditional":"Condition","Loop":"Loop","Slots":"Slots","Slot for {prop}":"Slot for {prop}","Outline Tree":"Component Tree","Filter Node":"Filter Node","Check All":"Check All","Conditional rendering":"Conditional rendering","Loop rendering":"Loop rendering","Locked":"Locked","Hidden":"Hidden","Modal View":"Modal View","Rename":"Rename","Delete":"Delete"}')},function(e){e.exports=JSON.parse('{"Initializing":"\u6b63\u5728\u521d\u59cb\u5316","Hide":"\u9690\u85cf","Show":"\u663e\u793a","Lock":"\u9501\u5b9a","Unlock":"\u89e3\u9501","Expand":"\u5c55\u5f00","Collapse":"\u6536\u8d77","Conditional":"\u6761\u4ef6\u5f0f","Loop":"\u5faa\u73af","Slots":"\u63d2\u69fd","Slot for {prop}":"\u5c5e\u6027 {prop} \u7684\u63d2\u69fd","Outline Tree":"\u5927\u7eb2\u6811","Filter Node":"\u8fc7\u6ee4\u8282\u70b9","Check All":"\u5168\u9009","Conditional rendering":"\u6761\u4ef6\u6e32\u67d3","Loop rendering":"\u5faa\u73af\u6e32\u67d3","Locked":"\u5df2\u9501\u5b9a","Hidden":"\u5df2\u9690\u85cf","Modal View":"\u6a21\u6001\u89c6\u56fe\u5c42","Rename":"\u91cd\u547d\u540d","Delete":"\u5220\u9664"}')},function(e,t,n){"use strict";n.d(t,"b",(function(){return o.a})),n.d(t,"c",(function(){return Z})),n.d(t,"a",(function(){return ne})),n.d(t,"d",(function(){return ge}));var r=n(97),o=n(15),i=n(2),a=n(10),u=n.n(a),c=n(6),s=n.n(c),l=n(16);function f(e,t){return y(e)||v(e,t)||d(e,t)||p()}function p(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function d(e,t){if(e){if("string"==typeof e)return h(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function v(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function y(e){if(Array.isArray(e))return e}function m(e,t,n,r){var o=n.width>t.width?(n.width-t.width)/2:0,i=n.width>t.height?(n.width-t.height)/2:0,a,u,c,s;return{top:Math.max(t.top-e.height+n.width-i,r.top),right:Math.min(t.right+e.width-n.width+o,r.right),bottom:Math.min(t.bottom+e.height-n.width+i,r.bottom),left:Math.max(t.left-e.width+n.width-o,r.left)}}function b(e,t,n,r,o){if(o.forceDirection)return o.dir;var i=e.width+e.extraOffset,a=e.height+e.extraOffset,u=e.width*a,c=e.height*i,s=Math.min(n.right-n.left,e.width),l=Math.min(n.bottom-n.top,e.height),f={top:function e(){var n=s*Math.min(t.top-r.top,a);return{s:n,enough:n>=u}},bottom:function e(){var n=s*Math.min(r.bottom-t.bottom,a);return{s:n,enough:n>=u}},left:function e(){var n=l*Math.min(t.left-r.left,i);return{s:n,enough:n>=c}},right:function e(){var n=l*Math.min(r.right-t.right,i);return{s:n,enough:n>=c}}},p=["top","right","bottom","left"];if(o.dir){var d=p.indexOf(o.dir);d>-1&&(p.splice(d,1),p.unshift(o.dir))}for(var h=0,v=p[0],y=0,m=p.length;y<m;y++){var b=p[y],g=f[b](),w=g.s,O;if(g.enough)return b;w>h&&(h=w,v=b)}return v}function g(e,t,n){if(!e)return t.left-n.left<10?{dir:"right"}:t.top-n.top<10?{dir:"bottom"}:n.bottom-t.bottom<10?{dir:"top"}:n.right-t.right<10?{dir:"left"}:{};var r="!"===e[0];r&&(e=e.slice(1));var o,i=f(e.split(/\s+/),2),a=i[0],u=i[1],c=!1,s=!1;return"center"===a&&(a="auto",u||(u="center")),r&&(a&&"auto"!==a&&(c=!0),u&&"auto"!==u&&(s=!0)),{dir:a,offset:u,forceDirection:c,forceOffset:s}}function w(e,t,n,r,o){e={extraOffset:n.height,top:e.top,right:e.right,left:e.left,bottom:e.bottom,height:e.height,width:e.width};var i=g(o,t,r),a=m(e,t,n,r),u=b(e,t,a,r,i),c,s,l,f;if("top"===u||"bottom"===u){c="top"===u?t.top-e.extraOffset-e.height:t.bottom+e.extraOffset;var p=n.width>t.width?(n.width-t.width)/2:0,d=t.left+n.width-p-e.width,h=t.right-n.width+p,v=t.left-(e.width-t.width)/2;s="left"===i.offset?d:"right"===i.offset?h:v,i.forceOffset||(s=Math.max(Math.min(a.right-e.width,s),d),s=Math.min(Math.max(a.left,s),h)),f=Math.min(e.width-n.width,Math.max(t.left-(n.width-t.width)/2-s,0))}else{s="left"===u?t.left-e.extraOffset-e.width:t.right+e.extraOffset;var y=n.width>t.height?(n.width-t.height)/2:0,w=t.top+n.width-y-e.height,O=t.bottom-n.width+y,j=t.top-(e.height-t.height)/2;c="top"===i.offset?w:"bottom"===i.offset?O:j,i.forceOffset||(c=Math.max(Math.min(a.bottom-e.height,c),w),c=Math.min(Math.max(a.top,c),O)),l=Math.min(e.height-n.height,Math.max(t.top-(n.width-t.height)/2-c,0))}return{dir:u,left:s,top:c,arrowLeft:f,arrowTop:l}}var O={right:1,left:0,top:0,bottom:1,center:.5};function j(e){return/^[\d.]+%$/.test(e)}function E(e,t,n){return e?j(e)?e=parseFloat(e)/100*n:O.hasOwnProperty(e)?e=O[e]*n:(e=parseFloat(e),isNaN(e)&&(e=0)):e=0,"".concat(e+t,"px")}function k(e,t,n){if(!e)return{top:"38.2%",left:"calc(50% - 110px)"};var r,o=f(e.trim().split(/\s+/),2),i=o[0],a=o[1];if("top"===i||"bottom"===i||"left"===a||"right"===a){var u=i;i=a,a=u}return"center"!==i||a||(a="center"),{left:E(i,0,n.right-n.left-t.width),top:E(a,0,n.bottom-n.top-t.height)}}var S=n(11);function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function P(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function N(e,t,n){return t&&x(e.prototype,t),n&&x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){var t=T(e,"string");return"symbol"==_(t)?t:t+""}function T(e,t){if("object"!=_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function L(e,t,n){return t=D(t),A(e,M()?Reflect.construct(t,n||[],D(e).constructor):t.apply(e,n))}function A(e,t){if(t&&("object"==_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return R(e)}function R(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(M=function t(){return!!e})()}function D(e){return(D=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function I(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&B(e,t)}function B(e,t){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var V=function(e){function t(e){var n;return P(this,t),(n=L(this,t,[e])).dispose=void 0,n.timer=null,n.shell=null,n.originClassName="",n.dispose=S.b.onChange((function(){return n.forceUpdate()})),n}return I(t,e),N(t,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){this.updateTip()}},{key:"componentDidUpdate",value:function e(){this.updateTip()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose(),this.clearTimer()}},{key:"clearTimer",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=null)}},{key:"updateTip",value:function e(){if(this.shell){var t=this.shell,n=t.querySelector(".lc-arrow");t.className=this.originClassName,t.style.cssText="",n.style.cssText="",this.clearTimer();var r=S.b.tip;if(r){var o=r.target,i=r.direction,a=o.getBoundingClientRect();if(0!==a.width&&0!==a.height){var u=t.getBoundingClientRect(),c={left:1,top:1,right:document.documentElement.clientWidth-1,bottom:document.documentElement.clientHeight-1},s,l=w(u,a,n.getBoundingClientRect(),c,i),f=l.dir,p=l.left,d=l.top,h=l.arrowLeft,v=l.arrowTop;t.classList.add("lc-align-".concat(f)),t.style.top="".concat(d,"px"),t.style.left="".concat(p,"px"),t.style.width="".concat(u.width,"px"),t.style.height="".concat(u.height,"px"),"top"===f||"bottom"===f?n.style.left="".concat(h,"px"):n.style.top="".concat(v,"px"),this.timer=window.setTimeout((function(){t.classList.add("lc-visible-animate"),t.style.transform="none"}),10)}}}}},{key:"render",value:function e(){var t=this,n=S.b.tip||{},r=s()("lc-tip",n.className,n&&n.theme?"lc-theme-".concat(n.theme):null);return this.originClassName=r,React.createElement("div",{className:r,ref:function e(n){t.shell=n}},React.createElement("i",{className:"lc-arrow"}),React.createElement("div",{className:"lc-tip-content"},Object(l.c)(n.children)))}}])}(i.Component);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,z(r.key),r)}}function U(e,t,n){return t&&H(e.prototype,t),n&&H(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function z(e){var t=W(e,"string");return"symbol"==F(t)?t:t+""}function W(e,t){if("object"!=F(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=F(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function $(e,t,n){return t=K(t),X(e,q()?Reflect.construct(t,n||[],K(e).constructor):t.apply(e,n))}function X(e,t){if(t&&("object"==F(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Y(e)}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function q(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(q=function t(){return!!e})()}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Z=function(e){function t(){var e;G(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=$(this,t,[].concat(r))).dispose=void 0,e}return J(t,e),U(t,[{key:"shouldComponentUpdate",value:function e(){return!1}},{key:"componentDidMount",value:function e(){var t=function e(t){return S.b.setTarget(t.target)},n=function e(){return S.b.hideImmediately()};document.addEventListener("mouseover",t,!1),document.addEventListener("mousedown",n,!0),this.dispose=function(){document.removeEventListener("mouseover",t,!1),document.removeEventListener("mousedown",n,!0)}}},{key:"UNSAFE_componentWillMount",value:function e(){this.dispose&&this.dispose()}},{key:"render",value:function e(){return u.a.createPortal(React.createElement("div",{className:"lc-tips-container"},React.createElement(V,null)),document.querySelector("body"))}}])}(i.Component),ee=n(5);function te(e){return(te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ne(e){var t=e.help,n=e.direction,r=void 0===n?"top":n,i=e.size,a=void 0===i?"small":i;return"string"==typeof t?React.createElement("div",null,React.createElement(ee.Icon,{type:"help",size:a,className:"lc-help-tip"}),React.createElement(o.a,{direction:r},t)):"object"===te(t)&&t.url?React.createElement("div",null,React.createElement("a",{href:t.url,target:"_blank",rel:"noopener noreferrer"},React.createElement(ee.Icon,{type:"help",size:a,className:"lc-help-tip"})),React.createElement(o.a,{direction:r},t.content)):React.createElement("div",null,React.createElement(ee.Icon,{type:"help",size:"small",className:"lc-help-tip"}),React.createElement(o.a,{direction:r},t.content))}var re=n(3),oe=n(98);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,se(r.key),r)}}function ce(e,t,n){return t&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function se(e){var t=le(e,"string");return"symbol"==ie(t)?t:t+""}function le(e,t){if("object"!=ie(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ie(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function fe(e,t,n){return t=ve(t),pe(e,he()?Reflect.construct(t,n||[],ve(e).constructor):t.apply(e,n))}function pe(e,t){if(t&&("object"==ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return de(e)}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function he(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(he=function t(){return!!e})()}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ye(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&me(e,t)}function me(e,t){return(me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function be(e,t){for(var n=t.length,r=[],o=e;o.length>0;){var i=o.indexOf(t);0===i?(r.push(t),o=o.slice(n)):i<0?(r.push(o),o=""):(r.push(o.slice(0,i)),o=o.slice(i))}return r}var ge=function(e){function t(e){var n;return ae(this,t),(n=fe(this,t,[e])).renderLabel=function(e){var t=n.props,r=t.match,o=t.keywords;if(!e)return null;var i=Object(l.c)(e);if("string"!=typeof i)return React.createElement("span",{className:"lc-title-txt"},i);var a=i,u;r&&o&&(a=be(i,o).map((function(e){return React.createElement("span",{style:{color:e===o?"red":"inherit"}},e)})));return React.createElement("span",{className:"lc-title-txt"},a)},n.handleClick=n.handleClick.bind(n),n}return ye(t,e),ce(t,[{key:"handleClick",value:function e(t){var n=this.props,r=n.title,o=n.onClick,i=r&&(r.docUrl||r.url);i&&(window.open(i),t.stopPropagation()),o&&o(t)}},{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,a;if(null==n)return null;if(Object(i.isValidElement)(n))return n;var u=(a="string"==typeof n||Object(re.I)(n)?{label:n}:Object(re.ab)(n)?n:{label:n}).icon?Object(re.p)(a.icon,{size:20}):null,c=null;if(a.tip)if(Object(i.isValidElement)(a.tip)&&a.tip.type===o.a)c=a.tip;else{var l="object"!==ie(a.tip)||Object(i.isValidElement)(a.tip)||Object(re.I)(a.tip)?{children:a.tip}:a.tip;c=React.createElement(o.a,l)}return React.createElement("span",{className:s()("lc-title",r,a.className,{"has-tip":!!c,"only-icon":!a.label}),onClick:this.handleClick},u?React.createElement("b",{className:"lc-title-icon"},u):null,this.renderLabel(a.label),c)}}])}(i.Component)},function(e,t,n){"use strict";n.d(t,"a",(function(){return L})),n.d(t,"b",(function(){return A}));var r=n(0),o=n(9),i=n(14),a=n(28),u=n(16),c=n(18),s=n(3);function l(e){var t=e.components,n,r=(e.packages||[]).reduce((function(e,t){var n;return e[t.id||t.package||""]=t,e}),{});return t.forEach((function(e){var t=e.devMode,n=e.schema,o=e.reference;if("lowcode"===t?t="lowCode":"proCode"===t&&(t="proCode"),t&&(e.devMode=t),"lowCode"===t&&!n&&o){var i=o.id||"";e.schema=r[i].schema}})),e}function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */p=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof g?t:g,a=Object.create(i.prototype),u=new L(r||[]);return o(a,"_invoke",{value:x(e,n,u)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var h="suspendedStart",v="suspendedYield",y="executing",m="completed",b={};function g(){}function w(){}function O(){}var j={};s(j,a,(function(){return this}));var E=Object.getPrototypeOf,k=E&&E(E(A([])));k&&k!==n&&r.call(k,a)&&(j=k);var S=O.prototype=g.prototype=Object.create(j);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function P(e,t){function n(o,i,a,u){var c=d(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==f(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function x(t,n,r){var o=h;return function(i,a){if(o===y)throw Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=N(u,r);if(c){if(c===b)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var s=d(t,n,r);if("normal"===s.type){if(o=r.done?m:v,s.arg===b)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=m,r.method="throw",r.arg=s.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),b;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,b;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function L(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function A(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(f(t)+" is not iterable")}return w.prototype=O,o(S,"constructor",{value:O,configurable:!0}),o(O,"constructor",{value:w,configurable:!0}),w.displayName=s(O,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,O):(e.__proto__=O,s(e,c,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},_(P.prototype),s(P.prototype,u,(function(){return this})),t.AsyncIterator=P,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new P(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},_(S),s(S,c,"Generator"),s(S,a,(function(){return this})),s(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,L.prototype={constructor:L,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(T),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,b):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),T(r),b}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;T(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:A(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),b}},t}function d(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){d(i,r,o,a,u,"next",e)}function u(e){d(i,r,o,a,u,"throw",e)}a(void 0)}))}}function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,O(r.key),r)}}function w(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e){var t=j(e,"string");return"symbol"==f(t)?t:t+""}function j(e,t){if("object"!=f(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=f(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function E(e,t,n){return t=P(t),k(e,_()?Reflect.construct(t,n||[],P(e).constructor):t.apply(e,n))}function k(e,t){if(t&&("object"==f(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return S(e)}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_=function t(){return!!e})()}function P(e){return(P=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&N(e,t)}function N(e,t){return(N=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}o.EventEmitter.defaultMaxListeners=100;var C=["designer","skeleton","currentDocument","simulator","plugins","setters","material","innerHotkey","innerPlugins"],T={},L=function(e){function t(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b(this,t),(e=E(this,t)).viewName=void 0,e.workspaceMode=void 0,e.context=new Map,e.config=void 0,e.eventBus=void 0,e.components=void 0,e.hooks=[],e.waits=new Map,e.initHooks=function(t){return e.hooks=t.map((function(t){return y(y({},t),{},{handler:t.handler.bind(e,e)})})),e.hooks},e.registerHooks=function(t){e.initHooks(t).forEach((function(t){var n=t.message,r=t.type,o=t.handler;-1!==["on","once"].indexOf(r)&&e[r](n,o)}))},e.unregisterHooks=function(){e.hooks.forEach((function(t){var n=t.message,r=t.handler;e.removeListener(n,r)}))},e.viewName=n,e.workspaceMode=r,e.setMaxListeners(200),e.eventBus=new i.a(e),e}return x(t,e),w(t,[{key:"locale",get:function e(){return u.b.getLocale()}},{key:"get",value:function e(t){return this.context.get(t)}},{key:"has",value:function e(t){return this.context.has(t)}},{key:"set",value:function e(t,n){if("assets"===t)return this.setAssets(n);C.includes(t)||a.a.set(t,n),this.context.set(t,n),this.notifyGot(t)}},{key:"setAssets",value:function(){var e=h(p().mark((function e(t){var n,r,o,i;return p().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(n=t.components)||!n.length){a.next=10;break}if(r=[],o=[],n.forEach((function(e){e&&(e.exportName&&e.url?o.push(e):r.push(e))})),t.components=r,t.componentList=t.componentList||[],!o||!o.length){a.next=10;break}return a.next=10,Promise.all(o.map(function(){var e=h(p().mark((function e(n){var r,o,i,a,u,c;return p().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:if(c=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";t.forEach((function(e,t){var o=[n,t.toString()].filter((function(e){return!!e})).join("."),i=[r,t.toString()].filter((function(e){return!!e})).join(".");Array.isArray(e)?c(e,o,i):u(e,{exportName:o,subName:i})}))},u=function e(n){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.components;t.componentList=null===(r=t.componentList)||void 0===r?void 0:r.concat(n.componentList||[]),Array.isArray(i)?i.forEach((function(e){t.components=t.components.concat(y({npm:y(y({},a),o)},e)||[])})):n.components&&(t.components=t.components.concat(y({npm:y(y({},a),o)},n.components)||[]))},o=n.exportName,i=n.url,a=n.npm,i&&o){l.next=5;break}return l.abrupt("return");case 5:if(T[o]&&null!=a&&a.version&&(null===(r=T[o].npm)||void 0===r?void 0:r.version)===(null==a?void 0:a.version)){l.next=8;break}return l.next=8,(new s.c).load(i);case 8:return T[o]=n,window[o]&&(Array.isArray(window[o])?c(window[o]):u(window[o])),l.abrupt("return",window[o]);case 11:case"end":return l.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 10:i=l(t),this.context.set("assets",i),this.notifyGot("assets");case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onceGot",value:function e(t){var n=this,r=this.context.get(t);return void 0!==r?Promise.resolve(r):new Promise((function(e){n.setWait(t,e,!0)}))}},{key:"onGot",value:function e(t,n){var r=this,o=this.context.get(t);return void 0!==o&&n(o),this.setWait(t,n),function(){r.delWait(t,n)}}},{key:"onChange",value:function e(t,n){var r=this;return this.setWait(t,n),function(){r.delWait(t,n)}}},{key:"register",value:function e(t,n){this.context.set(n||t,t),this.notifyGot(n||t)}},{key:"init",value:function(){var e=h(p().mark((function e(t,n){var r,o,i,a,u;return p().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:return this.config=t||{},this.components=n||{},r=this.config,o=r.hooks,i=void 0===o?[]:o,a=r.lifeCycles,this.emit("editor.beforeInit"),u=a&&a.init||function(){},c.prev=5,c.next=8,u(this);case 8:return this.registerHooks(i),this.emit("editor.afterInit"),c.abrupt("return",!0);case 13:c.prev=13,c.t0=c.catch(5),console.error(c.t0);case 16:case"end":return c.stop()}}),e,this,[[5,13]])})));function t(t,n){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function e(){if(this.config)try{var t=this.config.lifeCycles,n=void 0===t?{}:t;this.unregisterHooks(),n.destroy&&n.destroy(this)}catch(e){console.warn(e)}}},{key:"notifyGot",value:function e(t){var n=this.waits.get(t);if(n){for(var r=(n=n.slice().reverse()).length;r--;)n[r].resolve(this.get(t)),n[r].once&&n.splice(r,1);n.length>0?this.waits.set(t,n):this.waits.delete(t)}}},{key:"setWait",value:function e(t,n,r){var o=this.waits.get(t);o?o.push({resolve:n,once:r}):this.waits.set(t,[{resolve:n,once:r}])}},{key:"delWait",value:function e(t,n){var r=this.waits.get(t);if(r){for(var o=r.length;o--;)r[o].resolve===n&&r.splice(o,1);r.length<1&&this.waits.delete(t)}}}])}(o.EventEmitter);Object(r.b)([c.j.shallow,Object(r.d)("design:type",Object)],L.prototype,"context",void 0);var A=new i.a(new o.EventEmitter)},function(e,t,n){"use strict";var r=n(39),o=n(69),i=n(40),a=n(70),u=n(71),c=function(){};function s(){return null}e.exports=function(e,t){var n="function"==typeof Symbol&&Symbol.iterator,c="@@iterator";function l(e){var t=e&&(n&&e[n]||e["@@iterator"]);if("function"==typeof t)return t}var f="<<anonymous>>",p={array:y("array"),bigint:y("bigint"),bool:y("boolean"),func:y("function"),number:y("number"),object:y("object"),string:y("string"),symbol:y("symbol"),any:m(),arrayOf:b,element:g(),elementType:w(),instanceOf:O,node:S(),objectOf:E,oneOf:j,oneOfType:k,shape:P,exact:x};function d(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function h(e,t){this.message=e,this.data=t&&"object"==typeof t?t:{},this.stack=""}function v(e){var n,r;function o(n,r,o,a,u,c,s){var l;if((a=a||f,c=c||o,s!==i)&&t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}return null==r[o]?n?null===r[o]?new h("The "+u+" `"+c+"` is marked as required in `"+a+"`, but its value is `null`."):new h("The "+u+" `"+c+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(r,o,a,u,c)}var a=o.bind(null,!1);return a.isRequired=o.bind(null,!0),a}function y(e){function t(t,n,r,o,i,a){var u=t[n],c,s;return T(u)!==e?new h("Invalid "+o+" `"+i+"` of type `"+L(u)+"` supplied to `"+r+"`, expected `"+e+"`.",{expectedType:e}):null}return v(t)}function m(){return v(s)}function b(e){function t(t,n,r,o,a){if("function"!=typeof e)return new h("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var u=t[n],c;if(!Array.isArray(u))return new h("Invalid "+o+" `"+a+"` of type `"+T(u)+"` supplied to `"+r+"`, expected an array.");for(var s=0;s<u.length;s++){var l=e(u,s,r,o,a+"["+s+"]",i);if(l instanceof Error)return l}return null}return v(t)}function g(){function t(t,n,r,o,i){var a=t[n],u;return e(a)?null:new h("Invalid "+o+" `"+i+"` of type `"+T(a)+"` supplied to `"+r+"`, expected a single ReactElement.")}return v(t)}function w(){function e(e,t,n,o,i){var a=e[t],u;return r.isValidElementType(a)?null:new h("Invalid "+o+" `"+i+"` of type `"+T(a)+"` supplied to `"+n+"`, expected a single ReactElement type.")}return v(e)}function O(e){function t(t,n,r,o,i){if(!(t[n]instanceof e)){var a=e.name||f,u;return new h("Invalid "+o+" `"+i+"` of type `"+R(t[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}return v(t)}function j(e){if(!Array.isArray(e))return s;function t(t,n,r,o,i){for(var a=t[n],u=0;u<e.length;u++)if(d(a,e[u]))return null;var c=JSON.stringify(e,(function e(t,n){var r;return"symbol"===L(n)?String(n):n}));return new h("Invalid "+o+" `"+i+"` of value `"+String(a)+"` supplied to `"+r+"`, expected one of "+c+".")}return v(t)}function E(e){function t(t,n,r,o,u){if("function"!=typeof e)return new h("Property `"+u+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var c=t[n],s=T(c);if("object"!==s)return new h("Invalid "+o+" `"+u+"` of type `"+s+"` supplied to `"+r+"`, expected an object.");for(var l in c)if(a(c,l)){var f=e(c,l,r,o,u+"."+l,i);if(f instanceof Error)return f}return null}return v(t)}function k(e){if(!Array.isArray(e))return s;for(var t=0;t<e.length;t++){var n=e[t];if("function"!=typeof n)return A(n),s}function r(t,n,r,o,u){for(var c=[],s=0;s<e.length;s++){var l,f=(0,e[s])(t,n,r,o,u,i);if(null==f)return null;f.data&&a(f.data,"expectedType")&&c.push(f.data.expectedType)}var p;return new h("Invalid "+o+" `"+u+"` supplied to `"+r+"`"+(c.length>0?", expected one of type ["+c.join(", ")+"]":"")+".")}return v(r)}function S(){function e(e,t,n,r,o){return N(e[t])?null:new h("Invalid "+r+" `"+o+"` supplied to `"+n+"`, expected a ReactNode.")}return v(e)}function _(e,t,n,r,o){return new h((e||"React class")+": "+t+" type `"+n+"."+r+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+o+"`.")}function P(e){function t(t,n,r,o,a){var u=t[n],c=T(u);if("object"!==c)return new h("Invalid "+o+" `"+a+"` of type `"+c+"` supplied to `"+r+"`, expected `object`.");for(var s in e){var l=e[s];if("function"!=typeof l)return _(r,o,a,s,L(l));var f=l(u,s,r,o,a+"."+s,i);if(f)return f}return null}return v(t)}function x(e){function t(t,n,r,u,c){var s=t[n],l=T(s);if("object"!==l)return new h("Invalid "+u+" `"+c+"` of type `"+l+"` supplied to `"+r+"`, expected `object`.");var f=o({},t[n],e);for(var p in f){var d=e[p];if(a(e,p)&&"function"!=typeof d)return _(r,u,c,p,L(d));if(!d)return new h("Invalid "+u+" `"+c+"` key `"+p+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var v=d(s,p,r,u,c+"."+p,i);if(v)return v}return null}return v(t)}function N(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(N);if(null===t||e(t))return!0;var n=l(t);if(!n)return!1;var r=n.call(t),o;if(n!==t.entries){for(;!(o=r.next()).done;)if(!N(o.value))return!1}else for(;!(o=r.next()).done;){var i=o.value;if(i&&!N(i[1]))return!1}return!0;default:return!1}}function C(e,t){return"symbol"===e||!!t&&("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function T(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":C(t,e)?"symbol":t}function L(e){if(null==e)return""+e;var t=T(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function A(e){var t=L(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}function R(e){return e.constructor&&e.constructor.name?e.constructor.name:f}return h.prototype=Error.prototype,p.checkPropTypes=u,p.resetWarningCache=u.resetWarningCache,p.PropTypes=p,p}},function(e,t,n){(function(r){function o(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function i(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,o=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(r++,"%c"===e&&(o=r))}),t.splice(o,0,n)}function a(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}}function u(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&void 0!==r&&"env"in r&&(e=r.env.DEBUG),e}function c(){try{return localStorage}catch(e){}}t.formatArgs=i,t.save=a,t.load=u,t.useColors=o,t.storage=c(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(72)(t);const{formatters:s}=e.exports;s.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(42))},function(e){e.exports=JSON.parse('{"copy":"Copy","remove":"Remove","hide":"Hide","lock":"Lock","unlock":"Unlock","Condition Group":"Condition Group","No opened document":"No opened document, open some document to editing","locked":"locked","Item":"Item"}')},function(e){e.exports=JSON.parse('{"copy":"\u590d\u5236","remove":"\u5220\u9664","hide":"\u9690\u85cf","lock":"\u9501\u5b9a","unlock":"\u89e3\u9501","Condition Group":"\u6761\u4ef6\u7ec4","No opened document":"\u6ca1\u6709\u6253\u5f00\u7684\u9875\u9762\uff0c\u8bf7\u9009\u62e9\u9875\u9762\u6253\u5f00\u7f16\u8f91","locked":"\u5df2\u9501\u5b9a","Item":"\u9879\u76ee"}')},function(e,t,n){const r=n(51),o=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)};e.exports=o},function(e){e.exports=JSON.parse('{"Binded: {expr}":"Binded: {expr}","Variable Binding":"Variable Binding","Switch Setter":"Switch Setter","Multiple Value, Click to Clear":"Multiple Value, Click to Clear","Required":"Required","Setted Value, Click to Clear":"Setted Value, Click to Clear","Multiple Value":"Multiple Value","Attribute: ":"Attribute: ","Description: ":"Description: ","Please select a node in canvas":"Please select a node in canvas","Current node is locked":"Current node is locked","No config found for this type of component":"No config found for this type of component","Please select same kind of components":"Please select same kind of components"}')},function(e){e.exports=JSON.parse('{"Binded: {expr}":"\u5df2\u7ed1\u5b9a\uff1a{expr}","Variable Binding":"\u53d8\u91cf\u7ed1\u5b9a","Switch Setter":"\u5207\u6362\u8bbe\u7f6e\u5668","Multiple Value, Click to Clear":"\u591a\u79cd\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Required":"\u5fc5\u586b\u9879","Setted Value, Click to Clear":"\u5df2\u8bbe\u7f6e\u503c\uff0c\u70b9\u51fb\u6e05\u9664","Multiple Value":"\u591a\u79cd\u503c","Attribute: ":"\u5c5e\u6027\uff1a","Description: ":"\u8bf4\u660e\uff1a","Please select a node in canvas":"\u8bf7\u5728\u5de6\u4fa7\u753b\u5e03\u9009\u4e2d\u8282\u70b9","Current node is locked":"\u8be5\u8282\u70b9\u5df2\u88ab\u9501\u5b9a\uff0c\u65e0\u6cd5\u914d\u7f6e","No config found for this type of component":"\u8be5\u7ec4\u4ef6\u6682\u65e0\u914d\u7f6e","Please select same kind of components":"\u8bf7\u9009\u4e2d\u540c\u4e00\u7c7b\u578b\u8282\u70b9\u7f16\u8f91"}')},function(e,t,n){e.exports=n(127)},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r="function"==typeof Symbol&&Symbol.for,o=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,a=r?Symbol.for("react.fragment"):60107,u=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,f=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,d=r?Symbol.for("react.forward_ref"):60112,h=r?Symbol.for("react.suspense"):60113,v=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,m=r?Symbol.for("react.lazy"):60116,b=r?Symbol.for("react.block"):60121,g=r?Symbol.for("react.fundamental"):60117,w=r?Symbol.for("react.responder"):60118,O=r?Symbol.for("react.scope"):60119;function j(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case o:switch(e=e.type){case f:case p:case a:case c:case u:case h:return e;default:switch(e=e&&e.$$typeof){case l:case d:case m:case y:case s:return e;default:return t}}case i:return t}}}function E(e){return j(e)===p}t.AsyncMode=f,t.ConcurrentMode=p,t.ContextConsumer=l,t.ContextProvider=s,t.Element=o,t.ForwardRef=d,t.Fragment=a,t.Lazy=m,t.Memo=y,t.Portal=i,t.Profiler=c,t.StrictMode=u,t.Suspense=h,t.isAsyncMode=function(e){return E(e)||j(e)===f},t.isConcurrentMode=E,t.isContextConsumer=function(e){return j(e)===l},t.isContextProvider=function(e){return j(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===o},t.isForwardRef=function(e){return j(e)===d},t.isFragment=function(e){return j(e)===a},t.isLazy=function(e){return j(e)===m},t.isMemo=function(e){return j(e)===y},t.isPortal=function(e){return j(e)===i},t.isProfiler=function(e){return j(e)===c},t.isStrictMode=function(e){return j(e)===u},t.isSuspense=function(e){return j(e)===h},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===p||e===c||e===u||e===h||e===v||"object"==typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===y||e.$$typeof===s||e.$$typeof===l||e.$$typeof===d||e.$$typeof===g||e.$$typeof===w||e.$$typeof===O||e.$$typeof===b)},t.typeOf=j},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function u(){try{if(!Object.assign)return!1;var e=new String("abc"),t;if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var n={},r=0;r<10;r++)n["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(n).map((function(e){return n[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}e.exports=u()?Object.assign:function(e,t){for(var n,u=a(e),c,s=1;s<arguments.length;s++){for(var l in n=Object(arguments[s]))o.call(n,l)&&(u[l]=n[l]);if(r){c=r(n);for(var f=0;f<c.length;f++)i.call(n,c[f])&&(u[c[f]]=n[c[f]])}}return u}},function(e,t){e.exports=Function.call.bind(Object.prototype.hasOwnProperty)},function(e,t,n){"use strict";var r=function(){},o,i,a;function u(e,t,n,r,o){var i,a,u,c}u.resetWarningCache=function(){0},e.exports=u},function(e,t,n){function r(e){function t(e){let t=0;for(let n=0;n<e.length;n++)t=(t<<5)-t+e.charCodeAt(n),t|=0;return r.colors[Math.abs(t)%r.colors.length]}function r(e){let t,n=null,i,a;function u(...e){if(!u.enabled)return;const n=u,o=Number(new Date),i=o-(t||o);n.diff=i,n.prev=t,n.curr=o,t=o,e[0]=r.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(t,o)=>{if("%%"===t)return"%";a++;const i=r.formatters[o];if("function"==typeof i){const r=e[a];t=i.call(n,r),e.splice(a,1),a--}return t}),r.formatArgs.call(n,e);const c=undefined;(n.log||r.log).apply(n,e)}return u.namespace=e,u.useColors=r.useColors(),u.color=r.selectColor(e),u.extend=o,u.destroy=r.destroy,Object.defineProperty(u,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==n?n:(i!==r.namespaces&&(i=r.namespaces,a=r.enabled(e)),a),set:e=>{n=e}}),"function"==typeof r.init&&r.init(u),u}function o(e,t){const n=r(this.namespace+(void 0===t?":":t)+e);return n.log=this.log,n}function i(e){let t;r.save(e),r.namespaces=e,r.names=[],r.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),o=n.length;for(t=0;t<o;t++)n[t]&&("-"===(e=n[t].replace(/\*/g,".*?"))[0]?r.skips.push(new RegExp("^"+e.slice(1)+"$")):r.names.push(new RegExp("^"+e+"$")))}function a(){const e=[...r.names.map(c),...r.skips.map(c).map(e=>"-"+e)].join(",");return r.enable(""),e}function u(e){if("*"===e[e.length-1])return!0;let t,n;for(t=0,n=r.skips.length;t<n;t++)if(r.skips[t].test(e))return!1;for(t=0,n=r.names.length;t<n;t++)if(r.names[t].test(e))return!0;return!1}function c(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function s(e){return e instanceof Error?e.stack||e.message:e}function l(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.debug=r,r.default=r,r.coerce=s,r.disable=a,r.enable=i,r.enabled=u,r.humanize=n(73),r.destroy=l,Object.keys(e).forEach(t=>{r[t]=e[t]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=t,r.enable(r.load()),r}e.exports=r},function(e,t){var n=1e3,r=6e4,o=60*r,i=24*o,a=7*i,u=365.25*i;function c(e){if(!((e=String(e)).length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var c=parseFloat(t[1]),s;switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return c*u;case"weeks":case"week":case"w":return c*a;case"days":case"day":case"d":return c*i;case"hours":case"hour":case"hrs":case"hr":case"h":return c*o;case"minutes":case"minute":case"mins":case"min":case"m":return c*r;case"seconds":case"second":case"secs":case"sec":case"s":return c*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return c;default:return}}}}function s(e){var t=Math.abs(e);return t>=i?Math.round(e/i)+"d":t>=o?Math.round(e/o)+"h":t>=r?Math.round(e/r)+"m":t>=n?Math.round(e/n)+"s":e+"ms"}function l(e){var t=Math.abs(e);return t>=i?f(e,t,i,"day"):t>=o?f(e,t,o,"hour"):t>=r?f(e,t,r,"minute"):t>=n?f(e,t,n,"second"):e+" ms"}function f(e,t,n,r){var o=t>=1.5*n;return Math.round(e/n)+" "+r+(o?"s":"")}e.exports=function(e,t){t=t||{};var n=typeof e;if("string"===n&&e.length>0)return c(e);if("number"===n&&isFinite(e))return t.long?l(e):s(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){var r=n(19),o=r.slice,i=r.pluck,a=r.each,u=r.bind,c=r.create,s=r.isList,l=r.isFunction,f=r.isObject;e.exports={createStore:h};var p={version:"2.0.12",enabled:!1,get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(e){var t=this;this.storage.each((function(n,r){e.call(t,t._deserialize(n),(r||"").replace(t._namespaceRegexp,""))}))},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return h.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return h(this.storage,this.plugins,e)}};function d(){var e="undefined"==typeof console?null:console;if(e){var t=e.warn?e.warn:e.log;t.apply(e,arguments)}}function h(e,t,n){n||(n=""),e&&!s(e)&&(e=[e]),t&&!s(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",h=n?new RegExp("^"+r):null,v;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var y,m=c({_namespacePrefix:r,_namespaceRegexp:h,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(e,t){var n=this[t];this[t]=function t(){var r=o(arguments,0),i=this;function u(){if(n)return a(arguments,(function(e,t){r[t]=e})),n.apply(i,r)}var c=[u].concat(r);return e.apply(i,c)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(e,t){if(!e)return t;var n="";try{n=JSON.parse(e)}catch(t){n=e}return void 0!==n?n:t},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(e){var t=this,n;if(s(e))a(e,(function(e){t._addPlugin(e)}));else if(!i(this.plugins,(function(t){return e===t}))){if(this.plugins.push(e),!l(e))throw new Error("Plugins must be function values that return objects");var r=e.call(this);if(!f(r))throw new Error("Plugins must return an object of function properties");a(r,(function(n,r){if(!l(n))throw new Error("Bad plugin property: "+r+" from plugin "+e.name+". Plugins should only return functions.");t._assignPluginFnProp(n,r)}))}},addStorage:function(e){d("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},p,{plugins:[]});return m.raw={},a(m,(function(e,t){l(e)&&(m.raw[t]=u(m,e))})),a(e,(function(e){m._addStorage(e)})),a(t,(function(e){m._addPlugin(e)})),m}},function(e,t,n){e.exports=[n(76),n(77),n(78),n(79),n(80),n(81)]},function(e,t,n){var r,o=n(19).Global;function i(){return o.localStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"localStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t,n){var r,o=n(19).Global;e.exports={name:"oldFF-globalStorage",read:a,write:u,each:c,remove:s,clearAll:l};var i=o.globalStorage;function a(e){return i[e]}function u(e,t){i[e]=t}function c(e){for(var t=i.length-1;t>=0;t--){var n=i.key(t);e(i[n],n)}}function s(e){return i.removeItem(e)}function l(){c((function(e,t){delete i[e]}))}},function(e,t,n){var r,o=n(19).Global;e.exports={name:"oldIE-userDataStorage",write:s,read:l,each:f,remove:p,clearAll:d};var i="storejs",a=o.document,u=y(),c=(o.navigator?o.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);function s(e,t){if(!c){var n=v(e);u((function(e){e.setAttribute(n,t),e.save("storejs")}))}}function l(e){if(!c){var t=v(e),n=null;return u((function(e){n=e.getAttribute(t)})),n}}function f(e){u((function(t){for(var n=t.XMLDocument.documentElement.attributes,r=n.length-1;r>=0;r--){var o=n[r];e(t.getAttribute(o.name),o.name)}}))}function p(e){var t=v(e);u((function(e){e.removeAttribute(t),e.save("storejs")}))}function d(){u((function(e){var t=e.XMLDocument.documentElement.attributes;e.load("storejs");for(var n=t.length-1;n>=0;n--)e.removeAttribute(t[n].name);e.save("storejs")}))}var h=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function v(e){return e.replace(/^\d/,"___$&").replace(h,"___")}function y(){if(!a||!a.documentElement||!a.documentElement.addBehavior)return null;var e="script",t,n,r;try{(n=new ActiveXObject("htmlfile")).open(),n.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),n.close(),t=n.w.frames[0].document,r=t.createElement("div")}catch(e){r=a.createElement("div"),t=a.body}return function(e){var n=[].slice.call(arguments,0);n.unshift(r),t.appendChild(r),r.addBehavior("#default#userData"),r.load("storejs"),e.apply(this,n),t.removeChild(r)}}},function(e,t,n){var r=n(19),o=r.Global,i=r.trim;e.exports={name:"cookieStorage",read:u,write:s,each:c,remove:l,clearAll:f};var a=o.document;function u(e){if(!e||!p(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))}function c(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;n>=0;n--)if(i(t[n])){var r=t[n].split("="),o=unescape(r[0]),u;e(unescape(r[1]),o)}}function s(e,t){e&&(a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/")}function l(e){e&&p(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function f(){c((function(e,t){l(t)}))}function p(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},function(e,t,n){var r,o=n(19).Global;function i(){return o.sessionStorage}function a(e){return i().getItem(e)}function u(e,t){return i().setItem(e,t)}function c(e){for(var t=i().length-1;t>=0;t--){var n=i().key(t);e(a(n),n)}}function s(e){return i().removeItem(e)}function l(){return i().clear()}e.exports={name:"sessionStorage",read:a,write:u,each:c,remove:s,clearAll:l}},function(e,t){e.exports={name:"memoryStorage",read:r,write:o,each:i,remove:a,clearAll:u};var n={};function r(e){return n[e]}function o(e,t){n[e]=t}function i(e){for(var t in n)n.hasOwnProperty(t)&&e(n[t],t)}function a(e){delete n[e]}function u(e){n={}}},function(e,t,n){function r(){return n(83),{}}e.exports=r},function(module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,(function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))+'"':'"'+e+'"'}function str(e,t){var n,r,o,i,a=gap,u,c=t[e];switch(c&&"object"==typeof c&&"function"==typeof c.toJSON&&(c=c.toJSON(e)),"function"==typeof rep&&(c=rep.call(t,e,c)),typeof c){case"string":return quote(c);case"number":return isFinite(c)?String(c):"null";case"boolean":case"null":return String(c);case"object":if(!c)return"null";if(gap+=indent,u=[],"[object Array]"===Object.prototype.toString.apply(c)){for(i=c.length,n=0;n<i;n+=1)u[n]=str(n,c)||"null";return o=0===u.length?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+a+"]":"["+u.join(",")+"]",gap=a,o}if(rep&&"object"==typeof rep)for(i=rep.length,n=0;n<i;n+=1)"string"==typeof rep[n]&&(o=str(r=rep[n],c))&&u.push(quote(r)+(gap?": ":":")+o);else for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(o=str(r,c))&&u.push(quote(r)+(gap?": ":":")+o);return o=0===u.length?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+a+"}":"{"+u.join(",")+"}",gap=a,o}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,o=e[t];if(o&&"object"==typeof o)for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(void 0!==(r=walk(o,n))?o[n]=r:delete o[n]);return reviver.call(e,t,o)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},function(e,t,n){"use strict";var r=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o,i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r=0,o=t.length,i;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.AlreadyRegistryError=t.NoRegistryError=t.NotfoundTypeError=t.MultiImplementError=t.IocContext=t.DefaultRegisterOption=t.Config=void 0;var u=n(23),c=n(13),s=n(25),l=n(46),f=n(48),p=function(){function e(){this.autoRegisterSelf=!1,this.constructorInject=!0,this.useClassLoader=!0}return e}();t.Config=p,t.DefaultRegisterOption={singleton:!0,autoNew:!0};var d=function(){function e(e){void 0===e&&(e={}),this.config=e,this.components=new Map,this.setConfig(Object.assign(new p,e))}return Object.defineProperty(e.prototype,"classLoader",{get:function(){return this._classLoader},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultInstance",{get:function(){return this.defaultInstance||(this.defaultInstance=new e,this.defaultInstance)},enumerable:!1,configurable:!0}),e.prototype.setConfig=function(e){Object.assign(this.config,e),this._classLoader=!0===this.config.useClassLoader?s.classLoader:!1===this.config.useClassLoader?void 0:this.config.useClassLoader},e.prototype.remove=function(e){var t=(0,u.getGlobalType)(e),n=this.components.get(t);return!!n&&(this.preDestroyInstance(n),this.components.delete(t))},e.prototype.clear=function(){var e=this;Array.from(this.components.values()).forEach((function(t){e.preDestroyInstance(t)})),this.components.clear()},e.prototype.get=function(e,t){void 0===t&&(t={});var n=(0,u.getGlobalType)(e),r=this.components.get(n),o;if(r)return this.returnValue(r,t.forceNew);if(this.config.notFoundHandler){var a=this.config.notFoundHandler(e);if(void 0!==a)return a}if(!1!==t.useClassLoader&&this.classLoader){var s=this.findClassByClassLoader(e,n,{sourceCls:t.sourceCls});if(s)return s.base&&this.register(s.type),this.get(s.type,s.ref?i(i({},t),{sourceType:t.sourceType||e}):t)}if(this.config.parentContext&&!1!==t.deep)return this.config.parentContext.get(t.sourceType||e);if((0,u.isClass)(e)&&(this.config.autoRegisterSelf||(0,c.getMetadata)(e).injectable))return this.register(e),this.get(e,t);throw new v(e,n)},e.prototype.findClassByClassLoader=function(e,t,n){var r=this,o=this.classLoader.getImplementClasses(e);if(0!==o.length){if(1===o.length)return{type:o[0].type,ref:!0};var i=o.filter((function(e){return r.has(e.type,!0)}));if(1===i.length)return{type:i[0].type};if(this.config.conflictHandler){var a=this.config.conflictHandler(e,o,n.sourceCls?{type:n.sourceCls,info:this.classLoader.getClassInfo(n.sourceCls)}:void 0);if(void 0!==a)return{type:a}}if((0,u.isClass)(e)&&(0,c.getMetadata)(e).injectable)return{type:e,base:!0};throw new h(e,t)}},e.prototype.getImports=function(e,t){var n=this,r=void 0===t?{}:t,o=r.cache,i=r.deep,a=e;if(o&&this.has(a))return this.get(a);if(!this.classLoader)return[];var u=this.classLoader.getImplementClasses(a).map((function(e){return n.get(e.type,{deep:i})}));return o&&this.register(u,a),u},e.prototype.has=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=(0,u.getGlobalType)(e);if(this.components.has(r))return!0;if(n&&this.config.useClassLoader&&this.classLoader){var o=this.findClassByClassLoader(e,r);if(o)return this.has(o.type,t)}return!(!t||!this.config.parentContext)&&this.config.parentContext.has(r,t)},e.prototype.replace=function(e,t,n,r){void 0===r&&(r=!1);var o=(0,u.getGlobalType)(e),i=this.components.get(o);if(i)this.components.set(o,this.newStore(t,n||i.options));else{if(!r)throw new y(o);this.register(t,e,n)}},e.prototype.register=function(e,n,r){if(void 0===r&&(r=t.DefaultRegisterOption),n){if(!this.canBeKey(n))throw new Error("key require string, symbol or class.")}else if(!this.canBeKey(e))throw new Error("when data is not string, symbol or class, require a key.");var o=n&&(0,u.getGlobalType)(n)||e&&(0,u.getGlobalType)(e);if(this.components.has(o))throw new m(o);r=i(i({},t.DefaultRegisterOption),r);var a=this.newStore(e,r);this.components.set(o,a)},e.prototype.inject=function(e,t){var n=this;void 0===t&&(t={autoRunPostConstruct:!0});var r=this,o=e.constructor;(0,c.getMetadataField)(o,"injects").forEach((function(t){var a=t.key,u=t.typeCls,c=t.optional,s=t.singleton,f=Object.getOwnPropertyDescriptor(e,a),p=f&&f.value,d=c||void 0!==p;if("inject"===t.type&&Object.defineProperty(e,a,{configurable:!0,writable:!0,value:(0,l.guard)((function(){return n.get(u,i({sourceCls:o},s?{}:{forceNew:!0}))}),{defaultValue:p,onError:function(e){if(!d)throw e.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),e}})}),["lazyInject","imports"].includes(t.type)){var h=t.always;Object.defineProperty(e,a,{configurable:!0,get:function(){var e=!1,n=(0,l.guard)((function(){switch(t.type){case"lazyInject":return r.get(u,i({sourceCls:o},s?{}:{forceNew:!0}));case"imports":return r.getImports(u,{cache:!h})}}),{defaultValue:p,onError:function(t){if(e=!0,!d)throw t.message+="\n\tSource: ".concat(o.name,".").concat(a.toString()),t}});return e||h||Object.defineProperty(this,a,{configurable:!0,writable:!0,value:n}),n},set:function(e){Object.defineProperty(this,a,{configurable:!0,writable:!0,value:e})}})}})),(0,c.getMetadataField)(o,"aspects").forEach((function(t){var r=e[t.key],o=(0,f.genAspectWrapper)(n,t.point,r);Object.defineProperty(e,t.key,{configurable:!0,value:o})})),t.autoRunPostConstruct&&this.runPostConstruct(e)},e.prototype.runPostConstruct=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"postConstruct").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.runPreDestroy=function(e){Array.from(new Set((0,c.getMetadataField)(e.constructor,"preDestroy").map((function(e){return e.key})))).forEach((function(t){e[t]()}))},e.prototype.createChildContext=function(t){return new e(i(i(i({},this.config),t||{}),{parentContext:this}))},e.prototype.preDestroyInstance=function(e){e.inited&&this.runPreDestroy(e.value)},e.prototype.newStore=function(e,t){var n=this,r="function"==typeof e,o=r&&(0,u.isClass)(e),i=r&&t.autoNew;return{inited:!i,factory:i?function(){if(o){var t=e,r=[];if(n.config.constructorInject){var i=(0,u.getReflectMetadata)("design:paramtypes",t);i&&(r=i.map((function(e){return e===t||null==e||e===Number||e===Error||e===Object||e===String||e===Boolean||e===Array||e===Function?null:n.get(e)})))}var c=new(t.bind.apply(t,a([void 0],r,!1)));return n.inject(c),n.config.createInstanceHook?n.config.createInstanceHook(c,n):c}var s;return e(n)}:void 0,value:i?void 0:e,options:t}},e.prototype.canBeKey=function(e){var t=typeof e;return"object"===t?"[object Object]"!==e.toString():["function","string","symbol"].includes(t)},e.prototype.returnValue=function(e,t){return void 0===t&&(t=!1),e.options.singleton&&!t?(e.inited||(e.inited=!0,e.value=e.factory()),e.value):e.factory()},e.prototype.toJSON=function(){return{type:"power-di.IocContext",message:"NoSerializable"}},e}();t.IocContext=d;var h=function(e){function t(t,n){return e.call(this,"Has multi Classes of implement type: ".concat(t.name,"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.MultiImplementError=h;var v=function(e){function t(t,n){return e.call(this,"Notfound type: ".concat(t.name||(0,u.symbolString)(t),"(").concat((0,u.symbolString)(n),")"))||this}return r(t,e),t}(Error);t.NotfoundTypeError=v;var y=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is no registry."))||this}return r(t,e),t}(Error);t.NoRegistryError=y;var m=function(e){function t(t){return e.call(this,"the key:[".concat((0,u.symbolString)(t),"] is already registry."))||this}return r(t,e),t}(Error);t.AlreadyRegistryError=m},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlobalTypeByDecorator=t.getClsTypeByDecorator=t.getReflectMetadata=void 0;var r=n(24);try{n(87)}catch(e){}function o(e,t,n){if(Reflect&&Reflect.getMetadata)return Reflect.getMetadata(e,t,n)}function i(e,t,n){return void 0===e&&(e=o("design:type",t,n)),e}function a(e,t,n){return(0,r.getGlobalType)(i(e,t,n))}t.getReflectMetadata=o,t.getClsTypeByDecorator=i,t.getGlobalTypeByDecorator=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nameSymbol=void 0,t.nameSymbol=Symbol("className")},function(e,t,n){(function(e){
/*! *****************************************************************************
Copyright (C) Microsoft. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var t;!function(t){!function(n){var r="object"==typeof globalThis?globalThis:"object"==typeof e?e:"object"==typeof self?self:"object"==typeof this?this:c(),o=i(t);function i(e,t){return function(n,r){Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}function a(){try{return Function("return this;")()}catch(e){}}function u(){try{return(0,eval)("(function() { return this; })()")}catch(e){}}function c(){return a()||u()}void 0!==r.Reflect&&(o=i(r.Reflect,o)),n(o,r),void 0===r.Reflect&&(r.Reflect=t)}((function(e,t){var n=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,o=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",a="function"==typeof Object.create,u={__proto__:[]}instanceof Array,c=!a&&!u,s={create:a?function(){return fe(Object.create(null))}:u?function(){return fe({__proto__:null})}:function(){return fe({})},has:c?function(e,t){return n.call(e,t)}:function(e,t){return t in e},get:c?function(e,t){return n.call(e,t)?e[t]:void 0}:function(e,t){return e[t]}},l=Object.getPrototypeOf(Function),f="function"==typeof Map&&"function"==typeof Map.prototype.entries?Map:ce(),p="function"==typeof Set&&"function"==typeof Set.prototype.entries?Set:se(),d="function"==typeof WeakMap?WeakMap:le(),h=r?Symbol.for("@reflect-metadata:registry"):void 0,v=oe(),y=ie(v);function m(e,t,n,r){if(I(n)){if(!$(e))throw new TypeError;if(!Y(t))throw new TypeError;return P(e,t)}if(!$(e))throw new TypeError;if(!F(t))throw new TypeError;if(!F(r)&&!I(r)&&!B(r))throw new TypeError;return B(r)&&(r=void 0),x(e,t,n=W(n),r)}function b(e,t){function n(n,r){if(!F(n))throw new TypeError;if(!I(r)&&!q(r))throw new TypeError;A(e,t,n,r)}return n}function g(e,t,n,r){if(!F(n))throw new TypeError;return I(r)||(r=W(r)),A(e,t,n,r)}function w(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),N(e,t,n)}function O(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),C(e,t,n)}function j(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),T(e,t,n)}function E(e,t,n){if(!F(t))throw new TypeError;return I(n)||(n=W(n)),L(e,t,n)}function k(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),R(e,t)}function S(e,t){if(!F(e))throw new TypeError;return I(t)||(t=W(t)),M(e,t)}function _(e,t,n){if(!F(t))throw new TypeError;if(I(n)||(n=W(n)),!F(t))throw new TypeError;I(n)||(n=W(n));var r=ue(t,n,!1);return!I(r)&&r.OrdinaryDeleteMetadata(e,t,n)}function P(e,t){for(var n=e.length-1;n>=0;--n){var r,o=(0,e[n])(t);if(!I(o)&&!B(o)){if(!Y(o))throw new TypeError;t=o}}return t}function x(e,t,n,r){for(var o=e.length-1;o>=0;--o){var i,a=(0,e[o])(t,n,r);if(!I(a)&&!B(a)){if(!F(a))throw new TypeError;r=a}}return r}function N(e,t,n){var r;if(C(e,t,n))return!0;var o=ne(t);return!B(o)&&N(e,o,n)}function C(e,t,n){var r=ue(t,n,!1);return!I(r)&&U(r.OrdinaryHasOwnMetadata(e,t,n))}function T(e,t,n){var r;if(C(e,t,n))return L(e,t,n);var o=ne(t);return B(o)?void 0:T(e,o,n)}function L(e,t,n){var r=ue(t,n,!1);if(!I(r))return r.OrdinaryGetOwnMetadata(e,t,n)}function A(e,t,n,r){var o;ue(n,r,!0).OrdinaryDefineOwnMetadata(e,t,n,r)}function R(e,t){var n=M(e,t),r=ne(e);if(null===r)return n;var o=R(r,t);if(o.length<=0)return n;if(n.length<=0)return o;for(var i=new p,a=[],u=0,c=n;u<c.length;u++){var s=c[u],l;(l=i.has(s))||(i.add(s),a.push(s))}for(var f=0,d=o;f<d.length;f++){var s=d[f],l;(l=i.has(s))||(i.add(s),a.push(s))}return a}function M(e,t){var n=ue(e,t,!1);return n?n.OrdinaryOwnMetadataKeys(e,t):[]}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function I(e){return void 0===e}function B(e){return null===e}function V(e){return"symbol"==typeof e}function F(e){return"object"==typeof e?null!==e:"function"==typeof e}function G(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",r=J(e,o);if(void 0!==r){var i=r.call(e,n);if(F(i))throw new TypeError;return i}return H(e,"default"===n?"number":n)}function H(e,t){if("string"===t){var n=e.toString,r,o,r;if(X(n))if(!F(r=n.call(e)))return r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r}else{var o,r;if(X(o=e.valueOf))if(!F(r=o.call(e)))return r;var i=e.toString,r;if(X(i))if(!F(r=i.call(e)))return r}throw new TypeError}function U(e){return!!e}function z(e){return""+e}function W(e){var t=G(e,3);return V(t)?t:z(t)}function $(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function X(e){return"function"==typeof e}function Y(e){return"function"==typeof e}function q(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function K(e,t){return e===t||e!=e&&t!=t}function J(e,t){var n=e[t];if(null!=n){if(!X(n))throw new TypeError;return n}}function Q(e){var t=J(e,i);if(!X(t))throw new TypeError;var n=t.call(e);if(!F(n))throw new TypeError;return n}function Z(e){return e.value}function ee(e){var t=e.next();return!t.done&&t}function te(e){var t=e.return;t&&t.call(e)}function ne(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===l)return t;if(t!==l)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var o=r.constructor;return"function"!=typeof o||o===e?t:o}function re(){var e,n,r,o;I(h)||void 0===t.Reflect||h in t.Reflect||"function"!=typeof t.Reflect.defineMetadata||(e=ae(t.Reflect));var i=new d,a={registerProvider:u,getProvider:s,setProvider:v};return a;function u(t){if(!Object.isExtensible(a))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case e===t:break;case I(n):n=t;break;case n===t:break;case I(r):r=t;break;case r===t:break;default:void 0===o&&(o=new p),o.add(t)}}function c(t,i){if(!I(n)){if(n.isProviderFor(t,i))return n;if(!I(r)){if(r.isProviderFor(t,i))return n;if(!I(o))for(var a=Q(o);;){var u=ee(a);if(!u)return;var c=Z(u);if(c.isProviderFor(t,i))return te(a),c}}}if(!I(e)&&e.isProviderFor(t,i))return e}function s(e,t){var n=i.get(e),r;return I(n)||(r=n.get(t)),I(r)?(I(r=c(e,t))||(I(n)&&(n=new f,i.set(e,n)),n.set(t,r)),r):r}function l(e){if(I(e))throw new TypeError;return n===e||r===e||!I(o)&&o.has(e)}function v(e,t,n){if(!l(n))throw new Error("Metadata provider not registered.");var r=s(e,t);if(r!==n){if(!I(r))return!1;var o=i.get(e);I(o)&&(o=new f,i.set(e,o)),o.set(t,n)}return!0}}function oe(){var e;return!I(h)&&F(t.Reflect)&&Object.isExtensible(t.Reflect)&&(e=t.Reflect[h]),I(e)&&(e=re()),!I(h)&&F(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,h,{enumerable:!1,configurable:!1,writable:!1,value:e}),e}function ie(e){var t=new d,n={isProviderFor:function(e,n){var r=t.get(e);return!I(r)&&r.has(n)},OrdinaryDefineOwnMetadata:a,OrdinaryHasOwnMetadata:o,OrdinaryGetOwnMetadata:i,OrdinaryOwnMetadataKeys:u,OrdinaryDeleteMetadata:c};return v.registerProvider(n),n;function r(r,o,i){var a=t.get(r),u=!1;if(I(a)){if(!i)return;a=new f,t.set(r,a),u=!0}var c=a.get(o);if(I(c)){if(!i)return;if(c=new f,a.set(o,c),!e.setProvider(r,o,n))throw a.delete(o),u&&t.delete(r),new Error("Wrong provider for target.")}return c}function o(e,t,n){var o=r(t,n,!1);return!I(o)&&U(o.has(e))}function i(e,t,n){var o=r(t,n,!1);if(!I(o))return o.get(e)}function a(e,t,n,o){var i;r(n,o,!0).set(e,t)}function u(e,t){var n=[],o=r(e,t,!1);if(I(o))return n;for(var i,a=Q(o.keys()),u=0;;){var c=ee(a);if(!c)return n.length=u,n;var s=Z(c);try{n[u]=s}catch(e){try{te(a)}finally{throw e}}u++}}function c(e,n,o){var i=r(n,o,!1);if(I(i))return!1;if(!i.delete(e))return!1;if(0===i.size){var a=t.get(n);I(a)||(a.delete(o),0===a.size&&t.delete(a))}return!0}}function ae(e){var t=e.defineMetadata,n=e.hasOwnMetadata,r=e.getOwnMetadata,o=e.getOwnMetadataKeys,i=e.deleteMetadata,a=new d,u;return{isProviderFor:function(e,t){var n=a.get(e);return!(I(n)||!n.has(t))||!!o(e,t).length&&(I(n)&&(n=new p,a.set(e,n)),n.add(t),!0)},OrdinaryDefineOwnMetadata:t,OrdinaryHasOwnMetadata:n,OrdinaryGetOwnMetadata:r,OrdinaryOwnMetadataKeys:o,OrdinaryDeleteMetadata:i}}function ue(e,t,n){var r=v.getProvider(e,t);if(!I(r))return r;if(n){if(v.setProvider(e,t,y))return y;throw new Error("Illegal state.")}}function ce(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}(),r;return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,o=n+1;o<r;o++)this._keys[o-1]=this._keys[o],this._values[o-1]=this._values[o];return this._keys.length--,this._values.length--,K(t,this._cacheKey)&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,o)},t.prototype.values=function(){return new n(this._keys,this._values,a)},t.prototype.entries=function(){return new n(this._keys,this._values,u)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){if(!K(this._cacheKey,e)){this._cacheIndex=-1;for(var n=0;n<this._keys.length;n++)if(K(this._keys[n],e)){this._cacheIndex=n;break}}return this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function o(e,t){return e}function a(e,t){return t}function u(e,t){return[e,t]}}function se(){var e;return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.keys()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function le(){var e=16,t=s.create(),r=o();return function(){function e(){this._key=o()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){var n;return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=o()},e}();function o(){var e;do{e="@@WeakMap@@"+c()}while(s.has(t,e));return t[e]=!0,e}function i(e,t){if(!n.call(e,r)){if(!t)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function u(e){if("function"==typeof Uint8Array){var t=new Uint8Array(e);return"undefined"!=typeof crypto?crypto.getRandomValues(t):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(t):a(t,e),t}return a(new Array(e),e)}function c(){var e=u(16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",n=0;n<16;++n){var r=e[n];4!==n&&6!==n&&8!==n||(t+="-"),r<16&&(t+="0"),t+=r.toString(16).toLowerCase()}return t}}function fe(e){return e.__=void 0,delete e.__,e}e("decorate",m),e("metadata",b),e("defineMetadata",g),e("hasMetadata",w),e("hasOwnMetadata",O),e("getMetadata",j),e("getOwnMetadata",E),e("getMetadataKeys",k),e("getOwnMetadataKeys",S),e("deleteMetadata",_)}))}(t||(t={}))}).call(this,n(33))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefMap=void 0;var r=n(24),o=n(13);function i(e,t){void 0===t&&(t={});var n=t;function i(e){var t=(0,r.symbolString)((0,r.getGlobalType)(e));if(!n[t]){var a=n[t]={count:0,deps:[]};(0,o.getMetadataField)(e,"injects").forEach((function(e){var t=(0,r.symbolString)(e.globalType);i(e.typeCls),n[t].count++,a.deps.push({prop:e.key,type:t})}))}}return i(e),n}t.getRefMap=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(91),t),o(n(92),t),o(n(93),t),o(n(94),t),o(n(95),t),o(n(48),t),o(n(96),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.classInfo=void 0;var r=n(34),o=n(13),i=n(25);function a(e){return void 0===e&&(e={}),function(t){e.name&&Object.defineProperty(t,r.nameSymbol,{enumerable:!1,writable:!1,configurable:!1,value:e.name}),i.classLoader.hasClass(t)&&i.classLoader.unregisterClass(t),Object.assign((0,o.getMetadata)(t).classInfo,{},e),i.classLoader.registerClass(t)}}t.classInfo=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inject=void 0;var r=n(23),o=n(13);function i(e){var t=void 0===e?{}:e,n=t.type,i=t.lazy,a=void 0===i||i,u=t.always,c=void 0!==u&&u,s=t.optional,l=void 0!==s&&s,f=t.singleton,p=void 0===f||f;return function(e,t){var i=(0,r.getClsTypeByDecorator)(n,e,t);if(void 0===i||i===Object)throw new Error("CANNOT inject undefined! source: ".concat(e.constructor.name,".").concat(t.toString()));(0,o.getMetadata)(e.constructor).injects.push({key:t,globalType:(0,r.getGlobalTypeByDecorator)(n,e,t),type:a?"lazyInject":"inject",always:c,typeCls:i,optional:l,singleton:p})}}t.inject=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.injectable=void 0;var r=n(25);function o(){return function(e){r.classLoader.hasClass(e)||r.classLoader.registerClass(e)}}t.injectable=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.imports=void 0;var r=n(23),o=n(13);function i(e){var t=e.type,n=e.always,i=void 0!==n&&n;return function(e,n){(0,o.getMetadata)(e.constructor).injects.push({key:n,globalType:(0,r.getGlobalType)(t),type:"imports",always:i,typeCls:t})}}t.imports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.postConstruct=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).postConstruct.push({key:t})}}t.postConstruct=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.preDestroy=void 0;var r=n(13);function o(){return function(e,t){(0,r.getMetadata)(e.constructor).preDestroy.push({key:t})}}t.preDestroy=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){class n{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){const n=undefined;if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}e.exports=n},function(e,t,n){const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),s("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,s("comp",this)}parse(e){const t=this.options.loose?a[u.COMPARATORLOOSE]:a[u.COMPARATOR],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(s("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new f(e.value,t).test(this.value):""===e.operator?""===e.value||new f(this.value,t).test(e.semver):(!(t=i(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(c(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(c(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=o;const i=n(35),{safeRe:a,t:u}=n(36),c=n(110),s=n(26),l=n(38),f=n(51)},function(e,t,n){const r=n(111),o=n(113),i=n(114),a=n(115),u=n(116),c=n(117),s=(e,t,n,s)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,s);case"!=":return o(e,n,s);case">":return i(e,n,s);case">=":return a(e,n,s);case"<":return u(e,n,s);case"<=":return c(e,n,s);default:throw new TypeError("Invalid operator: "+t)}};e.exports=s},function(e,t,n){const r=n(20),o=(e,t,n)=>0===r(e,t,n);e.exports=o},function(e,t){const n=/^[0-9]+$/,r=(e,t)=>{const r=n.test(e),o=n.test(t);return r&&o&&(e=+e,t=+t),e===t?0:r&&!o?-1:o&&!r?1:e<t?-1:1},o=(e,t)=>r(t,e);e.exports={compareIdentifiers:r,rcompareIdentifiers:o}},function(e,t,n){const r=n(20),o=(e,t,n)=>0!==r(e,t,n);e.exports=o},function(e,t,n){const r=n(20),o=(e,t,n)=>r(e,t,n)>0;e.exports=o},function(e,t,n){const r=n(20),o=(e,t,n)=>r(e,t,n)>=0;e.exports=o},function(e,t,n){const r=n(20),o=(e,t,n)=>r(e,t,n)<0;e.exports=o},function(e,t,n){const r=n(20),o=(e,t,n)=>r(e,t,n)<=0;e.exports=o},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t){e.exports=window.AliLowCodeEngineExt},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"skeleton",(function(){return aB})),n.d(t,"plugins",(function(){return bB})),n.d(t,"project",(function(){return iB})),n.d(t,"setters",(function(){return cB})),n.d(t,"material",(function(){return fB})),n.d(t,"config",(function(){return dB})),n.d(t,"event",(function(){return hB})),n.d(t,"logger",(function(){return vB})),n.d(t,"hotkey",(function(){return oB})),n.d(t,"common",(function(){return yB})),n.d(t,"workspace",(function(){return JI})),n.d(t,"canvas",(function(){return mB})),n.d(t,"commonUI",(function(){return pB})),n.d(t,"command",(function(){return lB})),n.d(t,"isOpenSource",(function(){return OB})),n.d(t,"__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED",(function(){return jB})),n.d(t,"version",(function(){return kB})),n.d(t,"init",(function(){return _B})),n.d(t,"destroy",(function(){return xB}));var r={};n.r(r),n.d(r,"Project",(function(){return fg})),n.d(r,"Skeleton",(function(){return Fg})),n.d(r,"DocumentModel",(function(){return Jw})),n.d(r,"Node",(function(){return RO})),n.d(r,"NodeChildren",(function(){return oO})),n.d(r,"History",(function(){return jm})),n.d(r,"SettingPropEntry",(function(){return fO})),n.d(r,"SettingTopEntry",(function(){return bO})),n.d(r,"Selection",(function(){return vm})),n.d(r,"Prop",(function(){return tm})),n.d(r,"SimulatorHost",(function(){return Zb})),n.d(r,"SkeletonItem",(function(){return xg})),n.d(r,"InnerNode",(function(){return Ye}));var o=n(2),i=n.n(o),a=n(10),u=n(1),c=n(4),s=n(0),l=n(3),f,p;function d(e){return m(e)||y(e)||v(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function v(e,t){if(e){if("string"==typeof e)return b(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}}function y(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function m(e){if(Array.isArray(e))return b(e)}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function w(e){try{var t={worksWithoutQuotes:!1};return new Function("ctx","ctx.worksWithoutQuotes = {".concat(e,": true}['").concat(e,"']"))(),!t.worksWithoutQuotes}catch(e){return!0}}function O(e,t){var n;return t.doubleQuote?'"'.concat(e.replace(/"/g,'\\"'),'"'):"'".concat(e.replace(/'/g,"\\'"),"'")}function j(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.circularReferenceToken,r=void 0===n?"CIRCULAR_REFERENCE":n,o=t.doubleQuote,i=void 0===o||o,a=t.includeFunctions,u=void 0===a||a,c=t.includeUndefinedProperties,s=void 0!==c&&c,l=t.indentLevel,f=void 0===l?0:l,p=t.indentString,h=void 0===p?"  ":p,v=t.lineEnding,y=void 0===v?"\n":v,m=t.visitedObjects,b=void 0===m?new Set:m;switch(g(e)){case"boolean":return"".concat(h.repeat(f),e?"true":"false");case"function":return u?"".concat(h.repeat(f)).concat(e):null;case"number":return"".concat(h.repeat(f)).concat(e);case"object":if(!e)return"".concat(h.repeat(f),"null");if(b.has(e))return"".concat(h.repeat(f)).concat(r);if(e instanceof Date)return"".concat(h.repeat(f),"new Date(").concat(O(e.toISOString(),{doubleQuote:i}),")");if(e instanceof Map)return e.size?"".concat(h.repeat(f),"new Map(").concat(j(d(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}).slice(f*h.length),")"):"".concat(h.repeat(f),"new Map()");if(e instanceof RegExp)return"".concat(h.repeat(f),"/").concat(e.source,"/").concat(e.flags);if(e instanceof Set)return e.size?"".concat(h.repeat(f),"new Set(").concat(j(d(e),{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}).slice(f*h.length),")"):"".concat(h.repeat(f),"new Set()");if(Array.isArray(e)){if(!e.length)return"".concat(h.repeat(f),"[]");var E=e.every((function(t){return"object"===g(t)&&t&&!(t instanceof Date)&&!(t instanceof Map)&&!(t instanceof RegExp)&&!(t instanceof Set)&&(Object.keys(t).length||1===e.length)})),k=null;return e=e.reduce((function(t,n,o){if(null!==k)for(var a=o-k-1;a>0;a-=1)t.push(h.repeat(f+1));return k=o,null===(n=j(n,{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:E?f:f+1,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}))?t.push(h.repeat(f+1)):E?t.push(n.slice(f*h.length)):t.push(n),t}),[]),E?"".concat(h.repeat(f),"[").concat(e.join(", "),"]"):"".concat(h.repeat(f),"[").concat(y).concat(e.join(",".concat(y))).concat(y).concat(h.repeat(f),"]")}return(e=Object.keys(e).reduce((function(t,n){var o=e[n],a=void 0!==o||s?j(e[n],{circularReferenceToken:r,doubleQuote:i,includeFunctions:u,includeUndefinedProperties:s,indentLevel:f+1,indentString:h,lineEnding:y,visitedObjects:new Set([e].concat(d(b)))}):null;if(a){var c=w(n)?O(n,{doubleQuote:i}):n,l=a.slice((f+1)*h.length);"function"==typeof o&&l.startsWith("".concat(n,"()"))?t.push("".concat(h.repeat(f+1)).concat(c," ").concat(l.slice(n.length))):t.push("".concat(h.repeat(f+1)).concat(c,": ").concat(l))}return t}),[])).length?"".concat(h.repeat(f),"{").concat(y).concat(e.join(",".concat(y))).concat(y).concat(h.repeat(f),"}"):"".concat(h.repeat(f),"{}");case"string":return"".concat(h.repeat(f)).concat(O(e,{doubleQuote:i}));case"symbol":var S=Symbol.keyFor(e);return"string"==typeof S?"".concat(h.repeat(f),"Symbol.for(").concat(O(S,{doubleQuote:i}),")"):(S=e.toString().slice(7,-1))?"".concat(h.repeat(f),"Symbol(").concat(O(S,{doubleQuote:i}),")"):"".concat(h.repeat(f),"Symbol()");case"undefined":default:return"".concat(h.repeat(f),"undefined")}}function E(e){if(e&&e.__source)return e.__source;var t=j(e);if("undefined"===t&&(t=""),e)try{e.__source=t}catch(e){console.error(e)}return t}function k(e){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return(t=L(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function C(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function L(e){var t=A(e,"string");return"symbol"==k(t)?t:t+""}function A(e,t){if("object"!=k(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=k(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var R=u.mobx.set,M=u.mobx.isObservableArray,D=Symbol.for("unset"),I=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:D,o=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};x(this,e),this.parent=void 0,this.isProp=!0,this.owner=void 0,this.key=void 0,this.spread=void 0,this.props=void 0,this.options=void 0,this.id=Object(l.ib)("prop$"),this._type="unset",this._value=D,this._code=null,this._slotNode=void 0,this._items=null,this._maps=null,this.purged=!1,this.emitChange=function(e){var t,r,o,i=e.oldValue,a=null===(t=n.owner.document)||void 0===t?void 0:t.designer.editor,u={key:n.key,prop:n,oldValue:i,newValue:"unset"===n.type?void 0:n._value};null==a||a.eventBus.emit(c.e.Node.Prop.InnerChange,_({node:n.owner},u)),null===(r=n.owner)||void 0===r||null===(o=r.emitPropChange)||void 0===o||o.call(r,u)},this.parent=t,Object(u.makeObservable)(this),this.owner=t.owner,this.props=t.props,this.key=o,this.spread=i,this.options=a,r!==D&&this.setValue(r),this.setupItems()}return C(e,[{key:"type",get:function e(){return this._type}},{key:"value",get:function e(){return this.export(c.i.Serilize)}},{key:"code",get:function e(){return Object(l.J)(this.value)?this.value.value:"slot"===this.type?JSON.stringify(this._slotNode.export(c.i.Save)):null!=this._code?this._code:JSON.stringify(this.value)},set:function e(t){if(Object(l.J)(this._value))return this.setValue(_(_({},this._value),{},{value:t})),void(this._code=t);try{var n=JSON.parse(t);return this.setValue(n),void(this._code=t)}catch(e){}this.setValue({type:"JSExpression",value:t,mock:this._value}),this._code=t}},{key:"slotNode",get:function e(){return this._slotNode||null}},{key:"items",get:function t(){var n=this;return this._items?this._items:Object(u.runInAction)((function(){var t=null;if("list"===n._type){var r=new Map,o;n._value.forEach((function(o,i){var a,u;t=t||[],null!==(a=n._maps)&&void 0!==a&&a.has(i.toString())?(u=n._maps.get(i.toString())).setValue(o):u=new e(n,o,i),r.set(i.toString(),u),t.push(u)})),n._maps=r}else if("map"===n._type){for(var i=n._value,a=new Map,u,c=0,s=Object.keys(i);c<s.length;c++){var l,f=s[c],p=void 0;null!==(l=n._maps)&&void 0!==l&&l.has(f)?(p=n._maps.get(f)).setValue(i[f]):p=new e(n,i[f],f),(t=t||[]).push(p),a.set(f,p)}n._maps=a}else t=null,n._maps=null;return n._items=t,n._items}))}},{key:"maps",get:function e(){return this.items?this._maps:null}},{key:"path",get:function e(){return(this.parent.path||[]).concat(this.key)}},{key:"size",get:function e(){var t;return(null===(t=this.items)||void 0===t?void 0:t.length)||0}},{key:"setupItems",value:function e(){return this.items}},{key:"getPropValue",value:function e(t){return this.get(t).getValue()}},{key:"setPropValue",value:function e(t,n){this.set(t,n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.get(t,!1))||void 0===n||n.unset()}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Save;t=Object(l.l)(t);var n=this._type;if(t===c.i.Render&&"___condition___"===this.key)return!0!==(null===u.engineConfig||void 0===u.engineConfig?void 0:u.engineConfig.get("enableCondition"))||this._value;if("unset"!==n){if("literal"===n||"expression"===n)return this._value;if("slot"===n){var r,o=(null===(r=this._slotNode)||void 0===r?void 0:r.export(t))||{};return t===c.i.Render?{type:"JSSlot",params:o.params,value:o,id:o.id}:{type:"JSSlot",params:o.params,value:o.children,title:o.title,name:o.name,id:o.id}}var i;return"map"===n?this._items?(this.items.forEach((function(e,n){if(!e.isUnset()){var r=e.export(t);null!=r&&((i=i||{})[e.key||n]=r)}})),i):this._value:"list"===n?this._items?this.items.map((function(e){return null==e?void 0:e.export(t)})):this._value:void 0}}},{key:"getAsString",value:function e(){return"literal"===this.type&&this._value?String(this._value):""}},{key:"setValue",value:function e(t){if(t!==this._value){var n=this._value;this._value=t,this._code=null;var r=k(t);null==t||"string"===r||"number"===r||"boolean"===r?this._type="literal":Array.isArray(t)?this._type="list":Object(l.R)(t)?Object(l.L)(t)?this.setAsSlot(t):Object(l.J)(t)?this._type="expression":this._type="map":(this._type="expression",this._value={type:"JSExpression",value:j(t)}),this.dispose(),this.setupItems(),n!==this._value&&this.emitChange({oldValue:n})}}},{key:"getValue",value:function e(){return this.export(c.i.Serilize)}},{key:"dispose",value:function e(){var t=this,n=Object(u.untracked)((function(){return t._items}));n&&n.forEach((function(e){return e.purge()})),this._items=null,"slot"!==this._type&&this._slotNode&&(this._slotNode.remove(),this._slotNode=void 0)}},{key:"setAsSlot",value:function e(t){var n,r;if(this._type="slot",Object(l.R)(t.value)&&Object(l.Q)(t.value)&&"Slot"===(null===(n=t.value)||void 0===n?void 0:n.componentName)){var o,i,a,u=t.value;r={componentName:"Slot",title:u.title||(null===(o=u.props)||void 0===o?void 0:o.slotTitle),id:u.id,name:u.name||(null===(i=u.props)||void 0===i?void 0:i.slotName),params:u.params||(null===(a=u.props)||void 0===a?void 0:a.slotParams),children:u.children}}else r={componentName:"Slot",title:t.title,id:t.id,name:t.name,params:t.params,children:t.value};if(this._slotNode)this._slotNode.import(r);else{var c,s=this.props.owner;this._slotNode=null===(c=s.document)||void 0===c?void 0:c.createNode(r),this._slotNode&&(s.addSlot(this._slotNode),this._slotNode.internalSetSlotFor(this))}}},{key:"unset",value:function e(){"unset"!==this._type&&(this._type="unset",this.emitChange({oldValue:this._value}))}},{key:"isUnset",value:function e(){return"unset"===this._type}},{key:"isVirtual",value:function e(){return"string"==typeof this.key&&"!"===this.key.charAt(0)}},{key:"compare",value:function e(t){return!t||t.isUnset()?this.isUnset()?0:2:t.type!==this.type?2:"list"===this.type?this.size===t.size?1:2:"map"===this.type?1:this.code===t.code?0:2}},{key:"get",value:function t(n){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=this._type;if("map"!==o&&"list"!==o&&"unset"!==o&&!r)return null;var i="map"===o?this.maps:null,a="list"===o?this.items:null,u=n,c="",s;if("number"!=typeof n){var l=n.indexOf(".");l>0&&(c=n.slice(l+1))&&(u=n.slice(0,l))}return"list"===o?G(u,this.size)&&(s=a[u]):"map"===o&&(s=null==i?void 0:i.get(u)),s?c?s.get(c,r):s:r?(s=new e(this,D,u),this.set(u,s,!0),c?s.get(c,!0):s):null}},{key:"remove",value:function e(){this.parent.delete(this),this.unset()}},{key:"delete",value:function e(t){if(this._items){var n=this._items.indexOf(t);n>-1&&(this._items.splice(n,1),t.purge()),this._maps&&t.key&&this._maps.delete(String(t.key))}}},{key:"deleteKey",value:function e(t){if(this.maps){var n=this.maps.get(t);n&&this.delete(n)}}},{key:"add",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=this._type;if("list"!==o&&"unset"!==o&&!r)return null;("unset"===o||r&&"list"!==o)&&this.setValue([]);var i=new e(this,n);return this._items=this._items||[],this._items.push(i),i}},{key:"set",value:function t(n,r){var o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=this._type;if("map"!==i&&"list"!==i&&"unset"!==i&&!o)return null;("unset"===i||o&&"map"!==i)&&(G(n)?"list"!==i&&this.setValue([]):this.setValue({}));var a=F(r)?r:new e(this,r,n),u=this._items||[];if("list"===this.type){if(!G(n))return null;M(u)?R(u,n,a):u[n]=a,this._items=u}else{if("map"!==this.type)return null;var c=this._maps||new Map,s=null==c?void 0:c.get(n);if(s){var l=u.indexOf(s);l>-1&&u.splice(l,1,a)[0].purge(),null==c||c.set(n,a)}else u.push(a),this._items=u,null==c||c.set(n,a);this._maps=c}return a}},{key:"has",value:function e(t){return"map"===this._type&&(this._maps?this._maps.has(t):Object(l.v)(this._value,t))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this._items&&this._items.forEach((function(e){return e.purge()})),this._items=null,this._maps=null,this._slotNode&&this._slotNode.slotFor===this&&(this._slotNode.remove(),this._slotNode=void 0))}},{key:Symbol.iterator,value:function e(){var t=0,n=this.items,r=(null==n?void 0:n.length)||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){var n=this.items;if(n){var r="map"===this._type;n.forEach((function(e,n){return t(e,r?e.key:n)}))}}},{key:"map",value:function e(t){var n=this.items;if(!n)return null;var r="map"===this._type;return n.map((function(e,n){return t(e,r?e.key:n)}))}},{key:"getProps",value:function e(){return this.props}},{key:"getNode",value:function e(){return this.owner}}])}(),B,V;function F(e){return e&&e.isProp}function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,n=parseFloat(String(e));return n>=0&&Math.floor(n)===n&&isFinite(n)&&(t<0||n<t)}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$(r.key),r)}}function W(e,t,n){return t&&z(e.prototype,t),n&&z(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $(e){var t=X(e,"string");return"symbol"==H(t)?t:t+""}function X(e,t){if("object"!=H(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=H(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],I.prototype,"key",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Boolean)],I.prototype,"spread",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",String)],I.prototype,"_type",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],I.prototype,"_value",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],I.prototype,"value",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[String])],I.prototype,"code",null),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],I.prototype,"_items",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],I.prototype,"_maps",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],I.prototype,"maps",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],I.prototype,"setupItems",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],I.prototype,"getPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],I.prototype,"setPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],I.prototype,"clearPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],I.prototype,"setValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],I.prototype,"dispose",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],I.prototype,"setAsSlot",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],I.prototype,"unset",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],I.prototype,"isUnset",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",Object)],I.prototype,"get",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],I.prototype,"remove",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],I.prototype,"delete",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String]),Object(s.d)("design:returntype",void 0)],I.prototype,"deleteKey",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",Object)],I.prototype,"add",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object,Object]),Object(s.d)("design:returntype",void 0)],I.prototype,"set",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],I.prototype,"purge",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",void 0)],I.prototype,"forEach",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",Object)],I.prototype,"map",null);var Y="___";function q(e){if(!e)return"";var t=e;return e.indexOf(".")>0&&(t=e.split(".")[0]),"___"+t+"___"+e.slice(t.length)}function K(e){return e.replace(new RegExp("".concat("___"),"g"),"")}var J=function(){function e(t,n,r){var o=this;U(this,e),this.id=Object(l.ib)("props"),this.items=[],this.path=[],this.owner=void 0,this.type="map",this.purged=!1,Object(u.makeObservable)(this),this.owner=t,Array.isArray(n)?(this.type="list",this.items=n.map((function(e,t){return new I(o,e.value,e.name||t,e.spread)}))):null!=n&&(this.items=Object.keys(n).map((function(e){return new I(o,n[e],e,!1)}))),r&&Object.keys(r).forEach((function(e){o.items.push(new I(o,r[e],q(e)))}))}return W(e,[{key:"maps",get:function e(){var t=new Map;return this.items.length>0&&this.items.forEach((function(e){e.key&&t.set(e.key,e)})),t}},{key:"props",get:function e(){return this}},{key:"size",get:function e(){return this.items.length}},{key:"import",value:function e(t,n){var r=this,o=this.items;Array.isArray(t)?(this.type="list",this.items=t.map((function(e,t){return new I(r,e.value,e.name||t,e.spread)}))):null!=t?(this.type="map",this.items=Object.keys(t).map((function(e){return new I(r,t[e],e)}))):(this.type="map",this.items=[]),n&&Object.keys(n).forEach((function(e){r.items.push(new I(r,n[e],q(e)))})),o.forEach((function(e){return e.purge()}))}},{key:"merge",value:function e(t,n){var r=this;Object.keys(t).forEach((function(e){r.query(e,!0).setValue(t[e]),r.query(e,!0).setupItems()})),n&&Object.keys(n).forEach((function(e){r.query(q(e),!0).setValue(n[e]),r.query(q(e),!0).setupItems()}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Save;if(t=Object(l.l)(t),this.items.length<1)return{};var n={},r={},o={};if("list"===this.type)r=[],this.items.forEach((function(e){var n=e.export(t),i=e.key;i&&"string"==typeof i&&i.startsWith("___")?(i=K(i),o[i]=n):r.push({spread:e.spread,name:i,value:n})}));else{this.items.forEach((function(e){var r=e.key;if(null!=r&&!e.isUnset()&&!e.isVirtual()){var o=e.export(t);null!=o&&(n[r]=o)}}));var i=this.transformToStatic(n);Object.keys(i).forEach((function(e){var t=i[e];"string"==typeof e&&e.startsWith("___")?(e=K(e),o[e]=t):r[e]=t}))}return{props:r,extras:o}}},{key:"transformToStatic",value:function e(t){var n,r,o,i=null===(n=this.owner.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.transducers;return i?(Array.isArray(i)||(i=[i]),t=i.reduce((function(e,t){return t&&"function"==typeof t.toStatic?t.toStatic(e):e}),t)):t}},{key:"query",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.get(t,n)}},{key:"get",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t,o="",i=t.indexOf(".");i>0&&(o=t.slice(i+1))&&(r=t.slice(0,i));var a=this.maps.get(r);return!a&&n&&(a=new I(this,D,r),this.items.push(a)),a?o?a.get(o,n):a:null}},{key:"delete",value:function e(t){var n=this.items.indexOf(t);n>-1&&(this.items.splice(n,1),t.purge())}},{key:"deleteKey",value:function e(t){var n=this;this.items=this.items.filter((function(e,r){return e.key!==t||(e.purge(),n.items.splice(r,1),!1)}))}},{key:"add",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=new I(this,t,n,r,o);return this.items.push(i),i}},{key:"has",value:function e(t){return this.maps.has(t)}},{key:Symbol.iterator,value:function e(){var t=0,n=this.items,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.items.forEach((function(e){return t(e,e.key)}))}},{key:"map",value:function e(t){return this.items.map((function(e){return t(e,e.key)}))}},{key:"filter",value:function e(t){return this.items.filter((function(e){return t(e,e.key)}))}},{key:"purge",value:function e(){this.purged||(this.purged=!0,this.items.forEach((function(e){return e.purge()})))}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.query(t,n)||null}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"getNode",value:function e(){return this.owner}},{key:"toData",value:function e(){var t;return null===(t=this.export())||void 0===t?void 0:t.props}}])}();function Q(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=e.length-1;o>=0;o--)t.call(r,n(e,o))}function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function te(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(n),!0).forEach((function(t){ne(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ne(e,t,n){return(t=ae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ae(r.key),r)}}function ie(e,t,n){return t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ae(e){var t=ue(e,"string");return"symbol"==Z(t)?t:t+""}function ue(e,t){if("object"!=Z(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Z(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],J.prototype,"items",void 0),Object(s.b)([u.computed,Object(s.d)("design:type","function"==typeof(B="undefined"!=typeof Map&&Map)?B:Object),Object(s.d)("design:paramtypes",[])],J.prototype,"maps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],J.prototype,"size",null),Object(s.b)([u.obx,Object(s.d)("design:type",String)],J.prototype,"type",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],J.prototype,"import",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],J.prototype,"merge",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",Object)],J.prototype,"query",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",Object)],J.prototype,"get",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",void 0)],J.prototype,"delete",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String]),Object(s.d)("design:returntype",void 0)],J.prototype,"deleteKey",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object,Object,Object]),Object(s.d)("design:returntype",Object)],J.prototype,"add",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",void 0)],J.prototype,"forEach",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",Object)],J.prototype,"map",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Function]),Object(s.d)("design:returntype",void 0)],J.prototype,"filter",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],J.prototype,"purge",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",Object)],J.prototype,"getProp",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String]),Object(s.d)("design:returntype",Object)],J.prototype,"getPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[String,Object]),Object(s.d)("design:returntype",void 0)],J.prototype,"setPropValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],J.prototype,"toData",null);var ce=function(){function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};re(this,e),this.owner=void 0,this.children=void 0,this.emitter=Object(u.createModuleEventBus)("NodeChildren"),this.purged=!1,this.owner=t,Object(u.makeObservable)(this),this.children=(Array.isArray(n)?n:[n]).filter((function(e){return!!e})).map((function(e){var t;return null===(t=r.owner.document)||void 0===t?void 0:t.createNode(e,o.checkId)}))}return ie(e,[{key:"size",get:function e(){return this.children.length}},{key:"isEmptyNode",get:function e(){return this.size<1}},{key:"notEmptyNode",get:function e(){return this.size>0}},{key:"length",get:function e(){return this.children.length}},{key:Symbol.toStringTag,get:function e(){return"Array"}},{key:"internalInitParent",value:function e(){var t=this;this.children.forEach((function(e){return e.internalSetParent(t.owner)}))}},{key:"export",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Save;return t=Object(l.l)(t),this.children.map((function(e){var n=e.export(t);return e.isLeafNode&&c.i.Save===t?n.children:n}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=(t?Array.isArray(t)?t:[t]:[]).filter((function(e){return!!e}));var r=this.children.slice();this.children.forEach((function(e){return e.internalSetParent(null)}));for(var o=new Array(t.length),i=0,a=t.length;i<a;i++){var u=r[i],c=t[i],s=void 0,f;if(Object(l.Q)(c)&&!n&&u&&u.componentName===c.componentName)(s=u).import(c);else s=null===(f=this.owner.document)||void 0===f?void 0:f.createNode(c,n);o[i]=s}this.children=o,this.internalInitParent(),Object(l.fb)(o,r)||this.emitter.emit("change")}},{key:"concat",value:function e(t){return this.children.concat(t)}},{key:"isEmpty",value:function e(){return this.isEmptyNode}},{key:"notEmpty",value:function e(){return this.notEmptyNode}},{key:"purge",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.purged||(this.purged=!0,this.children.forEach((function(e){e.purge(t)})))}},{key:"unlinkChild",value:function e(t){var n=this.children.map((function(e){return e.id})).indexOf(t.id);if(n<0)return!1;this.children.splice(n,1),this.emitter.emit("change",{type:"unlink",node:t})}},{key:"delete",value:function e(t){return this.internalDelete(t)}},{key:"internalDelete",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};t.internalPurgeStart(),t.isParentalNode&&(Q(t.children,(function(e){e.remove(o,r,i)}),(function(e,t){return e.get(t)})),Q(t.slots,(function(e){e.remove(o,r)}),(function(e,t){return e[t]})));var a=this.children.map((function(e){return e.id})).indexOf(t.id);if(r){t.internalSetParent(null,o);try{t.purge()}catch(e){console.error(e)}}var u=t.document,c=null===(n=t.document)||void 0===n?void 0:n.designer.editor;return null==c||c.eventBus.emit("node.remove",{node:t,index:a}),null==u||u.unlinkNode(t),null==u||u.selection.remove(t.id),null==u||u.destroyNode(t),this.emitter.emit("change",{type:"delete",node:t}),o&&this.reportModified(t,this.owner,{type:"remove",propagated:!1,isSubDeleting:this.owner.isPurging,removeIndex:a,removeNode:t}),a>-1&&!r&&this.children.splice(a,1),!1}},{key:"insert",value:function e(t,n){this.internalInsert(t,n,!0)}},{key:"internalInsert",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=this.children,a=null==n||-1===n?i.length:n,u=i.map((function(e){return e.id})).indexOf(t.id);if(t.parent){var c,s=null===(c=t.document)||void 0===c?void 0:c.designer.editor;null==s||s.eventBus.emit("node.remove.topLevel",{node:t,index:t.index})}if(u<0)a<i.length?i.splice(a,0,t):i.push(t),t.internalSetParent(this.owner,o);else{if(a>u&&(a-=1),a===u)return;i.splice(u,1),i.splice(a,0,t)}this.emitter.emit("change",{type:"insert",node:t}),this.emitter.emit("insert",t);var l=null===(r=t.document)||void 0===r?void 0:r.designer.editor;if(null==l||l.eventBus.emit("node.add",{node:t}),o&&this.reportModified(t,this.owner,{type:"insert"}),t.conditionGroup&&(t.prevSibling&&t.prevSibling.conditionGroup===t.conditionGroup||t.nextSibling&&t.nextSibling.conditionGroup===t.conditionGroup||t.setConditionGroup(null)),t.prevSibling&&t.nextSibling){var f=t.prevSibling.conditionGroup;f&&f===t.nextSibling.conditionGroup&&t.setConditionGroup(f)}}},{key:"indexOf",value:function e(t){return this.children.map((function(e){return e.id})).indexOf(t.id)}},{key:"splice",value:function e(t,n,r){return r?this.children.splice(t,n,r):this.children.splice(t,n)}},{key:"get",value:function e(t){return this.children.length>t?this.children[t]:null}},{key:"has",value:function e(t){return this.indexOf(t)>-1}},{key:Symbol.iterator,value:function e(){var t=0,n=this.children,r=n.length||0;return{next:function e(){return t<r?{value:n[t++],done:!1}:{value:void 0,done:!0}}}}},{key:"forEach",value:function e(t){this.children.forEach((function(e,n){return t(e,n)}))}},{key:"map",value:function e(t){return this.children.map((function(e,n){return t(e,n)}))}},{key:"every",value:function e(t){return this.children.every((function(e,n){return t(e,n)}))}},{key:"some",value:function e(t){return this.children.some((function(e,n){return t(e,n)}))}},{key:"filter",value:function e(t){return this.children.filter(t)}},{key:"find",value:function e(t){return this.children.find(t)}},{key:"reduce",value:function e(t,n){return this.children.reduce(t,n)}},{key:"reverse",value:function e(){return this.children.reverse()}},{key:"mergeChildren",value:function e(t,n,r){var o=this,i=!1;if(t){var a=this.children.filter(t);a.length>0&&(a.forEach((function(e){var t=o.children.map((function(e){return e.id})).indexOf(e.id);t>-1&&(o.children.splice(t,1),e.remove(!1))})),i=!0)}if(n){var u=n(this.children);u&&u.length>0&&(u.forEach((function(e){var t,n,r=null===(t=o.owner.document)||void 0===t?void 0:t.createNode(e);o.children.push(r),r.internalSetParent(o.owner);var i=null===(n=r.document)||void 0===n?void 0:n.designer.editor;null==i||i.eventBus.emit("node.add",{node:r})})),i=!0)}r&&(this.children=this.children.sort(r),i=!0),i&&this.emitter.emit("change")}},{key:"onChange",value:function e(t){var n=this;return this.emitter.on("change",t),function(){n.emitter.removeListener("change",t)}}},{key:"onInsert",value:function e(t){var n=this;return this.emitter.on("insert",t),function(){n.emitter.removeListener("insert",t)}}},{key:"reportModified",value:function e(t,n){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t&&!t.isRootNode){var i=null===(r=n.componentMeta)||void 0===r?void 0:r.advanced.callbacks;if(null!=i&&i.onSubtreeModified)try{null==i||i.onSubtreeModified.call(t.internalToShellNode(),n.internalToShellNode(),o)}catch(e){console.error("error when execute advanced.callbacks.onSubtreeModified",e)}n.parent&&!n.parent.isRootNode&&this.reportModified(t,n.parent,te(te({},o),{},{propagated:!0}))}}}])}();Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],ce.prototype,"children",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],ce.prototype,"size",null),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],ce.prototype,"length",null);var se=n(60),le=n(61),fe=Object(u.createIntl)({"en-US":se,"zh-CN":le}),pe=fe.intl,de=fe.intlNode,he=fe.getLocale,ve=fe.setLocale;function ye(e){return(ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,we(r.key),r)}}function ge(e,t,n){return t&&be(e.prototype,t),n&&be(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function we(e){var t=Oe(e,"string");return"symbol"==ye(t)?t:t+""}function Oe(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var je=function(){function e(t,n){me(this,e),this.name=void 0,this.isExclusiveGroup=!0,this.id=Object(l.ib)("exclusive"),this.title=void 0,this.children=[],this.visibleIndex=0,this.name=t,Object(u.makeObservable)(this),this.title=n||{type:"i18n",intl:pe("Condition Group")}}return ge(e,[{key:"document",get:function e(){return this.visibleNode.document}},{key:"zLevel",get:function e(){return this.visibleNode.zLevel}},{key:"length",get:function e(){return this.children.length}},{key:"visibleNode",get:function e(){return this.children[this.visibleIndex]}},{key:"firstNode",get:function e(){return this.children[0]}},{key:"index",get:function e(){return this.firstNode.index}},{key:"add",value:function e(t){var n;if(t.nextSibling&&(null===(n=t.nextSibling.conditionGroup)||void 0===n?void 0:n.id)===this.id){var r=this.children.indexOf(t.nextSibling);this.children.splice(r,0,t)}else this.children.push(t)}},{key:"remove",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.children.splice(n,1),this.visibleIndex>n?this.visibleIndex-=1:this.visibleIndex>=this.children.length&&(this.visibleIndex=this.children.length-1))}},{key:"setVisible",value:function e(t){var n=this.children.indexOf(t);n>-1&&(this.visibleIndex=n)}},{key:"isVisible",value:function e(t){var n;return this.children.indexOf(t)===this.visibleIndex}}])}();function Ee(e){return e&&e.isExclusiveGroup}function ke(e,t){var n=e.slots,r;return(void 0===n?[]:n).some((function(e){var n;return t&&t===(null==e||null===(n=e.getExtraProp("name"))||void 0===n?void 0:n.getAsString())}))}function Se(e,t){var n=e.slots,r=void 0===n?[]:n;return r.some((function(e,n){var o;return!(!t||t!==(null==e||null===(o=e.getExtraProp("name"))||void 0===o?void 0:o.getAsString()))&&(e.remove(),r.splice(n,1),!0)}))}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],je.prototype,"children",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],je.prototype,"visibleIndex",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],je.prototype,"document",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],je.prototype,"zLevel",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],je.prototype,"length",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],je.prototype,"visibleNode",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],je.prototype,"firstNode",null);var _e=l.Q,Pe=l.H,xe=l.m,Ne=l.u,Ce;!function(e){e.NODE_CHILDREN_CHANGE="node.children.change",e.NODE_VISIBLE_CHANGE="node.visible.change"}(Ce||(Ce={}));var Te=["componentName","id","children","props"],Le=["componentName","id","children","props"],Ae,Re,Me;function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Be(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(n),!0).forEach((function(t){Ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ve(e,t,n){return(t=$e(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e){throw new TypeError('"'+e+'" is read-only')}function Ge(e,t){if(null==e)return{};var n,r,o=He(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function He(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ze(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$e(r.key),r)}}function We(e,t,n){return t&&ze(e.prototype,t),n&&ze(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $e(e){var t=Xe(e,"string");return"symbol"==De(t)?t:t+""}function Xe(e,t){if("object"!=De(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=De(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ye=function(){function e(t,n){var r=this;Ue(this,e),this.document=void 0,this.emitter=void 0,this.isNode=!0,this.id=void 0,this.componentName=void 0,this.props=void 0,this._children=void 0,this._addons={},this._parent=null,this.isInited=!1,this._settingEntry=void 0,this.autoruns=void 0,this._isRGLContainer=!1,this._slotFor=null,this._slots=[],this._conditionGroup=null,this.purged=!1,this.purging=!1,this.status={inPlaceEditing:!1,locking:!1,pseudo:!1},this.document=t,Object(u.makeObservable)(this);var o=n.componentName,i=n.id,a=n.children,c=n.props,s=Ge(n,Te);this.id=t.nextId(i),this.componentName=o,"Leaf"===this.componentName?this.props=new J(this,{children:Object(l.B)(a)||Object(l.J)(a)?a:""}):(this.props=new J(this,c,s),this._children=new ce(this,this.initialChildren(a)),this._children.internalInitParent(),this.props.merge(this.upgradeProps(this.initProps(c||{})),this.upgradeProps(s)),this.setupAutoruns()),this.initBuiltinProps(),this.isInited=!0,this.emitter=Object(u.createModuleEventBus)("Node");var f=this.document.designer.editor;this.onVisibleChange((function(e){null==f||f.eventBus.emit(Ce.NODE_VISIBLE_CHANGE,r,e)})),this.onChildrenChange((function(e){null==f||f.eventBus.emit(Ce.NODE_CHILDREN_CHANGE,{type:null==e?void 0:e.type,node:r})}))}return We(e,[{key:"parent",get:function e(){return this._parent}},{key:"children",get:function e(){return this._children||null}},{key:"zLevel",get:function e(){return this._parent?this._parent.zLevel+1:0}},{key:"title",get:function e(){var t=this.getExtraProp("title");if(t){var n=t.getAsString();if(n)return n}return this.componentMeta.title}},{key:"icon",get:function e(){return this.componentMeta.icon}},{key:"settingEntry",get:function e(){return this._settingEntry||(this._settingEntry=this.document.designer.createSettingEntry([this])),this._settingEntry}},{key:"isRGLContainer",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isRGLContainerNode",get:function e(){return!!this._isRGLContainer},set:function e(t){this._isRGLContainer=t}},{key:"isEmptyNode",get:function e(){return this.isEmpty()}},{key:"slots",get:function e(){return this._slots}},{key:"conditionGroup",get:function e(){return this._conditionGroup}},{key:"isPurged",get:function e(){return this.purged}},{key:"isPurging",get:function e(){return this.purging}},{key:"initBuiltinProps",value:function e(){this.props.has(q("hidden"))||this.props.add(!1,q("hidden")),this.props.has(q("title"))||this.props.add("",q("title")),this.props.has(q("isLocked"))||this.props.add(!1,q("isLocked")),this.props.has(q("condition"))||this.props.add(!0,q("condition")),this.props.has(q("conditionGroup"))||this.props.add("",q("conditionGroup")),this.props.has(q("loop"))||this.props.add(void 0,q("loop"))}},{key:"initProps",value:function e(t){return this.document.designer.transformProps(t,this,c.i.Init)}},{key:"upgradeProps",value:function e(t){return this.document.designer.transformProps(t,this,c.i.Upgrade)}},{key:"setupAutoruns",value:function e(){var t=this,n=this.componentMeta.advanced.autoruns;!n||n.length<1||(this.autoruns=n.map((function(e){return Object(u.autorun)((function(){var n;e.autorun(null===(n=t.props.getNode().settingEntry.get(e.name))||void 0===n?void 0:n.internalToShellField())}))})))}},{key:"initialChildren",value:function e(t){var e=this.componentMeta.advanced.initialChildren;return null==t?e?"function"==typeof e?e(this.internalToShellNode())||[]:e:[]:Array.isArray(t)?t:[t]}},{key:"isContainer",value:function e(){return this.isContainerNode}},{key:"isContainerNode",get:function e(){return this.isParentalNode&&this.componentMeta.isContainer}},{key:"isModal",value:function e(){return this.isModalNode}},{key:"isModalNode",get:function e(){return this.componentMeta.isModal}},{key:"isRoot",value:function e(){return this.isRootNode}},{key:"isRootNode",get:function e(){return this.document.rootNode===this}},{key:"isPage",value:function e(){return this.isPageNode}},{key:"isPageNode",get:function e(){return this.isRootNode&&"Page"===this.componentName}},{key:"isComponent",value:function e(){return this.isComponentNode}},{key:"isComponentNode",get:function e(){return this.isRootNode&&"Component"===this.componentName}},{key:"isSlot",value:function e(){return this.isSlotNode}},{key:"isSlotNode",get:function e(){return null!=this._slotFor&&"Slot"===this.componentName}},{key:"isParental",value:function e(){return this.isParentalNode}},{key:"isParentalNode",get:function e(){return!this.isLeafNode}},{key:"isLeaf",value:function e(){return this.isLeafNode}},{key:"isLeafNode",get:function e(){return"Leaf"===this.componentName}},{key:"internalSetWillPurge",value:function e(){this.internalSetParent(null),this.document.addWillPurge(this)}},{key:"didDropIn",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeAdd){var r=this.internalToShellNode();null==n||n.onNodeAdd.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropIn(t)}},{key:"didDropOut",value:function e(t){var n=this.componentMeta.advanced.callbacks;if(null!=n&&n.onNodeRemove){var r=this.internalToShellNode();null==n||n.onNodeRemove.call(r,t.internalToShellNode(),r)}this._parent&&this._parent.didDropOut(t)}},{key:"internalSetParent",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._parent!==t){var r,o;if(this._parent)if(this.isSlot())this._parent.unlinkSlot(this);else null===(r=this._parent.children)||void 0===r||r.unlinkChild(this);if(n)null===(o=this._parent)||void 0===o||o.didDropOut(this);if(t){if(this._parent=t,this.document.removeWillPurge(this),!this.conditionGroup){var i,a=null===(i=this.getExtraProp("conditionGroup",!1))||void 0===i?void 0:i.getAsString();a&&this.setConditionGroup(a)}n&&t.didDropIn(this)}}}},{key:"internalSetSlotFor",value:function e(t){this._slotFor=t}},{key:"internalToShellNode",value:function e(){return this.document.designer.shellModelFactory.createNode(this)}},{key:"slotFor",get:function e(){return this._slotFor}},{key:"remove",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{suppressRemoveEvent:!1};if(this.parent){var o,i,a,u,c;if(!r.suppressRemoveEvent)null===(o=this.document.designer.editor)||void 0===o||o.eventBus.emit("node.remove.topLevel",{node:this,index:null===(i=this.parent)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.indexOf(this)});if(this.isSlot())this.parent.removeSlot(this),null===(u=this.parent.children)||void 0===u||u.internalDelete(this,n,t,{suppressRemoveEvent:!0});else null===(c=this.parent.children)||void 0===c||c.internalDelete(this,n,t,{suppressRemoveEvent:!0})}}},{key:"lock",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setExtraProp("isLocked",t)}},{key:"isLocked",get:function e(){var t;return!(null===(t=this.getExtraProp("isLocked"))||void 0===t||!t.getValue())}},{key:"canSelect",value:function e(){var t,n,r,o=null===(t=this.componentMeta)||void 0===t||null===(n=t.advanced)||void 0===n||null===(r=n.callbacks)||void 0===r?void 0:r.onSelectHook,e="function"!=typeof o||o(this.internalToShellNode());return e}},{key:"select",value:function e(){this.document.selection.select(this.id)}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];t?this.document.designer.detecting.capture(this):this.document.designer.detecting.release(this)}},{key:"componentMeta",get:function e(){return this.document.getComponentMeta(this.componentName)}},{key:"propsData",get:function e(){return this.isParental()&&"Fragment"!==this.componentName&&this.props.export(c.i.Serilize).props||null}},{key:"hasSlots",value:function e(){return this._slots.length>0}},{key:"setConditionGroup",value:function e(t){var n=null,r,o,i,a,u,c,s;if(!t)return null===(r=this.getExtraProp("conditionGroup",!1))||void 0===r||r.remove(),void(this._conditionGroup&&(this._conditionGroup.remove(this),this._conditionGroup=null));Ee(t)||((null===(o=this.prevSibling)||void 0===o||null===(i=o.conditionGroup)||void 0===i?void 0:i.name)===t?n=this.prevSibling.conditionGroup:(null===(a=this.nextSibling)||void 0===a||null===(u=a.conditionGroup)||void 0===u?void 0:u.name)===t?n=this.nextSibling.conditionGroup:"string"==typeof t&&(n=new je(t)));n&&this._conditionGroup!==n&&(null===(c=this.getExtraProp("conditionGroup",!0))||void 0===c||c.setValue(n.name),this._conditionGroup&&this._conditionGroup.remove(this),this._conditionGroup=n,null===(s=n)||void 0===s||s.add(this))}},{key:"isConditionalVisible",value:function e(){var t;return null===(t=this._conditionGroup)||void 0===t?void 0:t.isVisible(this)}},{key:"setConditionalVisible",value:function e(){var t;null===(t=this._conditionGroup)||void 0===t||t.setVisible(this)}},{key:"hasCondition",value:function e(){var t,n=null===(t=this.getExtraProp("condition",!1))||void 0===t?void 0:t.getValue();return null!=n&&""!==n&&!0!==n}},{key:"hasLoop",value:function e(){var t,n=null===(t=this.getExtraProp("loop",!1))||void 0===t?void 0:t.getValue();return null!=n&&(!!Array.isArray(n)||!!Object(l.J)(n))}},{key:"wrapWith",value:function e(t){var n;return this.replaceWith(Be(Be({},t),{},{children:[this.export()]})).children.get(0)}},{key:"replaceWith",value:function e(t){var n,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t=Object.assign({},r?this.export():{},t),null===(n=this.parent)||void 0===n?void 0:n.replaceChild(this,t)}},{key:"replaceChild",value:function e(t,n){var r;if(null!==(r=this.children)&&void 0!==r&&r.has(t)){var o=this.document.selection.has(t.id);delete n.id;var i=this.document.createNode(n);return Object(l.P)(i)?(this.insertBefore(i,t,!1),t.remove(!1),o&&this.document.selection.select(i.id),i):null}return t}},{key:"setVisible",value:function e(t){var n;null===(n=this.getExtraProp("hidden"))||void 0===n||n.setValue(!t),this.emitter.emit("visibleChange",t)}},{key:"getVisible",value:function e(){var t;return!(null!==(t=this.getExtraProp("hidden"))&&void 0!==t&&t.getValue())}},{key:"onVisibleChange",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("visibleChange",r),function(){n.emitter.removeListener("visibleChange",r)}}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.query(t,n)||null}},{key:"getExtraProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.props.get(q(t),n)||null}},{key:"setExtraProp",value:function e(t,n){var r;null===(r=this.getProp(q(t),!0))||void 0===r||r.setValue(n)}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.value}},{key:"setPropValue",value:function e(t,n){this.getProp(t,!0).setValue(n)}},{key:"clearPropValue",value:function e(t){var n;null===(n=this.getProp(t,!1))||void 0===n||n.unset()}},{key:"mergeProps",value:function e(t){this.props.merge(t)}},{key:"setProps",value:function e(t){t instanceof J?this.props=t:this.props.import(t)}},{key:"index",get:function e(){var t;return this.parent?null===(t=this.parent.children)||void 0===t?void 0:t.indexOf(this):-1}},{key:"nextSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<0?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n+1)}},{key:"prevSibling",get:function e(){var t;if(!this.parent)return null;var n=this.index;return"number"!=typeof n||n<1?null:null===(t=this.parent.children)||void 0===t?void 0:t.get(n-1)}},{key:"schema",get:function e(){return this.export(c.i.Save)},set:function e(t){var n=this;Object(u.runInAction)((function(){return n.import(t)}))}},{key:"import",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=t.componentName,o=t.id,i=t.children,a=t.props,u=Ge(t,Le),c;(this.isSlot()&&Q(this.children,(function(e){e.remove(!0,!0)}),(function(e,t){return e.get(t)})),this.isParental())?(this.props.import(a,u),null===(c=this._children)||void 0===c||c.import(i,n)):this.props.get("children",!0).setValue(Object(l.B)(i)||Object(l.J)(i)?i:"")}},{key:"toData",value:function e(){return this.export()}},{key:"export",value:function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Save,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};n=Object(l.l)(n);var o={componentName:this.componentName};if(n!==c.i.Clone&&(o.id=this.id),n===c.i.Render&&(o.docId=this.document.id),this.isLeaf()){var i;if(!r.bypassChildren)o.children=null===(i=this.props.get("children"))||void 0===i?void 0:i.export(n);return o}var a=this.props.export(n)||{},u=a.props,s=void 0===u?{}:u,f=a.extras,p=Be({},f);Object.keys(this._addons).forEach((function(e){var n=t._addons[e];n&&(n.isProp?s[q(e)]=n.exportData():p[e]=n.exportData())}));var d=Be(Be({},o),{},{props:this.document.designer.transformProps(s,this,n)},this.document.designer.transformProps(p,this,n));return this.isParental()&&this.children&&this.children.size>0&&!r.bypassChildren&&(d.children=this.children.export(n)),d}},{key:"contains",value:function e(t){return et(this,t)}},{key:"getZLevelTop",value:function e(t){return Ze(this,t)}},{key:"comparePosition",value:function e(t){return tt(this,t)}},{key:"unlinkSlot",value:function e(t){var n=this._slots.indexOf(t);if(n<0)return!1;this._slots.splice(n,1)}},{key:"removeSlot",value:function e(t){var n=this._slots.indexOf(t);return n<0||this._slots.splice(n,1),!1}},{key:"addSlot",value:function e(t){var n,r=null==t||null===(n=t.getExtraProp("name"))||void 0===n?void 0:n.getAsString();ke(this,r)&&Se(this,r),t.internalSetParent(this,!0),this._slots.push(t)}},{key:"isValidComponent",value:function e(){var t,n,r=null===(t=this.document)||void 0===t||null===(n=t.designer)||void 0===n?void 0:n.componentsMap;return!(!r||!r[this.componentName])}},{key:"removeChild",value:function e(t){var n;null===(n=this.children)||void 0===n||n.delete(t)}},{key:"purge",value:function e(){var t,n;this.purged||(this.purged=!0,null===(t=this.autoruns)||void 0===t||t.forEach((function(e){return e()})),this.props.purge(),null===(n=this.settingEntry)||void 0===n||n.purge())}},{key:"internalPurgeStart",value:function e(){this.purging=!0}},{key:"canPerformAction",value:function e(t){var n,r,o=this,i;return((null===(n=this.componentMeta)||void 0===n||null===(r=n.availableActions)||void 0===r?void 0:r.filter((function(e){var t=e.condition;return"function"==typeof t?!1!==t(o):!1!==t})).map((function(e){return e.name})))||[]).indexOf(t)>=0}},{key:"isEmpty",value:function e(){return!this.children||this.children.isEmpty()}},{key:"getChildren",value:function e(){return this.children}},{key:"getComponentName",value:function e(){return this.componentName}},{key:"insert",value:function e(t,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.insertAfter(t,n,r)}},{key:"insertBefore",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Ke(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?n.index:null,o)}},{key:"insertAfter",value:function e(t,n){var r,o=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=Ke(t,this.document);null===(r=this.children)||void 0===r||r.internalInsert(i,n?(n.index||0)+1:null,o)}},{key:"getParent",value:function e(){return this.parent}},{key:"getId",value:function e(){return this.id}},{key:"getIndex",value:function e(){return this.index}},{key:"getNode",value:function e(){return this}},{key:"getRoot",value:function e(){return this.document.rootNode}},{key:"getProps",value:function e(){return this.props}},{key:"onChildrenChange",value:function e(t){var n,r=Object(u.wrapWithEventSwitch)(t);return null===(n=this.children)||void 0===n?void 0:n.onChange(r)}},{key:"mergeChildren",value:function e(t,n,r){var o;null===(o=this.children)||void 0===o||o.mergeChildren(t,n,r)}},{key:"getStatus",value:function e(t){return t&&null!=this.status[t]?this.status[t]:this.status}},{key:"setStatus",value:function e(t,n){this.status.hasOwnProperty(t)&&n!==this.status[t]&&(this.status[t]=n)}},{key:"getDOMNode",value:function e(){var t,n,r,o,i=null===(t=this.document.simulator)||void 0===t||null===(n=t.getComponentInstances(this))||void 0===n?void 0:n[0];if(i)return null===(r=this.document.simulator)||void 0===r||null===(o=r.findDOMNodes(i))||void 0===o?void 0:o[0]}},{key:"getPage",value:function e(){return console.warn("getPage is deprecated, use document instead"),this.document}},{key:"getRGL",value:function e(){var t,n=this.isContainer(),r=this.isEmpty(),o=this.isRGLContainer,i=null===(t=this.getParent())||void 0===t?void 0:t.isRGLContainer,a=o||i&&(!n||!r),u;return{isContainerNode:n,isEmptyNode:r,isRGLContainerNode:o,isRGLNode:i,isRGL:a,rglNode:o?this:a?null==this?void 0:this.getParent():null}}},{key:"getSuitablePlace",value:function e(t,n){var r,o,i,a,u,c=null===(r=this.document)||void 0===r?void 0:r.focusNode;if(null!=t&&null!==(o=t.componentMeta)&&void 0!==o&&o.isModal)return{container:c,ref:n};if(!n&&c&&this.contains(c)){var s,l,f,p=null===(s=c.componentMeta)||void 0===s||null===(l=s.prototype)||void 0===l||null===(f=l.options)||void 0===f?void 0:f.canDropIn;return void 0===p||!0===p||"function"==typeof p&&p(t)?{container:c}:null}if(this.isRoot()&&this.children){var d,h,v,y=this.children.filter((function(e){var n,r,o;if(!e.isContainerNode)return!1;var i=null===(n=e.componentMeta)||void 0===n||null===(r=n.prototype)||void 0===r||null===(o=r.options)||void 0===o?void 0:o.canDropIn;return!!(void 0===i||!0===i||"function"==typeof i&&i(t))}))[0];if(y)return{container:y,ref:n};var m=null===(d=this.componentMeta)||void 0===d||null===(h=d.prototype)||void 0===h||null===(v=h.options)||void 0===v?void 0:v.canDropIn;return void 0===m||!0===m||"function"==typeof m&&m(t)?{container:this,ref:n}:null}var b=null===(i=this.componentMeta)||void 0===i||null===(a=i.prototype)||void 0===a||null===(u=a.options)||void 0===u?void 0:u.canDropIn;return this.isContainer()&&(void 0===b||"boolean"==typeof b&&b||"function"==typeof b&&b(t))?{container:this,ref:n}:this.parent?this.parent.getSuitablePlace(t,{index:this.index}):null}},{key:"getAddonData",value:function e(t){var n,r=this._addons[t];return r?r.exportData():null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"registerAddon",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._addons[t]={exportData:n,isProp:r}}},{key:"getRect",value:function e(){var t,n;return this.isRoot()?(null===(n=this.document.simulator)||void 0===n?void 0:n.viewport.contentBounds)||null:(null===(t=this.document.simulator)||void 0===t?void 0:t.computeRect(this))||null}},{key:"getPrototype",value:function e(){return this.componentMeta.prototype}},{key:"setPrototype",value:function e(t){this.componentMeta.prototype=t}},{key:"getIcon",value:function e(){return this.icon}},{key:"toString",value:function e(){return this.id}},{key:"emitPropChange",value:function e(t){var n;null===(n=this.emitter)||void 0===n||n.emit("propChange",t)}},{key:"onPropChange",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("propChange",r),function(){n.emitter.removeListener("propChange",r)}}}])}(),qe;function Ke(e,t){var n=e;return Object(l.P)(e)||(n=e.getComponentName?t.createNode({componentName:e.getComponentName()}):t.createNode(e)),n}function Je(e){return e&&e.isRootNode}function Qe(e){var t;return"lowCode"===(null===(t=e.componentMeta)||void 0===t?void 0:t.getMetadata().devMode)}function Ze(e,t){var n=e.zLevel;if(n<t||t<0)return null;if(n===t)return e;for(var r=e;r&&n-- >t;)r=r.parent;return r}function et(e,t){if(e===t)return!0;if(!e.isParentalNode||!t.parent)return!1;var n=Ze(t,e.zLevel);return!!n&&e===n}function tt(e,t){if(e===t)return qe.TheSame;var n=e.zLevel,r=t.zLevel,o;return n===r?qe.BeforeOrAfter:n<r?(o=Ze(t,n))&&o===e?qe.Contains:qe.BeforeOrAfter:(o=Ze(e,r))&&o===t?qe.ContainedBy:qe.BeforeOrAfter}function nt(e,t,n,r){var o,i,a,u;if(Object(l.P)(t)&&(r||t.isSlot()))i=t.export(c.i.Clone),o=null===(a=e.document)||void 0===a?void 0:a.createNode(i);else if(Object(l.P)(t))o=t;else if(Object(l.Q)(t)){var s;o=null===(s=e.document)||void 0===s?void 0:s.createNode(t)}return Object(l.P)(o)?(null===(u=e.children)||void 0===u||u.insert(o,n),o):null}function rt(e,t,n,r){for(var o=n,i,a=[];i=t.pop();)i=nt(e,i,o,r),a.push(i),o=i.index;return a}function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function it(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=at(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function at(e,t){if(e){if("string"==typeof e)return ut(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ut(e,t):void 0}}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ct(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ft(r.key),r)}}function lt(e,t,n){return t&&st(e.prototype,t),n&&st(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ft(e){var t=pt(e,"string");return"symbol"==ot(t)?t:t+""}function pt(e,t){if("object"!=ot(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ot(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Ye.prototype,"_parent",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],Ye.prototype,"zLevel",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ye.prototype,"title",null),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Ye.prototype,"_slots",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Ye.prototype,"_conditionGroup",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],Ye.prototype,"status",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],Ye.prototype,"initBuiltinProps",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],Ye.prototype,"initProps",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],Ye.prototype,"upgradeProps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ye.prototype,"componentMeta",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ye.prototype,"propsData",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ye.prototype,"index",null),function(e){e[e.Contains=16]="Contains",e[e.ContainedBy=8]="ContainedBy",e[e.BeforeOrAfter=2]="BeforeOrAfter",e[e.TheSame=0]="TheSame"}(qe||(qe={}));var dt=function(){function e(t){ct(this,e),this.doc=void 0,this.emitter=Object(u.createModuleEventBus)("Selection"),this._selected=[],this.doc=t,Object(u.makeObservable)(this)}return lt(e,[{key:"selected",get:function e(){return this._selected}},{key:"select",value:function e(t){if(!(1===this._selected.length&&this._selected.indexOf(t)>-1)){var n=this.doc.getNode(t);null!=n&&n.canSelect()&&(this._selected=[t],this.emitter.emit("selectionchange",this._selected))}}},{key:"selectAll",value:function e(t){var n=this,r=[];t.forEach((function(e){var t=n.doc.getNode(e);null!=t&&t.canSelect()&&r.push(e)})),this._selected=r,this.emitter.emit("selectionchange",this._selected)}},{key:"clear",value:function e(){this._selected.length<1||(this._selected=[],this.emitter.emit("selectionchange",this._selected))}},{key:"dispose",value:function e(){for(var t=this._selected.length,n=t;n-- >0;){var r=this._selected[n];this.doc.hasNode(r)||this._selected.splice(n,1)}this._selected.length!==t&&this.emitter.emit("selectionchange",this._selected)}},{key:"add",value:function e(t){this._selected.indexOf(t)>-1||(this._selected.push(t),this.emitter.emit("selectionchange",this._selected))}},{key:"has",value:function e(t){return this._selected.indexOf(t)>-1}},{key:"remove",value:function e(t){var n=this._selected.indexOf(t);n>-1&&(this._selected.splice(n,1),this.emitter.emit("selectionchange",this._selected))}},{key:"containsNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=it(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if((!n||null==a||!a.contains(this.doc.focusNode))&&(null!=a&&a.contains(t)))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}},{key:"getNodes",value:function e(){var t=[],n=it(this._selected),r;try{for(n.s();!(r=n.n()).done;){var o=r.value,i=this.doc.getNode(o);i&&t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=[],r=it(this._selected),o;try{for(r.s();!(o=r.n()).done;){var i=o.value,a=this.doc.getNode(i);if(a&&(t||!a.contains(this.doc.focusNode))){for(var u=n.length,c=!0;u-- >0;){var s=tt(n[u],a);if(s===qe.Contains||s===qe.TheSame){c=!1;break}s===qe.ContainedBy&&n.splice(u,1)}c&&n.push(a)}}}catch(e){r.e(e)}finally{r.f()}return n}},{key:"onSelectionChange",value:function e(t){var n=this;return this.emitter.on("selectionchange",t),function(){n.emitter.removeListener("selectionchange",t)}}}])}();function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,bt(r.key),r)}}function mt(e,t,n){return t&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function bt(e){var t=gt(e,"string");return"symbol"==ht(t)?t:t+""}function gt(e,t){if("object"!=ht(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ht(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],dt.prototype,"_selected",void 0);var wt=new l.e({level:"warn",bizName:"history"}),Ot=function(){function e(t,n,r){var o=this;vt(this,e),this.redoer=void 0,this.document=void 0,this.session=void 0,this.records=void 0,this.point=0,this.emitter=Object(u.createModuleEventBus)("History"),this.asleep=!1,this.currentSerialization={serialize:function e(t){return JSON.stringify(t)},unserialize:function e(t){return JSON.parse(t)}},this.timeGap=1e3,this.redoer=n,this.document=r,this.session=new jt(0,null,this.timeGap),this.records=[this.session],Object(u.reaction)((function(){return t()}),(function(e){o.asleep||Object(u.untracked)((function(){var t=o.currentSerialization.serialize(e);if(o.session.data!==t)if(o.session.isActive())o.session.log(t);else{o.session.end();var n=o.getState(),r=o.session.cursor+1,i=new jt(r,t,o.timeGap);o.session=i,o.records.splice(r,o.records.length-r,i);var a=o.getState();a!==n&&o.emitter.emit("statechange",a)}}))}),{fireImmediately:!0})}return mt(e,[{key:"hotData",get:function e(){return this.session.data}},{key:"setSerialization",value:function e(t){this.currentSerialization=t}},{key:"isSavePoint",value:function e(){return this.point!==this.session.cursor}},{key:"sleep",value:function e(){this.asleep=!0}},{key:"wakeup",value:function e(){this.asleep=!1}},{key:"go",value:function e(t){this.session.end();var n=t,r;if((n=+n)<0?n=0:n>=this.records.length&&(n=this.records.length-1),n!==this.session.cursor){var o=this.records[n],i=o.data;this.sleep();try{this.redoer(this.currentSerialization.unserialize(i)),this.emitter.emit("cursor",i)}catch(e){wt.error(e)}this.wakeup(),this.session=o,this.emitter.emit("statechange",this.getState())}}},{key:"back",value:function e(){var t;if(this.session){var n=this.session.cursor-1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.back",n)}}},{key:"forward",value:function e(){var t;if(this.session){var n=this.session.cursor+1;this.go(n);var r=null===(t=this.document)||void 0===t?void 0:t.designer.editor;r&&r.eventBus.emit("history.forward",n)}}},{key:"savePoint",value:function e(){this.session&&(this.session.end(),this.point=this.session.cursor,this.emitter.emit("statechange",this.getState()))}},{key:"getState",value:function e(){var t=this.session.cursor,n=7;return t<=0&&(n-=1),t>=this.records.length-1&&(n-=2),this.point===t&&(n-=4),n}},{key:"onChangeState",value:function e(t){return this.onStateChange(t)}},{key:"onStateChange",value:function e(t){var n=this;return this.emitter.on("statechange",t),function(){n.emitter.removeListener("statechange",t)}}},{key:"onChangeCursor",value:function e(t){return this.onCursor(t)}},{key:"onCursor",value:function e(t){var n=this;return this.emitter.on("cursor",t),function(){n.emitter.removeListener("cursor",t)}}},{key:"destroy",value:function e(){this.emitter.removeAllListeners(),this.records=[]}},{key:"isModified",value:function e(){return this.isSavePoint()}}])}(),jt=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3;vt(this,e),this.cursor=void 0,this.timeGap=void 0,this._data=void 0,this.activeTimer=void 0,this.cursor=t,this.timeGap=r,this.setTimer(),this.log(n)}return mt(e,[{key:"data",get:function e(){return this._data}},{key:"log",value:function e(t){this.isActive()&&(this._data=t,this.setTimer())}},{key:"isActive",value:function e(){return null!=this.activeTimer}},{key:"end",value:function e(){this.isActive()&&this.clearTimer()}},{key:"setTimer",value:function e(){var t=this;this.clearTimer(),this.activeTimer=setTimeout((function(){return t.end()}),this.timeGap)}},{key:"clearTimer",value:function e(){this.activeTimer&&clearTimeout(this.activeTimer),this.activeTimer=null}}])}();function Et(e){return(Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pt(r.key),r)}}function _t(e,t,n){return t&&St(e.prototype,t),n&&St(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pt(e){var t=xt(e,"string");return"symbol"==Et(t)?t:t+""}function xt(e,t){if("object"!=Et(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Et(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Nt(e){if(!e)return[];var t=[];e.componentMeta.isModal&&t.push(e);var n=e.children;return n&&n.forEach((function(e){t=t.concat(Nt(e))})),t}var Ct=function(){function e(t){var n=this;kt(this,e),this.willDestroy=void 0,this.page=void 0,this.modalNodes=void 0,this.nodeRemoveEvents=void 0,this.emitter=void 0,this.page=t,this.emitter=Object(u.createModuleEventBus)("ModalNodesManager"),this.nodeRemoveEvents={},this.setNodes(),this.hideModalNodes(),this.willDestroy=[t.onNodeCreate((function(e){return n.addNode(e)})),t.onNodeDestroy((function(e){return n.removeNode(e)}))]}return _t(e,[{key:"getModalNodes",value:function e(){return this.modalNodes}},{key:"getVisibleModalNode",value:function e(){var t;return this.getModalNodes().find((function(e){return e.getVisible()}))||null}},{key:"hideModalNodes",value:function e(){this.modalNodes.forEach((function(e){e.setVisible(!1)}))}},{key:"setVisible",value:function e(t){this.hideModalNodes(),t.setVisible(!0)}},{key:"setInvisible",value:function e(t){t.setVisible(!1)}},{key:"onVisibleChange",value:function e(t){var n=this;return this.emitter.on("visibleChange",t),function(){n.emitter.removeListener("visibleChange",t)}}},{key:"onModalNodesChange",value:function e(t){var n=this;return this.emitter.on("modalNodesChange",t),function(){n.emitter.removeListener("modalNodesChange",t)}}},{key:"addNode",value:function e(t){null!=t&&t.componentMeta.isModal&&(this.hideModalNodes(),this.modalNodes.push(t),this.addNodeEvent(t),this.emitter.emit("modalNodesChange"),this.emitter.emit("visibleChange"))}},{key:"removeNode",value:function e(t){if(t.componentMeta.isModal){var n=this.modalNodes.indexOf(t);n>=0&&this.modalNodes.splice(n,1),this.removeNodeEvent(t),this.emitter.emit("modalNodesChange"),t.getVisible()&&this.emitter.emit("visibleChange")}}},{key:"addNodeEvent",value:function e(t){var n=this;this.nodeRemoveEvents[t.id]=t.onVisibleChange((function(){n.emitter.emit("visibleChange")}))}},{key:"removeNodeEvent",value:function e(t){this.nodeRemoveEvents[t.id]&&(this.nodeRemoveEvents[t.id](),delete this.nodeRemoveEvents[t.id])}},{key:"setNodes",value:function e(){var t=this,n=Nt(this.page.rootNode);this.modalNodes=n,this.modalNodes.forEach((function(e){t.addNodeEvent(e)})),this.emitter.emit("modalNodesChange")}}])}(),Tt;function Lt(e){return(Lt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function At(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?At(Object(n),!0).forEach((function(t){Mt(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):At(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Mt(e,t,n){return(t=Ht(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dt(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=It(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function It(e,t){if(e){if("string"==typeof e)return Bt(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Bt(e,t):void 0}}function Bt(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Vt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ht(r.key),r)}}function Gt(e,t,n){return t&&Ft(e.prototype,t),n&&Ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ht(e){var t=Ut(e,"string");return"symbol"==Lt(t)?t:t+""}function Ut(e,t){if("object"!=Lt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var zt=function(){function e(t,n){var r,o,i=this;Vt(this,e),this.rootNode=void 0,this.id=Object(l.ib)("doc"),this.selection=new dt(this),this.history=void 0,this.modalNodesManager=void 0,this._nodesMap=new Map,this.project=void 0,this.designer=void 0,this.nodes=new Set,this.seqId=0,this.emitter=void 0,this.rootNodeVisitorMap={},this._addons=[],this._drillDownNode=null,this._modalNode=void 0,this._blank=void 0,this.inited=!1,this.willPurgeSpace=[],this.activeNodes=void 0,this._dropLocation=null,this._opened=!1,this._suspensed=!1,Object(u.makeObservable)(this),this.project=t,this.designer=null===(r=this.project)||void 0===r?void 0:r.designer,this.emitter=Object(u.createModuleEventBus)("DocumentModel"),n||(this._blank=!0),this.id=(null===(o=t.getSchema())||void 0===o?void 0:o.id)||this.id,this.rootNode=this.createNode(n||{componentName:"Page",id:"root",fileName:""}),this.history=new Ot((function(){return i.export(c.i.Serilize)}),(function(e){var t;i.import(e,!0),null===(t=i.simulator)||void 0===t||t.rerender()}),this),this.setupListenActiveNodes(),this.modalNodesManager=new Ct(this),this.inited=!0}return Gt(e,[{key:"simulator",get:function e(){return this.project.simulator}},{key:"nodesMap",get:function e(){return this._nodesMap}},{key:"fileName",get:function e(){var t,n;return(null===(t=this.rootNode)||void 0===t||null===(n=t.getExtraProp("fileName",!1))||void 0===n?void 0:n.getAsString())||this.id},set:function e(t){var n,r;null===(n=this.rootNode)||void 0===n||null===(r=n.getExtraProp("fileName",!0))||void 0===r||r.setValue(t)}},{key:"focusNode",get:function e(){if(this._drillDownNode)return this._drillDownNode;var t=u.engineConfig.get("focusNodeSelector");return t&&"function"==typeof t?t(this.rootNode):this.rootNode}},{key:"modalNode",get:function e(){return this._modalNode}},{key:"currentRoot",get:function e(){return this.modalNode||this.focusNode}},{key:"dropLocation",get:function e(){return this._dropLocation},set:function e(t){this._dropLocation=t,this.designer.editor.eventBus.emit("document.dropLocation.changed",{document:this,location:t})}},{key:"schema",get:function e(){var t;return null===(t=this.rootNode)||void 0===t?void 0:t.schema}},{key:"suspensed",get:function e(){return this._suspensed||!this._opened}},{key:"active",get:function e(){return!this._suspensed}},{key:"actived",get:function e(){return this.active}},{key:"opened",get:function e(){return this._opened}},{key:"root",get:function e(){return this.rootNode}},{key:"drillDown",value:function e(t){this._drillDownNode=t}},{key:"onChangeNodeVisible",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Ce.NODE_VISIBLE_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Ce.NODE_VISIBLE_CHANGE,t)}}},{key:"onChangeNodeChildren",value:function e(t){var n,r=this;return null===(n=this.designer.editor)||void 0===n||n.eventBus.on(Ce.NODE_CHILDREN_CHANGE,t),function(){var e;null===(e=r.designer.editor)||void 0===e||e.eventBus.off(Ce.NODE_CHILDREN_CHANGE,t)}}},{key:"addWillPurge",value:function e(t){this.willPurgeSpace.push(t)}},{key:"removeWillPurge",value:function e(t){var n=this.willPurgeSpace.indexOf(t);n>-1&&this.willPurgeSpace.splice(n,1)}},{key:"isBlank",value:function e(){return!(!this._blank||this.isModified())}},{key:"nextId",value:function e(t){for(var n=t;!n||this.nodesMap.get(n);)n="node_".concat((String(this.id).slice(-10)+(++this.seqId).toString(36)).toLocaleLowerCase());return n}},{key:"getNode",value:function e(t){return this._nodesMap.get(t)||null}},{key:"getNodeCount",value:function e(){var t;return null===(t=this._nodesMap)||void 0===t?void 0:t.size}},{key:"hasNode",value:function e(t){var n=this.getNode(t);return!!n&&!n.isPurged}},{key:"onMountNode",value:function e(t){var n=this;return this.designer.editor.eventBus.on("node.add",t),function(){n.designer.editor.eventBus.off("node.add",t)}}},{key:"createNode",value:function e(t){var n,r;r=Object(l.B)(t)||Object(l.J)(t)?{componentName:"Leaf",children:t}:t;var o=null;return this.hasNode(null===(n=r)||void 0===n?void 0:n.id)&&(r.id=null),r.id&&((o=this.getNode(r.id))&&o.componentName===r.componentName?(o.parent&&o.internalSetParent(null,!1),o.import(r,!0)):o&&(o=null)),o||(o=new Ye(this,r)),this._nodesMap.set(o.id,o),this.nodes.add(o),this.emitter.emit("nodecreate",o),o}},{key:"destroyNode",value:function e(t){this.emitter.emit("nodedestroy",t)}},{key:"insertNode",value:function e(t,n,r,o){return nt(t,n,r,o)}},{key:"insertNodes",value:function e(t,n,r,o){return rt(t,n,r,o)}},{key:"removeNode",value:function e(t){var n,r=null;"string"==typeof t?(n=t,r=this.getNode(n)):t.id&&(n=t.id,r=this.getNode(n)),r&&this.internalRemoveAndPurgeNode(r,!0)}},{key:"internalRemoveAndPurgeNode",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.nodes.has(t)&&t.remove(n)}},{key:"unlinkNode",value:function e(t){this.nodes.delete(t),this._nodesMap.delete(t.id)}},{key:"wrapWith",value:function e(t){var n=this.selection.getTopNodes();if(n.length<1)return null;var r=this.createNode(t);if(r.isParental()){var o=n[0];return nt(o.parent,r,o.index),rt(r,n),this.selection.select(r.id),r}return this.removeNode(r),null}},{key:"import",value:function e(t){var n,r=this,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=null===(n=this._drillDownNode)||void 0===n?void 0:n.id;Object(u.runWithGlobalEventOff)((function(){var e;r.nodes.forEach((function(e){e.isRoot()||r.internalRemoveAndPurgeNode(e,!0)})),null===(e=r.rootNode)||void 0===e||e.import(t,o),r.modalNodesManager=new Ct(r),i&&r.drillDown(r.getNode(i))}))}},{key:"export",value:function e(){var t,n,r,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Serilize;o=Object(l.l)(o);var i=null===(t=this.rootNode)||void 0===t?void 0:t.export(o);if(Array.isArray(null==i?void 0:i.children)&&null!=i&&null!==(n=i.children)&&void 0!==n&&n.length&&(null==i||null===(r=i.children)||void 0===r?void 0:r.length)>0){var a=null==i?void 0:i.children.filter((function(e){return Object(l.R)(e)})).findIndex((function(e){var t;return null===(t=e.props)||void 0===t?void 0:t.__isTopFixed__}));if(a>0){var u=null==i?void 0:i.children.splice(a,1);null==i||i.children.unshift(u[0])}}return i}},{key:"getNodeSchema",value:function e(t){var n=this.getNode(t);return n?n.schema:null}},{key:"isModified",value:function e(){return this.history.isSavePoint()}},{key:"getComponent",value:function e(t){return this.simulator.getComponent(t)}},{key:"getComponentMeta",value:function e(t){var n=this;return this.designer.getComponentMeta(t,(function(){var e;return(null===(e=n.simulator)||void 0===e?void 0:e.generateComponentMetadata(t))||null}))}},{key:"setSuspense",value:function e(t){var n;(this._opened||t)&&(this._suspensed=t,null===(n=this.simulator)||void 0===n||n.setSuspense(t),t||this.project.checkExclusive(this))}},{key:"suspense",value:function e(){this.setSuspense(!0)}},{key:"activate",value:function e(){this.setSuspense(!1)}},{key:"open",value:function e(){var t=this._opened;return this._opened=!0,!1===t&&this.designer.postEvent("document-open",this),this._suspensed?this.setSuspense(!1):this.project.checkExclusive(this),this}},{key:"close",value:function e(){this.setSuspense(!0),this._opened=!1}},{key:"remove",value:function e(){this.designer.postEvent("document.remove",{id:this.id}),this.purge(),this.project.removeDocument(this)}},{key:"purge",value:function e(){var t;null===(t=this.rootNode)||void 0===t||t.purge(),this.nodes.clear(),this._nodesMap.clear(),this.rootNode=null}},{key:"checkNesting",value:function e(t,n){var r=this,o;if(Object(l.D)(n))o=Array.isArray(n.data)?n.data:[n.data];else if(Object(l.E)(n))o=n.nodes;else{if(!Object(l.P)(n)&&!Object(l.Q)(n))return console.warn("the dragObject is not in the correct type, dragObject:",n),!0;o=[n]}return o.every((function(e){return r.checkNestingDown(t,e)&&r.checkNestingUp(t,e)}))}},{key:"checkDropTarget",value:function e(t,n){var r=this,o;if(Object(l.D)(n))o=Array.isArray(n.data)?n.data:[n.data];else{if(!Object(l.E)(n))return!1;o=n.nodes}return o.every((function(e){return r.checkNestingUp(t,e)}))}},{key:"checkNestingUp",value:function e(t,n){if(Object(l.P)(n)||Object(l.Q)(n)){var r=Object(l.P)(n)?n.componentMeta:this.getComponentMeta(n.componentName);if(r)return r.checkNestingUp(n,t)}return!0}},{key:"checkNestingDown",value:function e(t,n){var r;return t.componentMeta.checkNestingDown(t,n)}},{key:"getRoot",value:function e(){return this.rootNode}},{key:"toData",value:function e(t){var n=this.export(c.i.Save),r;return{componentsMap:this.getComponentsMap(t),utils:this.getUtilsMap(),componentsTree:[n]}}},{key:"getHistory",value:function e(){return this.history}},{key:"getAddonData",value:function e(t){var n=this._addons.find((function(e){return e.name===t}));if(n)return n.exportData()}},{key:"exportAddonData",value:function e(){var t={};return this._addons.forEach((function(e){var n=e.exportData();null===n?delete t[e.name]:t[e.name]=n})),t}},{key:"registerAddon",value:function e(t,n){if(["id","params","layout"].indexOf(t)>-1)throw new Error("addon name cannot be id, params, layout");var r=this._addons.findIndex((function(e){return e.name===t}));r>-1&&this._addons.splice(r,1),this._addons.push({exportData:n,name:t})}},{key:"acceptRootNodeVisitor",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",n=arguments.length>1?arguments[1]:void 0,r={};t||console.warn("Invalid or empty RootNodeVisitor name.");try{this.rootNode&&(r=n.call(this,this.rootNode),this.rootNodeVisitorMap[t]=r)}catch(e){console.error("RootNodeVisitor is not valid."),console.error(e)}return r}},{key:"getRootNodeVisitor",value:function e(t){return this.rootNodeVisitorMap[t]}},{key:"getComponentsMap",value:function e(t){var n=this,r=[],o={},i=Dt(this._nodesMap.values()),a;try{for(i.s();!(a=i.n()).done;){var u=a.value,c,s=(u||{}).componentName,l,f;if("Slot"!==s)if(!o[s])o[s]=!0,null!==(l=u.componentMeta)&&void 0!==l&&null!==(f=l.npm)&&void 0!==f&&f.package?r.push(Rt(Rt({},u.componentMeta.npm),{},{componentName:s})):r.push({devMode:"lowCode",componentName:s})}}catch(e){i.e(e)}finally{i.f()}return Array.isArray(t)&&t.forEach((function(e){if(e&&!o[e]){var t,i=n.getComponentMeta(e);null!=i&&null!==(t=i.npm)&&void 0!==t&&t.package?r.push(Rt(Rt({},null==i?void 0:i.npm),{},{componentName:e})):r.push({devMode:"lowCode",componentName:e})}})),r}},{key:"getUtilsMap",value:function e(){var t,n,r,o;return null===(t=this.designer)||void 0===t||null===(n=t.editor)||void 0===n||null===(r=n.get("assets"))||void 0===r||null===(o=r.utils)||void 0===o?void 0:o.map((function(e){return{name:e.name,type:e.type||"npm",content:e.npm}}))}},{key:"onNodeCreate",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("nodecreate",r),function(){n.emitter.removeListener("nodecreate",r)}}},{key:"onNodeDestroy",value:function e(t){var n=this,r=Object(u.wrapWithEventSwitch)(t);return this.emitter.on("nodedestroy",r),function(){n.emitter.removeListener("nodedestroy",r)}}},{key:"refresh",value:function e(){console.warn("refresh method is deprecated")}},{key:"onRefresh",value:function e(){console.warn("onRefresh method is deprecated")}},{key:"onReady",value:function e(t){var n=this;return this.designer.editor.eventBus.on("document-open",t),function(){n.designer.editor.eventBus.off("document-open",t)}}},{key:"setupListenActiveNodes",value:function e(){}}])}();function Wt(e){return e&&e.rootNode}function $t(e){return"Page"===(null==e?void 0:e.componentName)}function Xt(){return(Xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Yt(e){return React.createElement(l.f,Xt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M704 480v-160c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480h-160z m-320-160c0-70.4 57.6-128 128-128s128 57.6 128 128v160h-256v-160z m416 512H224v-288h576v288z",fill:"#ffffff","p-id":"2680"}),React.createElement("path",{d:"M480 768h64v-160h-64z",fill:"#ffffff","p-id":"2681"}))}function qt(){return(qt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Kt(e){return React.createElement(l.f,qt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M183.423543 657.078213l163.499771-98.484012c-4.233418-14.908548-6.646374-30.585599-6.646374-46.852074 0-94.665033 76.739778-171.404812 171.404812-171.404812 45.983287 0 87.641059 18.20871 118.42518 47.679929l129.791042-78.17957c-73.254398-41.73145-157.866471-65.812915-248.216221-65.812915-192.742792 0-360.068705 108.505249-444.453604 267.715321C96.636944 567.228859 136.301316 616.355743 183.423543 657.078213zM841.253886 367.552144l-164.382884 99.015108c3.934612 14.415314 6.215562 29.513174 6.215562 45.174875 0 94.665033-76.739778 171.404812-171.404812 171.404812-45.361117 0-86.484723-17.747199-117.142977-46.515407l-129.419582 77.955466c72.874751 41.149189 156.893306 64.871473 246.563582 64.871473 192.742792 0 360.068705-108.505249 444.453604-267.717368C927.000805 456.773188 887.794875 408.054603 841.253886 367.552144zM420.280042 511.741104c0 0.550539 0.152473 1.060145 0.161682 1.608637l135.080511-81.366146c-13.065574-7.198959-27.854395-11.658528-43.826158-11.658528C461.20922 420.325068 420.280042 461.254246 420.280042 511.741104zM447.739441 576.947198l69.02098-41.574884L948.364369 275.395234c10.812253-6.512321 14.297634-20.558222 7.785314-31.369452-6.512321-10.812253-20.556175-14.296611-31.368428-7.785314L575.654762 446.537056l0 0-151.20577 91.078345 0 0L75.027787 748.090043c-10.812253 6.512321-14.297634 20.556175-7.785314 31.368428 6.512321 10.812253 20.556175 14.297634 31.369452 7.785314L447.739441 576.947198 447.739441 576.947198zM511.696078 603.157139c50.487881 0 91.416036-40.928155 91.416036-91.416036 0-0.549515-0.152473-1.057075-0.161682-1.605567l-135.079488 81.364099C480.935494 598.699618 495.724315 603.157139 511.696078 603.157139z"}))}function Jt(){return(Jt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Qt(e){return React.createElement(l.f,Jt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function Zt(){return(Zt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function en(e){return React.createElement(l.f,Zt({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function tn(){return(tn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function nn(e){return React.createElement(l.f,tn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M783.5648 437.4528h-18.0224V336.6912c0-43.8272-35.6352-79.4624-79.4624-79.4624h-110.592V241.664c0-90.9312-73.728-164.6592-164.6592-164.6592-90.9312 0-164.6592 73.728-164.6592 164.6592v15.5648H155.2384c-43.8272 0-79.4624 35.6352-79.4624 79.4624v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h56.1152c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192H106.496c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 43.8272 35.6352 79.4624 79.4624 79.4624h531.2512c43.8272 0 79.4624-35.6352 79.4624-79.4624v-100.7616h18.0224c90.9312 0 164.6592-73.728 164.6592-164.6592-0.4096-90.9312-74.1376-164.6592-165.0688-164.6592z m0 267.8784h-48.7424c-16.7936 0-30.72 13.9264-30.72 30.72v131.4816c0 9.8304-8.192 18.0224-18.0224 18.0224H155.2384c-9.8304 0-18.0224-8.192-18.0224-18.0224v-100.7616h25.3952c90.9312 0 164.6592-73.728 164.6592-164.6592 0-90.9312-73.728-164.6592-164.6592-164.6592h-25.3952V336.6912c0-9.8304 8.192-18.0224 18.0224-18.0224h121.6512c16.7936 0 30.72-13.9264 30.72-30.72V241.664c0-56.9344 46.2848-103.2192 103.2192-103.2192s103.2192 46.2848 103.2192 103.2192v46.2848c0 16.7936 13.9264 30.72 30.72 30.72h141.312c9.8304 0 18.0224 8.192 18.0224 18.0224v131.4816c0 16.7936 13.9264 30.72 30.72 30.72h48.7424c56.9344 0 103.2192 46.2848 103.2192 103.2192s-46.2848 103.2192-103.2192 103.2192z"}))}function rn(){return(rn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function on(e){return React.createElement(l.f,rn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M192 256.16C192 220.736 220.704 192 256.16 192h639.68C931.264 192 960 220.704 960 256.16v639.68A64.16 64.16 0 0 1 895.84 960H256.16A64.16 64.16 0 0 1 192 895.84V256.16z m64 31.584v576.512a32 32 0 0 0 31.744 31.744h576.512a32 32 0 0 0 31.744-31.744V287.744A32 32 0 0 0 864.256 256H287.744A32 32 0 0 0 256 287.744zM288 192v64h64V192H288z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m128 0v64h64V192h-64z m96 96v64h64V288h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m0 128v64h64v-64h-64z m-96 96v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64h-64z m-128 0v64h64v-64H288z m-96-96v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64v-64H192z m0-128v64h64V288H192z m160 416c0-17.664 14.592-32 32.064-32h319.872a31.968 31.968 0 1 1 0 64h-319.872A31.968 31.968 0 0 1 352 704z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 576z m0-128c0-17.664 14.4-32 32.224-32h383.552c17.792 0 32.224 14.208 32.224 32 0 17.664-14.4 32-32.224 32H384.224A32.032 32.032 0 0 1 352 448z m512 47.936V192h-64V159.968A31.776 31.776 0 0 0 768.032 128H160A31.776 31.776 0 0 0 128 159.968V768c0 17.92 14.304 31.968 31.968 31.968H192v64h303.936H128.128A63.968 63.968 0 0 1 64 799.872V128.128C64 92.704 92.48 64 128.128 64h671.744C835.296 64 864 92.48 864 128.128v367.808z"}))}function an(){return(an=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function un(e){return React.createElement(l.f,an({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M381.6 864H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0.1-5.7-5.5-10.3-12.3-10.3zM382 780.6H162c-6.9 0-12.5 4.6-12.5 10.3v19.3c0 5.7 5.6 10.3 12.5 10.3h220c6.9 0 12.5-4.6 12.5-10.3v-19.3c0-5.7-5.6-10.3-12.5-10.3zM162.4 737.2h219.1c6.8 0 12.4-4.6 12.4-10.3v-19.3c0-5.7-5.6-10.3-12.4-10.3H162.4c-6.9 0-12.4 4.6-12.4 10.3v19.3c0 5.7 5.6 10.3 12.4 10.3z"}),React.createElement("path",{d:"M977.1 0H46.9C21 0 0 21 0 46.9v930.2c0 25.9 21 46.9 46.9 46.9h930.2c25.9 0 46.9-21 46.9-46.9V46.9C1024 21 1003 0 977.1 0z m-18.7 911.6c0 25.9-21 46.9-46.9 46.9H112.4c-25.9 0-46.9-21-46.9-47V112.4c0-25.9 21-46.9 46.9-46.9h799.1c25.9 0 46.9 21 46.9 46.9v799.2z"}),React.createElement("path",{d:"M207.9 342.7h608.2c32 0 57.9-25.9 57.9-57.9v-83c0-32-25.9-57.9-57.9-57.9H207.9c-32 0-57.9 25.9-57.9 57.9v83c0 32 25.9 57.9 57.9 57.9zM200 201.8c0-4.4 3.5-7.9 7.9-7.9h608.2c4.4 0 7.9 3.5 7.9 7.9v83c0 4.4-3.5 7.9-7.9 7.9H207.9c-4.4 0-7.9-3.5-7.9-7.9v-83zM806.4 405.7h-277c-37.3 0-67.6 30.2-67.6 67.6v363.2c0 37.3 30.2 67.6 67.6 67.6h277c37.3 0 67.6-30.2 67.6-67.6V473.3c0-37.4-30.2-67.6-67.6-67.6zM824 836.4c0 9.7-7.9 17.6-17.6 17.6h-277c-9.7 0-17.6-7.9-17.6-17.6V473.3c0-9.7 7.9-17.6 17.6-17.6h277c9.7 0 17.6 7.9 17.6 17.6v363.1zM272 649.7c67.4 0 122-54.6 122-122s-54.6-122-122-122-122 54.6-122 122 54.6 122 122 122z m0-204c45.2 0 82 36.8 82 82s-36.8 82-82 82-82-36.8-82-82 36.8-82 82-82z"}))}function cn(){return(cn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function sn(e){return React.createElement(l.f,cn({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M800 800h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-256 0h64v64h-64v-64z m0-640h64v64h-64v-64z m128 640h64v64h-64v-64zM160 672h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m640 384h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m0-128h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z m-128 0h64v64h-64v-64z"}),React.createElement("path",{d:"M896 64H128c-35.2 0-64 28.8-64 64v768c0 35.2 28.8 64 64 64h768c35.2 0 64-28.8 64-64V128c0-35.2-28.8-64-64-64z m0 800c0 19.2-12.8 32-32 32H160c-19.2 0-32-12.8-32-32V160c0-19.2 12.8-32 32-32h704c19.2 0 32 12.8 32 32v704z"}))}function ln(){return(ln=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function fn(e){return React.createElement(l.f,ln({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M384 480v-160c0-70.4 57.6-128 128-128s128 57.6 128 128v64h64v-64c0-105.6-86.4-192-192-192s-192 86.4-192 192v160H160v416h704V480H384z m416 352H224v-288h576v288z",fill:"#ffffff","p-id":"2813"}),React.createElement("path",{d:"M416 736h192v-64h-192z",fill:"#ffffff","p-id":"2814"}))}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Object)],zt.prototype,"nodes",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],zt.prototype,"_drillDownNode",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],zt.prototype,"willPurgeSpace",void 0),Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],zt.prototype,"activeNodes",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],zt.prototype,"_dropLocation",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],zt.prototype,"_opened",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],zt.prototype,"_suspensed",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype","function"==typeof(Tt="undefined"!=typeof T&&T)?Tt:Object)],zt.prototype,"createNode",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],zt.prototype,"import",null),Yt.displayName="IconLock",Kt.displayName="Hidden",Qt.displayName="Remove",en.displayName="Setting",nn.displayName="Component",on.displayName="Clone",un.displayName="Page",sn.displayName="Container",fn.displayName="IconUnlock";var pn=["componentName","npm"];function dn(e){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?hn(Object(n),!0).forEach((function(t){yn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yn(e,t,n){return(t=jn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mn(e,t){if(null==e)return{};var n,r,o=bn(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function bn(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function gn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jn(r.key),r)}}function On(e,t,n){return t&&wn(e.prototype,t),n&&wn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jn(e){var t=En(e,"string");return"symbol"==dn(t)?t:t+""}function En(e,t){if("object"!=dn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function kn(e){if(!e)return null;if(!Array.isArray(e)){if("string"!=typeof e)return null;e=e.split(/ *[ ,|] */).filter(Boolean)}return e.length<1?null:e}function Sn(e){if(!e)return null;if("function"==typeof e)return e;if(Object(l.W)(e))return function(t){return e.test(t.componentName)};var t=kn(e);return t?function(e){return t.includes(e.componentName)}:null}var _n=function(){function e(t,n){gn(this,e),this.designer=void 0,this.isComponentMeta=!0,this._npm=void 0,this.emitter=Object(u.createModuleEventBus)("ComponentMeta"),this._componentName=void 0,this._isContainer=void 0,this._isModal=void 0,this._descriptor=void 0,this._rootSelector=void 0,this._transformedMetadata=void 0,this._liveTextEditing=void 0,this._isTopFixed=void 0,this.parentWhitelist=void 0,this.childWhitelist=void 0,this._title=void 0,this._isMinimalRenderUnit=void 0,this._acceptable=void 0,this.prototype=void 0,this.designer=t,this.parseMetadata(n)}return On(e,[{key:"npm",get:function e(){return this._npm},set:function e(t){this.setNpm(t)}},{key:"componentName",get:function e(){return this._componentName}},{key:"isContainer",get:function e(){return this._isContainer||this.isRootComponent()}},{key:"isMinimalRenderUnit",get:function e(){return this._isMinimalRenderUnit||!1}},{key:"isModal",get:function e(){return this._isModal}},{key:"descriptor",get:function e(){return this._descriptor}},{key:"rootSelector",get:function e(){return this._rootSelector}},{key:"configure",get:function e(){var t,n=null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure;return(null==n?void 0:n.combined)||(null==n?void 0:n.props)||[]}},{key:"liveTextEditing",get:function e(){return this._liveTextEditing}},{key:"isTopFixed",get:function e(){return!!this._isTopFixed}},{key:"title",get:function e(){var t;return Object(l.ab)(this._title)?(null===(t=this._title)||void 0===t?void 0:t.label)||this.componentName:this._title||this.componentName}},{key:"icon",get:function e(){var t;return(null===(t=this._transformedMetadata)||void 0===t?void 0:t.icon)||("Page"===this.componentName?un:this.isContainer?sn:nn)}},{key:"acceptable",get:function e(){return this._acceptable}},{key:"advanced",get:function e(){return this.getMetadata().configure.advanced||{}}},{key:"setNpm",value:function e(t){this._npm||(this._npm=t)}},{key:"parseMetadata",value:function e(t){var n=t.componentName,r=t.npm,o=mn(t,pn),i=t;t.prototype&&(this.prototype=t.prototype),r||Object.keys(o).length||(i={componentName:n,configure:{component:{disableBehaviors:["copy","move","lock","unlock"]},advanced:{callbacks:{onMoveHook:function e(){return!1}}}}}),this._npm=r||this._npm,this._componentName=n,this._transformedMetadata=this.transformMetadata(i);var a=this._transformedMetadata.title;a&&(this._title="string"==typeof a?{type:"i18n","en-US":this.componentName,"zh-CN":a}:a);var u=this.advanced.liveTextEditing||[];function c(e){e.forEach((function(e){if(null!=e&&e.items)c(e.items);else{var t,n=e.liveTextEditing||(null===(t=e.extraProps)||void 0===t?void 0:t.liveTextEditing);n&&u.push(vn({propTarget:String(e.name)},n))}}))}c(this.configure),this._liveTextEditing=u.length>0?u:void 0;var s=this.advanced.isTopFixed;s&&(this._isTopFixed=s);var l=this._transformedMetadata.configure,f=void 0===l?{}:l;this._acceptable=!1;var p=f.component;if(p){if(this._isContainer=!!p.isContainer,this._isModal=!!p.isModal,this._descriptor=p.descriptor,this._rootSelector=p.rootSelector,this._isMinimalRenderUnit=p.isMinimalRenderUnit,p.nestingRule){var d=p.nestingRule,h=d.parentWhitelist,v=d.childWhitelist;this.parentWhitelist=Sn(h),this.childWhitelist=Sn(v)}}else this._isContainer=!1,this._isModal=!1;this.emitter.emit("metadata_change")}},{key:"refreshMetadata",value:function e(){this.parseMetadata(this.getMetadata())}},{key:"transformMetadata",value:function e(t){var n,r=this.designer.componentActions.getRegisteredMetadataTransducers().reduce((function(e,t){return t(e)}),xn(t));return r.configure||(r.configure={}),r.experimental&&!r.configure.advanced&&(Object(l.r)(r.experimental,".experimental",".configure.advanced"),r.configure.advanced=r.experimental),r}},{key:"isRootComponent",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"Page"===this.componentName||"Component"===this.componentName||t&&"Block"===this.componentName}},{key:"availableActions",get:function e(){var t,n=(null===(t=this._transformedMetadata)||void 0===t?void 0:t.configure.component)||{},r=n.disableBehaviors,o=n.actions,i=kn(r)||(this.isRootComponent(!1)?["copy","remove","lock","unlock"]:null);return o=this.designer.componentActions.actions.concat(this.designer.getGlobalComponentActions()||[],o||[]),i?i.includes("*")?o.filter((function(e){return"always"===e.condition})):o.filter((function(e){return i.indexOf(e.name)<0})):o}},{key:"setMetadata",value:function e(t){this.parseMetadata(t)}},{key:"getMetadata",value:function e(){return this._transformedMetadata}},{key:"checkNestingUp",value:function e(t,n){return!this.parentWhitelist||this.parentWhitelist(n.internalToShellNode(),Object(l.P)(t)?t.internalToShellNode():t)}},{key:"checkNestingDown",value:function e(t,n){var r=this,o;return!this.childWhitelist||(Array.isArray(n)?n:[n]).every((function(e){var n=Object(l.P)(e)?e:new Ye(t.document,e);return r.childWhitelist&&r.childWhitelist(n.internalToShellNode(),t.internalToShellNode())}))}},{key:"onMetadataChange",value:function e(t){var n=this;return this.emitter.on("metadata_change",t),function(){n.emitter.removeListener("metadata_change",t)}}}])}();function Pn(e){return e&&e.isComponentMeta}function xn(e){return e.configure?Array.isArray(e.configure)?vn(vn({},e),{},{configure:{props:e.configure}}):e:vn(vn({},e),{},{configure:{}})}Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],_n.prototype,"icon",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],_n.prototype,"availableActions",null);var Nn="100%";function Cn(e){return e&&e.isSimulator}function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ln(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function An(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ln(Object(n),!0).forEach((function(t){Rn(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ln(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Rn(e,t,n){return(t=Bn(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bn(r.key),r)}}function In(e,t,n){return t&&Dn(e.prototype,t),n&&Dn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bn(e){var t=Vn(e,"string");return"symbol"==Tn(t)?t:t+""}function Vn(e,t){if("object"!=Tn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Fn=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"global";Mn(this,e),this.designer=void 0,this.viewName=void 0,this.emitter=Object(u.createModuleEventBus)("Project"),this.documents=[],this.data={version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},this._simulator=void 0,this.isRendererReady=!1,this._config={},this._i18n={},this.documentsMap=new Map,this.designer=t,this.viewName=r,Object(u.makeObservable)(this),this.load(n)}return In(e,[{key:"simulator",get:function e(){return this._simulator||null}},{key:"currentDocument",get:function e(){return this.documents.find((function(e){return e.active}))}},{key:"config",get:function e(){return this._config},set:function e(t){this._config=t}},{key:"i18n",get:function e(){return this._i18n},set:function e(t){this._i18n=t||{}}},{key:"getComponentsMap",value:function e(){return this.documents.reduce((function(e,t){var n=t.getComponentsMap();return Array.isArray(n)&&n.forEach((function(t){var n;e.find((function(e){return!(!Object(l.T)(e)||!Object(l.T)(t)||e.package!==t.package||e.componentName!==t.componentName)||!(!Object(l.O)(e)||e.componentName!==t.componentName)}))||e.push(t)})),e}),[])}},{key:"getSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Save;return An(An({},this.data),{},{componentsMap:this.getComponentsMap(),componentsTree:this.documents.filter((function(e){return!e.isBlank()})).map((function(e){return e.export(t)||{}})),i18n:this.i18n})}},{key:"setSchema",value:function e(t){var n,r=this.documents.find((function(e){return e.active}));r&&(null==t?void 0:t.componentsTree[0])&&r.import(null==t?void 0:t.componentsTree[0]),null===(n=this.simulator)||void 0===n||n.rerender()}},{key:"load",value:function e(t,n){var r=this;if(this.unload(),this.data=An({version:"1.0.0",componentsMap:[],componentsTree:[],i18n:{}},t),this.config=(null==t?void 0:t.config)||this.config,this.i18n=(null==t?void 0:t.i18n)||this.i18n,n)if(!0===n){var o,i,a,u,c,s=this.data.componentsTree.map((function(e){return r.createDocument(e)})),l;if((null===(o=this.config)||void 0===o||null===(i=o.layout)||void 0===i||null===(a=i.props)||void 0===a||null===(u=a.tabBar)||void 0===u||null===(c=u.items)||void 0===c?void 0:c.length)>0)null===(l=s.find((function(e){var t;return e.fileName===(null===(t=r.config.layout.props.tabBar.items[0].path)||void 0===t?void 0:t.slice(1))})))||void 0===l||l.open();else s[0].open()}else this.open(n)}},{key:"unload",value:function e(){if(!(this.documents.length<1))for(var t=this.documents.length-1;t>=0;t--)this.documents[t].remove()}},{key:"removeDocument",value:function e(t){var n=this.documents.indexOf(t);n<0||(this.documents.splice(n,1),this.documentsMap.delete(t.id))}},{key:"set",value:function e(t,n){"config"===t&&(this.config=n),"i18n"===t&&(this.i18n=n),Object.assign(this.data,Rn({},t,n))}},{key:"get",value:function e(t){return"config"===t?this.config:"i18n"===t?this.i18n:Reflect.get(this.data,t)}},{key:"getDocument",value:function e(t){return this.documents.find((function(e){return e.id===t}))||null}},{key:"getDocumentByFileName",value:function e(t){return this.documents.find((function(e){return e.fileName===t}))||null}},{key:"createDocument",value:function e(t){var n,r,o=new zt(this,t||(null==this||null===(n=this.data)||void 0===n||null===(r=n.componentsTree)||void 0===r?void 0:r[0]));return this.documents.push(o),this.documentsMap.set(o.id,o),o}},{key:"open",value:function e(t){if(!t){var n=this.documents.find((function(e){return e.isBlank()}));return n?n.open():(t=this.createDocument()).open()}if("string"==typeof t||"number"==typeof t){var r=this.documents.find((function(e){return e.fileName===String(t)||String(e.id)===String(t)}));if(r)return r.open();var o=this.data.componentsTree.find((function(e){return e.fileName===String(t)}));return o?(t=this.createDocument(o)).open():null}return Wt(t)?t.open():(t=this.createDocument(t)).open()}},{key:"checkExclusive",value:function e(t){this.documents.forEach((function(e){e!==t&&e.suspense()})),this.emitter.emit("current-document.change",t)}},{key:"closeOthers",value:function e(t){this.documents.forEach((function(e){e!==t&&e.close()}))}},{key:"mountSimulator",value:function e(t){this._simulator=t,this.emitter.emit("lowcode_engine_simulator_ready",t)}},{key:"setRendererReady",value:function e(t){this.isRendererReady=!0,this.emitter.emit("lowcode_engine_renderer_ready",t)}},{key:"onSimulatorReady",value:function e(t){var n=this;return this._simulator?(t(this._simulator),function(){}):(this.emitter.on("lowcode_engine_simulator_ready",t),function(){n.emitter.removeListener("lowcode_engine_simulator_ready",t)})}},{key:"onRendererReady",value:function e(t){var n=this;return this.isRendererReady&&t(),this.emitter.on("lowcode_engine_renderer_ready",t),function(){n.emitter.removeListener("lowcode_engine_renderer_ready",t)}}},{key:"onCurrentDocumentChange",value:function e(t){var n=this;return this.emitter.on("current-document.change",t),function(){n.emitter.removeListener("current-document.change",t)}}}])}(),Gn,Hn,Un,zn,Wn,$n,Xn;function Yn(e){return(Yn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qn(r.key),r)}}function Jn(e,t,n){return t&&Kn(e.prototype,t),n&&Kn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qn(e){var t=Zn(e,"string");return"symbol"==Yn(t)?t:t+""}function Zn(e,t){if("object"!=Yn(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yn(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],Fn.prototype,"documents",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Fn.prototype,"currentDocument",null),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],Fn.prototype,"_config",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],Fn.prototype,"config",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Fn.prototype,"_i18n",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],Fn.prototype,"i18n",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],Fn.prototype,"load",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object]),Object(s.d)("design:returntype",Object)],Fn.prototype,"createDocument",null);var er=function(){function e(){qn(this,e),this.rect=void 0,this._bounds=void 0,this.viewportElement=void 0,this._scale=1,this._contentWidth="100%",this._contentHeight="100%",this._scrollX=0,this._scrollY=0,this._scrollTarget=void 0,this._scrolling=!1,Object(u.makeObservable)(this)}return Jn(e,[{key:"bounds",get:function e(){var t=this;return this._bounds||(this._bounds=this.viewportElement.getBoundingClientRect(),requestAnimationFrame((function(){t._bounds=void 0}))),this._bounds}},{key:"contentBounds",get:function e(){var t=this.bounds,n=this.scale;return new DOMRect(0,0,t.width/n,t.height/n)}},{key:"mount",value:function e(t){t&&this.viewportElement!==t&&(this.viewportElement=t,this.touch())}},{key:"touch",value:function e(){this.viewportElement&&(this.rect=this.bounds)}},{key:"height",get:function e(){return this.rect?this.rect.height:600},set:function e(t){this._contentHeight=t/this.scale,this.viewportElement&&(this.viewportElement.style.height="".concat(t,"px"),this.touch())}},{key:"width",get:function e(){return this.rect?this.rect.width:1e3},set:function e(t){this._contentWidth=t/this.scale,this.viewportElement&&(this.viewportElement.style.width="".concat(t,"px"),this.touch())}},{key:"scale",get:function e(){return this._scale},set:function e(t){if(isNaN(t)||t<=0)throw new Error('invalid new scale "'.concat(t,'"'));this._scale=t,this._contentWidth=this.width/this.scale,this._contentHeight=this.height/this.scale}},{key:"contentHeight",get:function e(){return this._contentHeight},set:function e(t){this._contentHeight=t}},{key:"contentWidth",get:function e(){return this._contentWidth},set:function e(t){this._contentWidth=t}},{key:"scrollX",get:function e(){return this._scrollX}},{key:"scrollY",get:function e(){return this._scrollY}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"scrolling",get:function e(){return this._scrolling}},{key:"setScrollTarget",value:function e(t){var n=this,r=new Zu(t),o;this._scrollX=r.left,this._scrollY=r.top,t.addEventListener("scroll",(function(){n._scrollX=r.left,n._scrollY=r.top,n._scrolling=!0,o&&clearTimeout(o),o=setTimeout((function(){n._scrolling=!1}),80)})),t.addEventListener("resize",(function(){return n.touch()})),this._scrollTarget=r}},{key:"toGlobalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:t.clientX*this.scale+n.left,clientY:t.clientY*this.scale+n.top}}},{key:"toLocalPoint",value:function e(t){if(!this.viewportElement)return t;var n=this.bounds;return{clientX:(t.clientX-n.left)/this.scale,clientY:(t.clientY-n.top)/this.scale}}}])}();function tr(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=nr(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function nr(e,t){if(e){if("string"==typeof e)return rr(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?rr(e,t):void 0}}function rr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function or(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t.contentWindow,o=t.contentDocument,i=e.designer.editor.get("innerPlugins");r.AliLowCodeEngine=i._getLowCodePluginContext({}),r.LCSimulatorHost=e,r._=window._;var a={},u={};function c(e,t){var n=tr(e),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;if(o)if(Object(l.x)(o))o.assets&&c(Array.isArray(o.assets)?o.assets:[o.assets],o.level||t);else if(Array.isArray(o))c(o,t);else{Object(l.y)(o)||(o=Object(l.h)(Object(l.z)(o)?l.d.CSSUrl:l.d.JSUrl,o,t));var i=o.id?' data-id="'.concat(o.id,'"'):"",s=o.level||t||l.a.Environment,f=o.scriptType?' type="'.concat(o.scriptType,'"'):"";o.type===l.d.JSUrl?u[s].push('<script src="'.concat(o.content,'"').concat(i).concat(f,"><\/script>")):o.type===l.d.JSText?u[s].push("<script".concat(i).concat(f,">").concat(o.content,"<\/script>")):o.type===l.d.CSSUrl?a[s].push('<link rel="stylesheet" href="'.concat(o.content,'"').concat(i," />")):o.type===l.d.CSSText&&a[s].push('<style type="text/css"'.concat(i,">").concat(o.content,"</style>"))}}}catch(e){n.e(e)}finally{n.f()}}l.b.forEach((function(e){a[e]=[],u[e]=[]})),c(n);var s=Object.keys(a).map((function(e){return"".concat(a[e].join("\n"),'<meta level="').concat(e,'" />')})).join(""),f=Object.keys(u).map((function(e){return u[e].join("\n")})).join("");return o.open(),o.write('\n<!doctype html>\n<html class="engine-design-mode">\n  <head><meta charset="utf-8"/>\n    '.concat(s,"\n  </head>\n  <body>\n    ").concat(f,"\n  </body>\n</html>")),o.close(),new Promise((function(t){var n=r.SimulatorRenderer;if(n)return t(n);var o=function n(){t(r.SimulatorRenderer||e.renderer),r.removeEventListener("load",o)};r.addEventListener("load",o)}))}function ir(e){return e&&e.isSimulatorRenderer}function ar(e){return(ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ur(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ur=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==ar(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(ar(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function cr(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function sr(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cr(i,r,o,a,u,"next",e)}function u(e){cr(i,r,o,a,u,"throw",e)}a(void 0)}))}}function lr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dr(r.key),r)}}function pr(e,t,n){return t&&fr(e.prototype,t),n&&fr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dr(e){var t=hr(e,"string");return"symbol"==ar(t)?t:t+""}function hr(e,t){if("object"!=ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(Gn="undefined"!=typeof DOMRect&&DOMRect)?Gn:Object)],er.prototype,"rect",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[Number])],er.prototype,"height",null),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[Number])],er.prototype,"width",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],er.prototype,"_scale",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[Number])],er.prototype,"scale",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],er.prototype,"_contentWidth",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],er.prototype,"_contentHeight",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],er.prototype,"contentHeight",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[Object])],er.prototype,"contentWidth",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],er.prototype,"_scrollX",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],er.prototype,"_scrollY",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],er.prototype,"_scrolling",void 0);var vr=Symbol("unset"),yr=function(){function e(t,n){var r=this;lr(this,e),this.consumer=void 0,this.emitter=Object(u.createModuleEventBus)("ResourceConsumer"),this._data=vr,this._providing=void 0,this._consuming=void 0,this._firstConsumed=!1,this.resolveFirst=void 0,this.consumer=n,Object(u.makeObservable)(this),this._providing=Object(u.autorun)((function(){r._data=t()}))}return pr(e,[{key:"consume",value:function e(t){var n=this;if(!this._consuming){var r;if(ir(t)){if(!this.consumer)return;var o=this.consumer;r=function e(n){return o(t,n)}}else r=t;this._consuming=Object(u.autorun)(sr(ur().mark((function e(){return ur().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:if(n._data!==vr){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,r(n._data);case 4:n.resolveFirst?n.resolveFirst():n._firstConsumed=!0;case 5:case"end":return t.stop()}}),e)}))))}}},{key:"dispose",value:function e(){this._providing&&this._providing(),this._consuming&&this._consuming(),this.emitter.removeAllListeners()}},{key:"waitFirstConsume",value:function e(){var t=this;return this._firstConsumed?Promise.resolve():new Promise((function(e){t.resolveFirst=e}))}}])}();Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],yr.prototype,"_data",void 0);var mr=n(12),br=n.n(mr);function gr(e){return(gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Or(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?wr(Object(n),!0).forEach((function(t){jr(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wr(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function jr(e,t,n){return(t=Er(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Er(e){var t=kr(e,"string");return"symbol"==gr(t)?t:t+""}function kr(e,t){if("object"!=gr(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gr(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Sr=["string","number","array","bool","func","object","node","element","symbol","any"];function _r(e,t){function n(){return e.isRequired.apply(e,arguments)}return"string"==typeof t&&(t={type:t}),n.lowcodeType=Or(Or({},t),{},{isRequired:!0}),n}function Pr(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:br.a.any,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};function n(){return e.apply(void 0,arguments)}return e._inner||"lowcodeCheckType"===e.name||(e.lowcodeType=t),n.lowcodeType=t,n.isRequired=_r(e,t),n}var xr=Or(Or({},br.a),{},{define:Pr});window.PropTypes=xr,window.React&&(window.React.PropTypes=xr),Sr.forEach((function(e){var t=br.a[e];t&&(t._inner=!0,xr[e]=Pr(t,e))})),xr.oneOf=function(e){return Pr(br.a.oneOf(e),{type:"oneOf",value:e})},xr.arrayOf=function(e){return Pr(br.a.arrayOf(e),{type:"arrayOf",value:e.lowcodeType||"any"})},xr.objectOf=function(e){return Pr(br.a.objectOf(e),{type:"objectOf",value:e.lowcodeType||"any"})},xr.oneOfType=function(e){var t=e.map((function(e){return e.lowcodeType||"any"}));return Pr(br.a.oneOfType(e),{type:"oneOfType",value:t})},xr.exact=function(e){var t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Pr(br.a.exact(e),{type:"exact",value:t})},xr.shape=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.keys(e).map((function(t){var n;return{name:t,propType:(null===(n=e[t])||void 0===n?void 0:n.lowcodeType)||"any"}}));return Pr(br.a.shape(e),{type:"shape",value:t})};var Nr=["string","number","object"];function Cr(e){if(!e)return[];var t=e.propTypes||{},n=e.defaultProps||{},r={};return t?(Object.keys(t).forEach((function(e){var o=t[e],i=n[e],a=o.lowcodeType;if(a)return r[e]={name:e,propType:a},void(null!=i&&(r[e].defaultValue=i));for(var u=Sr.length;u-- >0;){var c=Sr[u];if(xr[c]===o)return r[e]={name:e,propType:c},void(null!=i&&(r[e].defaultValue=i))}r[e]={name:e,propType:"any"},null!=i&&(r[e].defaultValue=i)})),Object.keys(n).forEach((function(e){if(!r[e]){var t=n[e],i=gr(t);"boolean"===i?i="bool":"function"===i?i="func":"object"===i&&Array.isArray(t)?i="array":t&&Object(o.isValidElement)(t)?i="node":t&&Object(l.G)(t)?i="element":Nr.includes(i)||(i="any"),r[e]={name:e,propType:i||"any",defaultValue:t}}})),Object.keys(r).map((function(e){return r[e]}))):[]}function Tr(e){return Or({props:Cr(e)},e.componentMetadata)}var Lr=function e(t,n){for(var r=t;r;){var o=Object(l.i)(r,n),i=Object(l.s)(r,(function(e){var t,n;return!!(null!==(t=r)&&void 0!==t&&t.isLocked?null===(n=e.parent)||void 0===n?void 0:n.isLocked:e.isLocked)}));if(i&&i.getId()!==r.getId()&&(o=!1),o)break;r=r.parent}return r};function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ir(r.key),r)}}function Dr(e,t,n){return t&&Mr(e.prototype,t),n&&Mr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ir(e){var t=Br(e,"string");return"symbol"==Ar(t)?t:t+""}function Br(e,t){if("object"!=Ar(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ar(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Vr(e){var t=e.clipboardData;if(!t)return null;try{var n=JSON.parse(t.getData("text/plain"));if(!n)return{};if(n.componentsTree)return n;if(n.componentName)return{componentsTree:[n]}}catch(e){return{}}}var Fr,Gr=new(function(){function e(){Rr(this,e),this.copyPasters=[],this.waitFn=void 0,this.injectCopyPaster(document)}return Dr(e,[{key:"isCopyPasteEvent",value:function e(t){this.isCopyPaster(t.target)}},{key:"isCopyPaster",value:function e(t){return this.copyPasters.includes(t)}},{key:"initCopyPaster",value:function e(t){var n=this;this.copyPasters.push(t);var r=function e(r){n.waitFn&&(n.waitFn(Vr(r),r),n.waitFn=void 0),t.blur()};return t.addEventListener("paste",r,!1),function(){t.removeEventListener("paste",r,!1);var e=n.copyPasters.indexOf(t);e>-1&&n.copyPasters.splice(e,1)}}},{key:"injectCopyPaster",value:function e(t){if(!this.copyPasters.find((function(e){return e.ownerDocument===t}))){var n=t.createElement("textarea");n.style.cssText="position: absolute;left: -9999px;top:-100px",t.body?t.body.appendChild(n):t.addEventListener("DOMContentLoaded",(function(){t.body.appendChild(n)}));var r=this.initCopyPaster(n);return function(){r(),t.removeChild(n)}}}},{key:"setData",value:function e(t){var n=this.copyPasters.find((function(e){return e.ownerDocument}));n&&(n.value="string"==typeof t?t:JSON.stringify(t),n.select(),n.ownerDocument.execCommand("copy"),n.blur())}},{key:"waitPasteData",value:function e(t,n){var r=t.view;if(r){var o=this.copyPasters.find((function(e){return e.ownerDocument===r.document}));o&&(o.select(),this.waitFn=n)}}}])}()),Hr;function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Xr(r.key),r)}}function $r(e,t,n){return t&&Wr(e.prototype,t),n&&Wr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Xr(e){var t=Yr(e,"string");return"symbol"==Ur(t)?t:t+""}function Yr(e,t){if("object"!=Ur(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ur(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var qr="data-setter-prop";function Kr(e,t){var n=e.closest("[".concat(qr,"]"));return n&&t.contains(n)?n:null}function Jr(e,t){t.setValue(e)}var Qr=[];function Zr(e){Qr.push(e)}function eo(){Qr=[]}var to=[];function no(e){to.push(e)}function ro(){to=[]}var oo=function(){function e(){zr(this,e),this._editing=null,this._dispose=void 0,this._save=void 0}return $r(e,[{key:"apply",value:function e(t){var n,r,o,i,a=this,u=t.node,c=t.event,s=t.rootElement,l=c.target,f=u.componentMeta.liveTextEditing,p=null===(n=u.document)||void 0===n?void 0:n.designer.editor,d=null==u||null===(r=u.componentMeta)||void 0===r?void 0:r.npm,h=[null==d?void 0:d.package,null==d?void 0:d.componentName].filter((function(e){return!!e})).join("-")||(null==u||null===(o=u.componentMeta)||void 0===o?void 0:o.componentName)||"";null==p||p.eventBus.emit("designer.builtinSimulator.liveEditing",{selected:h});var v=Kr(l,s),y=null===(i=v)||void 0===i?void 0:i.dataset.setterProp,m,b;f?y?m=f.find((function(e){return e.propTarget==y})):(m=f.find((function(e){return!!e.selector&&!!(v=uo(s,l,e.selector))})),y=null===(b=m)||void 0===b?void 0:b.propTarget):(to.some((function(e){return!!(m=e(t))})),m&&(y=m.propTarget,v=m.propElement||uo(s,l,m.selector)));if(y&&v){var g,w,O,j=u.getProp(y,!0);if(this._editing===j)return;var E=(null===(g=m)||void 0===g?void 0:g.onSaveContent)||(null===(w=Qr.find((function(e){return e.condition(j)})))||void 0===w?void 0:w.onSaveContent)||Jr;v.setAttribute("contenteditable",null!==(O=m)&&void 0!==O&&O.mode&&"plaintext"!==m.mode?"true":"plaintext-only"),v.classList.add("engine-live-editing"),v.focus(),io(c),this._save=function(){E(v.innerText,j)};var k=function e(t){var n;switch(console.info(t.code),t.code){case"Enter":case"Escape":break;case"Tab":null===(n=v)||void 0===n||n.blur()}},S=function e(){a.saveAndDispose()};v.addEventListener("focusout",S),v.addEventListener("keydown",k,!0),this._dispose=function(){v.classList.remove("engine-live-editing"),v.removeAttribute("contenteditable"),v.removeEventListener("focusout",S),v.removeEventListener("keydown",k,!0)},this._editing=j}}},{key:"editing",get:function e(){return this._editing}},{key:"saveAndDispose",value:function e(){this._save&&(this._save(),this._save=void 0),this.dispose()}},{key:"dispose",value:function e(){this._dispose&&(this._dispose(),this._dispose=void 0),this._editing=null}}])}();function io(e){var t,n=null===(t=e.view)||void 0===t?void 0:t.document;if(n){var r=n.caretRangeFromPoint(e.clientX,e.clientY);r&&(ao(n,r),setTimeout((function(){return ao(n,r)}),1))}}function ao(e,t){var n=e.getSelection();n&&(n.removeAllRanges(),n.addRange(t))}function uo(e,t,n){if(!n)return null;var r=":root"===n?e:e.querySelector(n);return r&&(r.contains(t)||(r=Array.from(e.querySelectorAll(n)).find((function(e){return e.contains(t)}))))?r:null}function co(e){return e.nodeType===Node.ELEMENT_NODE}function so(e,t){var n=e.getBoundingClientRect(),r=t.contentBounds,o=r.width,i=r.height,a=n.left,u=n.right,c=n.top,s=n.bottom,l=n.width,f=n.height;return a>=-l&&c>=-f&&s<=i+f&&u<=o+l}function lo(e){return e.map((function(e){return null==e?void 0:e.toUpperCase()}))}function fo(e,t){var n,r=window.document,o=(null===(n=e.view)||void 0===n?void 0:n.document)||r,i=new Set;return i.add(r),i.add(o),t.forEach((function(e){var t=e.contentDocument;t&&i.add(t)})),function(e){i.forEach((function(t){return e(t)}))}}oo.addLiveEditingSpecificRule=no,oo.clearLiveEditingSpecificRule=ro,oo.addLiveEditingSaveHandler=Zr,oo.clearLiveEditingSaveHandler=eo,Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],oo.prototype,"_editing",void 0);var po=n(8),ho,vo,yo,mo;function bo(e){return(bo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function go(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Ao(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function wo(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */wo=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==bo(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(bo(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function Oo(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function jo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Oo(i,r,o,a,u,"next",e)}function u(e){Oo(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Eo(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ko(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Eo(Object(n),!0).forEach((function(t){So(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Eo(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function So(e,t,n){return(t=No(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Po(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,No(r.key),r)}}function xo(e,t,n){return t&&Po(e.prototype,t),n&&Po(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function No(e){var t=Co(e,"string");return"symbol"==bo(t)?t:t+""}function Co(e,t){if("object"!=bo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function To(e,t){return Do(e)||Mo(e,t)||Ao(e,t)||Lo()}function Lo(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ao(e,t){if(e){if("string"==typeof e)return Ro(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ro(e,t):void 0}}function Ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Mo(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function Do(e){if(Array.isArray(e))return e}var Io=new l.e({level:"warn",bizName:"designer"}),Bo=function(){var e=Object(u.getPublicPath)(),t,n,r=To(/^(.+?)(\/js)?\/?$/.exec(e)||[],3),o=r[0],i=r[1],a=void 0===i?"":i,c;return t=r[2]?["".concat(a,"/css/react-simulator-renderer.css"),"".concat(a,"/js/react-simulator-renderer.js")]:["".concat(a,"/react-simulator-renderer.css"),"".concat(a,"/react-simulator-renderer.js")]}(),Vo=[Object(l.h)(l.d.JSText,"window.React=parent.React;window.ReactDOM=parent.ReactDOM;window.__is_simulator_env__=true;",void 0,"react"),Object(l.h)(l.d.JSText,"window.PropTypes=parent.PropTypes;React.PropTypes=parent.PropTypes; window.__REACT_DEVTOOLS_GLOBAL_HOOK__ = window.parent.__REACT_DEVTOOLS_GLOBAL_HOOK__;")],Fo=function(){function e(t,n){var r=this;_o(this,e),this.isSimulator=!0,this.project=void 0,this.designer=void 0,this.viewport=new er,this.scroller=void 0,this.emitter=Object(u.createModuleEventBus)("BuiltinSimulatorHost"),this.componentsConsumer=void 0,this.injectionConsumer=void 0,this.i18nConsumer=void 0,this.autoRender=!0,this._props={},this._contentWindow=void 0,this._contentDocument=void 0,this._appHelper=void 0,this._renderer=void 0,this.asyncLibraryMap={},this.libraryMap={},this._iframe=void 0,this.disableHovering=void 0,this.disableDetecting=void 0,this.liveEditing=new oo,this.instancesMap={},this.tryScrollAgain=null,this._sensorAvailable=!0,this.sensing=!1,Object(u.makeObservable)(this),this.project=t,this.designer=n,this.scroller=this.designer.createScroller(this.viewport),this.autoRender=!u.engineConfig.get("disableAutoRender",!1),this._appHelper=u.engineConfig.get("appHelper"),this.componentsConsumer=new yr((function(){return r.componentsAsset})),this.injectionConsumer=new yr((function(){return{appHelper:r._appHelper}})),u.engineConfig.onGot("appHelper",(function(e){r._appHelper=e})),this.i18nConsumer=new yr((function(){return r.project.i18n})),l.hb.onStartTransaction((function(){r.stopAutoRepaintNode()}),c.j.REPAINT);var o=Object(po.debounce)(this.rerender.bind(this),28);l.hb.onEndTransaction((function(){o(),r.enableAutoRepaintNode()}),c.j.REPAINT)}return xo(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"renderEnv",get:function e(){return this.get("renderEnv")||"default"}},{key:"device",get:function e(){return this.get("device")||"default"}},{key:"locale",get:function e(){return this.get("locale")||u.globalLocale.getLocale()}},{key:"deviceClassName",get:function e(){return this.get("deviceClassName")}},{key:"designMode",get:function e(){return this.get("designMode")||"design"}},{key:"requestHandlersMap",get:function e(){return this.get("requestHandlersMap")||null}},{key:"thisRequiredInJSE",get:function e(){var t;return null===(t=u.engineConfig.get("thisRequiredInJSE"))||void 0===t||t}},{key:"enableStrictNotFoundMode",get:function e(){var t;return null!==(t=u.engineConfig.get("enableStrictNotFoundMode"))&&void 0!==t&&t}},{key:"notFoundComponent",get:function e(){var t;return null!==(t=u.engineConfig.get("notFoundComponent"))&&void 0!==t?t:null}},{key:"faultComponent",get:function e(){var t;return null!==(t=u.engineConfig.get("faultComponent"))&&void 0!==t?t:null}},{key:"faultComponentMap",get:function e(){var t;return null!==(t=u.engineConfig.get("faultComponentMap"))&&void 0!==t?t:null}},{key:"componentsAsset",get:function e(){return this.get("componentsAsset")}},{key:"theme",get:function e(){return this.get("theme")}},{key:"componentsMap",get:function e(){return this.designer.componentsMap}},{key:"deviceStyle",get:function e(){return this.get("deviceStyle")}},{key:"contentWindow",get:function e(){return this._contentWindow}},{key:"contentDocument",get:function e(){return this._contentDocument}},{key:"renderer",get:function e(){return this._renderer}},{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"stopAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.stopAutoRepaintNode()}},{key:"enableAutoRepaintNode",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.enableAutoRepaintNode()}},{key:"setProps",value:function e(t){this._props=t}},{key:"set",value:function e(t,n){this._props=ko(ko({},this._props),{},So({},t,n))}},{key:"get",value:function e(t){var n,r,o,i;return"device"===t?(null===(n=this.designer)||void 0===n||null===(r=n.editor)||void 0===r||null===(o=r.get("deviceMapper"))||void 0===o||null===(i=o.transform)||void 0===i?void 0:i.call(o,this._props.device))||this._props.device:this._props[t]}},{key:"connect",value:function e(t,n,r){return this._renderer=t,Object(u.autorun)(n,r)}},{key:"reaction",value:function e(t,n,r){return Object(u.reaction)(t,n,r)}},{key:"autorun",value:function e(t,n){return Object(u.autorun)(t,n)}},{key:"purge",value:function e(){}},{key:"mountViewport",value:function e(t){this.viewport.mount(t)}},{key:"buildLibrary",value:function e(t){var n=this,r=t||this.get("library"),o=[],i=[],a=[];return r&&r.length&&r.forEach((function(e){var t=e.exportMode,r=e.exportSourceLibrary;n.libraryMap[e.package]=e.library,e.async&&(n.asyncLibraryMap[e.package]=e),e.exportName&&e.library&&i.push("Object.defineProperty(window,'".concat(e.exportName,"',{get:()=>window.").concat(e.library,"});")),"functionCall"===t&&r&&a.push('window["'.concat(e.library,'"] = window["').concat(r,'"]("').concat(e.library,'", "').concat(e.package,'");')),e.editUrls?o.push(e.editUrls):e.urls&&o.push(e.urls)})),o.unshift(Object(l.h)(l.d.JSText,i.join(""))),o.push(Object(l.h)(l.d.JSText,a.join(""))),o}},{key:"rerender",value:function e(){var t,n;this.designer.refreshComponentMetasMap(),null===(t=this.renderer)||void 0===t||null===(n=t.rerender)||void 0===n||n.call(t)}},{key:"mountContentFrame",value:function(){var e=jo(wo().mark((function e(t){var n=this,r,o,i,a,u;return wo().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t&&this._iframe!==t){c.next=2;break}return c.abrupt("return");case 2:return this._iframe=t,this._contentWindow=t.contentWindow,this._contentDocument=this._contentWindow.document,r=this.buildLibrary(),"rax"===this.renderEnv&&Io.error("After LowcodeEngine v1.3.0, Rax is no longer supported."),o=[Object(l.g)(this.get("environment")||Vo,l.a.Environment),Object(l.g)(this.get("extraEnvironment"),l.a.Environment),Object(l.g)(r,l.a.Library),Object(l.g)(this.theme,l.a.Theme),Object(l.g)(this.get("simulatorUrl")||Bo,l.a.Runtime)],c.next=10,or(this,t,o);case 10:return i=c.sent,c.next=13,this.componentsConsumer.waitFirstConsume();case 13:return c.next=15,this.injectionConsumer.waitFirstConsume();case 15:if(!(Object.keys(this.asyncLibraryMap).length>0)){c.next=19;break}return c.next=18,i.loadAsyncLibrary(this.asyncLibraryMap);case 18:Object.keys(this.asyncLibraryMap).forEach((function(e){delete n.asyncLibraryMap[e]}));case 19:i.run(),this.viewport.setScrollTarget(this._contentWindow),this.setupEvents(),(a=this.designer.editor.get("innerHotkey")).mount(this._contentWindow),(u=this.designer.editor.get("skeleton")).focusTracker.mount(this._contentWindow),Gr.injectCopyPaster(this._contentDocument);case 27:case"end":return c.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupComponents",value:function(){var e=jo(wo().mark((function e(t){var n,r=this,o,i;return wo().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=this.buildLibrary(t),a.next=3,null===(n=this.renderer)||void 0===n?void 0:n.load(o);case 3:if(!(Object.keys(this.asyncLibraryMap).length>0)){a.next=7;break}return a.next=6,null===(i=this.renderer)||void 0===i?void 0:i.loadAsyncLibrary(this.asyncLibraryMap);case 6:Object.keys(this.asyncLibraryMap).forEach((function(e){delete r.asyncLibraryMap[e]}));case 7:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"setupEvents",value:function e(){this.setupDragAndClick(),this.setupDetecting(),this.setupLiveEditing(),this.setupContextMenu()}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.emitter).emit.apply(n,[t].concat(o))}},{key:"setupDragAndClick",value:function e(){var t=this,n=this.designer,r=this.contentDocument;r.addEventListener("mousedown",(function(e){var o,i;document.dispatchEvent(new Event("mousedown"));var a=t.project.currentDocument;if(!t.liveEditing.editing&&a){var u=a.selection,s=!1;if("design"===t.designMode)s=e.metaKey||e.ctrlKey;else if(!e.metaKey)return;null===(o=e.target)||void 0===o||o.removeAttribute("for");var l=t.getNodeInstanceFromElement(e.target),f=a.focusNode,p=Lr((null==l?void 0:l.node)||f,e);if(p){var d=null===(i=p.componentMeta.advanced.callbacks)||void 0===i?void 0:i.onMouseDownHook;d&&d(e,p.internalToShellNode());var h=null==p?void 0:p.getParent(),v=null==h?void 0:h.isRGLContainer;if(v){var y;if(null!==(y=e.target)&&void 0!==y&&y.classList.contains("react-resizable-handle"))return;s=!1,n.dragon.emitter.emit("rgl.switch",{action:"start",rglNode:h})}else e.stopPropagation(),e.preventDefault();var m=1===e.which||0===e.button,b=function o(i){if(r.removeEventListener("mouseup",b,!0),n.dragon.emitter.emit("rgl.switch",{action:"end",rglNode:h}),!yc(e,i)||v){var a=p.id;if(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),s&&f&&!p.contains(f)&&u.has(a))u.remove(a);else{var c,d,y,m;if(p.isPage()&&null!==(c=p.getChildren())&&void 0!==c&&c.notEmpty()&&"live"===t.designMode){var g,w,O=null===(g=p.getChildren())||void 0===g||null===(w=g.get(0))||void 0===w?void 0:w.getId();O&&(a=O)}f&&u.select(p.contains(f)?f.id:a);var j=null===(d=t.designer)||void 0===d?void 0:d.editor,E=null==p||null===(y=p.componentMeta)||void 0===y?void 0:y.npm,k=[null==E?void 0:E.package,null==E?void 0:E.componentName].filter((function(e){return!!e})).join("-")||(null==p||null===(m=p.componentMeta)||void 0===m?void 0:m.componentName)||"";null==j||j.eventBus.emit("designer.builtinSimulator.select",{selected:k})}}};if(m&&f&&!p.contains(f)){var g=[p],w=!1;if(s?(u.has(p.id)||(n.activeTracker.track({node:p,instance:null==l?void 0:l.instance}),u.add(p.id),w=!0),(null==f?void 0:f.id)&&u.remove(f.id),g=u.getTopNodes()):u.containsNode(p,!0)&&(g=u.getTopNodes()),n.dragon.boost({type:c.g.Node,nodes:g},e,v?h:void 0),w)return}r.addEventListener("mouseup",b,!0)}}}),!0),r.addEventListener("click",(function(e){var n,r=new Event("click");r.initEvent("click",!0),null===(n=t._iframe)||void 0===n||n.dispatchEvent(r);var o=e.target,i=u.engineConfig.get("customizeIgnoreSelectors"),a=[".next-input-group",".next-checkbox-group",".next-checkbox-wrapper",".next-date-picker",".next-input",".next-month-picker",".next-number-picker",".next-radio-group",".next-range",".next-range-picker",".next-rating",".next-select",".next-switch",".next-time-picker",".next-upload",".next-year-picker",".next-breadcrumb-item",".next-calendar-header",".next-calendar-table",".editor-container"],c,s=((null==i?void 0:i(a,e))||a).join(",");(!i&&Object(l.H)(e)||null!=o&&o.closest(s))&&(e.preventDefault(),e.stopPropagation())}),!0)}},{key:"setupDetecting",value:function e(){var t=this,n=this.contentDocument,r=this.designer,o=r.detecting,i=r.dragon,a=function e(n){if(o.enable&&"design"===t.designMode){var r=t.getNodeInstanceFromElement(n.target);if(null!=r&&r.node){var a,c=r.node,s=null===(a=c.document)||void 0===a?void 0:a.focusNode;s&&c.contains(s)&&(c=s),o.capture(c)}else o.capture(null);u.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||n.stopPropagation()}},c=function e(){t.project.currentDocument&&o.leave(t.project.currentDocument)};n.addEventListener("mouseover",a,!0),n.addEventListener("mouseleave",c,!1),n.addEventListener("mousemove",(function(e){u.engineConfig.get("enableMouseEventPropagationInCanvas",!1)&&!i.dragging||e.stopPropagation()}),!0)}},{key:"setupLiveEditing",value:function e(){var t=this,n;this.contentDocument.addEventListener("dblclick",(function(e){var n,r;e.stopPropagation(),e.preventDefault();var o=e.target,i=t.getNodeInstanceFromElement(o);if(i){var a=null===(n=t.project.currentDocument)||void 0===n?void 0:n.focusNode,u=i.node||a;if(u&&!Qe(u)){var c=null===(r=t.findDOMNodes(i.instance,u.componentMeta.rootSelector))||void 0===r?void 0:r.find((function(e){return e&&e.contains(o)}));c&&t.liveEditing.apply({node:u,rootElement:c,event:e})}}}),!0)}},{key:"setSuspense",value:function e(){return!1}},{key:"setupContextMenu",value:function e(){var t=this,n;this.contentDocument.addEventListener("contextmenu",(function(e){var n,r,o,i,a=e.target,u=t.getNodeInstanceFromElement(a),c=null===(n=t.designer)||void 0===n?void 0:n.editor;if(u){var s=u.node||(null===(r=t.project.currentDocument)||void 0===r?void 0:r.focusNode);if(s){var l=null==s||null===(o=s.componentMeta)||void 0===o?void 0:o.npm,f=[null==l?void 0:l.package,null==l?void 0:l.componentName].filter((function(e){return!!e})).join("-")||(null==s||null===(i=s.componentMeta)||void 0===i?void 0:i.componentName)||"";null==c||c.eventBus.emit("designer.builtinSimulator.contextmenu",ko(ko({selected:f},u),{},{instanceRect:t.computeComponentInstanceRect(u.instance),originalEvent:e}))}else null==c||c.eventBus.emit("designer.builtinSimulator.contextmenu",{originalEvent:e})}else null==c||c.eventBus.emit("designer.builtinSimulator.contextmenu",{originalEvent:e})}))}},{key:"generateComponentMetadata",value:function e(t){if(Go(t))return{componentName:t};var n=this.getComponent(t);return n?ko({componentName:t},Tr(n)):{componentName:t}}},{key:"getComponent",value:function e(t){var n;return(null===(n=this.renderer)||void 0===n?void 0:n.getComponent(t))||null}},{key:"createComponent",value:function e(){return null}},{key:"setInstance",value:function e(t,n,r){Object(l.v)(this.instancesMap,t)||(this.instancesMap[t]=new Map),null==r?this.instancesMap[t].delete(n):this.instancesMap[t].set(n,r.slice())}},{key:"getComponentInstances",value:function e(t,n){var r,o,i=this,a=null===(r=t.document)||void 0===r?void 0:r.id;if(!a)return null;var u=(null===(o=this.instancesMap[a])||void 0===o?void 0:o.get(t.id))||null;return u&&n?u.filter((function(e){var t;return(null===(t=i.getClosestNodeInstance(e,null==n?void 0:n.nodeId))||void 0===t?void 0:t.instance)===n.instance})):u}},{key:"getComponentContext",value:function e(){throw new Error("Method not implemented.")}},{key:"getClosestNodeInstance",value:function e(t,n){var r;return(null===(r=this.renderer)||void 0===r?void 0:r.getClosestNodeInstance(t,n))||null}},{key:"computeRect",value:function e(t){var n=this.getComponentInstances(t);return n?this.computeComponentInstanceRect(n[0],t.componentMeta.rootSelector):null}},{key:"computeComponentInstanceRect",value:function e(t,n){var r=this.renderer,o=this.findDOMNodes(t,n);if(!o)return null;for(var i=o.slice(),a,u,c=!1;;){if(!a||a.length<1){var s=i.pop();if(!s)break;a=r.getClientRects(s)}var l=a.pop();if(!l)break;0===l.width&&0===l.height||(u?(l.left<u.x&&(u.x=l.left,c=!0),l.top<u.y&&(u.y=l.top,c=!0),l.right>u.r&&(u.r=l.right,c=!0),l.bottom>u.b&&(u.b=l.bottom,c=!0)):u={x:l.left,y:l.top,r:l.right,b:l.bottom})}if(u){var f=new DOMRect(u.x,u.y,u.r-u.x,u.b-u.y);return f.elements=o,f.computed=c,f}return null}},{key:"findDOMNodes",value:function e(t,n){var r,o=null===(r=this._renderer)||void 0===r?void 0:r.findDOMNodes(t);if(!o)return null;if(n){var i=$o(o,n);return i?[i]:null}return o}},{key:"getNodeInstanceFromElement",value:function e(t){if(!t)return null;var n=this.getClosestNodeInstance(t);if(!n)return null;var r=n.docId,o,i=this.project.getDocument(r).getNode(n.nodeId);return ko(ko({},n),{},{node:i})}},{key:"scrollToNode",value:function e(t,n){var r,o,i;if(this.tryScrollAgain=null,!this.sensing){var a={},u=!1,c=null===(r=this.getComponentInstances((null==n||null===(o=n.near)||void 0===o?void 0:o.node)||t))||void 0===r?void 0:r[0];if(c){var s=null===(i=this.findDOMNodes(c))||void 0===i?void 0:i[0];if(s){if(co(s)&&!so(s,this.viewport)){var l,f=s.getBoundingClientRect(),p=f.left,d=f.top,h=(null===(l=this.contentDocument)||void 0===l?void 0:l.documentElement)||{},v=h.scrollTop,y=void 0===v?0:v,m=h.scrollLeft,b=void 0===m?0:m;a.left=p+b,a.top=d+y,u=!0}u&&this.scroller&&this.scroller.scrollTo(a)}}}}},{key:"setNativeSelection",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setNativeSelection(t)}},{key:"setDraggingState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setDraggingState(t)}},{key:"setCopyState",value:function e(t){var n;null===(n=this.renderer)||void 0===n||n.setCopyState(t)}},{key:"clearState",value:function e(){var t;null===(t=this.renderer)||void 0===t||t.clearState()}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==this.contentDocument,o;if(r||!("canvasX"in t)||!("canvasY"in t)){var i=this.viewport.toLocalPoint({clientX:t.globalX,clientY:t.globalY});t.canvasX=i.clientX,t.canvasY=i.clientY}t.target&&!r||(isNaN(t.canvasX)||isNaN(t.canvasY)||(t.target=null===(o=this.contentDocument)||void 0===o?void 0:o.elementFromPoint(t.canvasX,t.canvasY)));return t.fixed=!0,t}},{key:"isEnter",value:function e(t){var n=this.viewport.bounds;return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){this.sensing=!1,this.scroller.cancel()}},{key:"locate",value:function e(t){var n=this,r=t.dragObject,o=null==r?void 0:r.nodes,i=null==o?void 0:o.filter((function(e){for(var t,n,r,o,i,a=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,u=!a||"function"!=typeof a||a(e.internalToShellNode()),c=null,s=e.parent;s;){if(s.isContainer()){c=s;break}s=s.parent}var l=null===(r=c)||void 0===r||null===(o=r.componentMeta)||void 0===o||null===(i=o.advanced.callbacks)||void 0===i?void 0:i.onChildMoveHook,f=!l||!c||"function"!=typeof l||l(e.internalToShellNode(),c.internalToShellNode());return u&&f}));if(!o||i&&0!==i.length){this.sensing=!0,this.scroller.scrolling(t);var a=this.project.currentDocument;if(!a)return null;var u=this.getDropContainer(t),s;if(Object(l.s)(null==u?void 0:u.container,(function(e){return e.isLocked})))return null;if(!u)return null;if(Object(l.N)(u))return this.designer.createLocation(u);var f=u.container,p=u.instance,d=this.computeComponentInstanceRect(p,f.componentMeta.rootSelector);if(!d)return null;var h=f.children,v={type:c.k.Children,index:0,edge:d},y={target:f,detail:v,source:"simulator".concat(a.id),event:t};if(t.dragObject&&t.dragObject.nodes&&t.dragObject.nodes.length&&t.dragObject.nodes[0].componentMeta.isModal&&a.focusNode)return this.designer.createLocation({target:a.focusNode,detail:v,source:"simulator".concat(a.id),event:t});if(!h||h.size<1||!d)return this.designer.createLocation(y);for(var m=null,b=0,g=null,w=null,O=null,j=null,E=0,k=h.size;E<k;E++){var S=h.get(E),_=E,P=this.getComponentInstances(S),x=P?P.length>1?P.find((function(e){var t;return(null===(t=n.getClosestNodeInstance(e,f.id))||void 0===t?void 0:t.instance)===p})):P[0]:null,N=x?this.computeComponentInstanceRect(x,S.componentMeta.rootSelector):null;if(N){var C=Ho(t,N)?0:Uo(t,N);if(0===C){w=C,g=S,b=_,m=N;break}(null===O||N.top<O)&&(O=N.top),(null===j||N.bottom>j)&&(j=N.bottom),(null===w||C<w)&&(w=C,g=S,b=_,m=N)}}if(v.index=b,g&&m){var T=Yc(m),L=!!T&&Xc(T),A=!!T&&$c(T.parentElement),R=L||A,M={node:g.internalToShellNode(),pos:"before",align:R?"V":"H"};if(v.near=M,Wo(t,m,R)&&(M.pos="after",v.index=b+1),!A&&0!==w){var D=zo(t,d);if(D.distance<w){var I=D.nearAfter;null==O&&(O=d.top),null==j&&(j=d.bottom),M.rect=new DOMRect(d.left,O,d.width,j-O),M.align="H",M.pos=I?"after":"before",v.index=I?h.size:0}}}return this.designer.createLocation(y)}}},{key:"getDropContainer",value:function e(t){var n,r=t.target,o=t.dragObject,i=Object(l.C)(o),a=this.project.currentDocument,u=a.currentRoot,c,s,f;if(r){var p=this.getNodeInstanceFromElement(r);if(null!=p&&p.node)s=p,c=p.node;else{if(i)return null;c=u}}else{if(i)return null;c=u}null!==(n=c)&&void 0!==n&&n.isParental()||(c=(null===(f=c)||void 0===f?void 0:f.parent)||u);if(i)return null;var d=new Set,h,v,y,m;if(Object(l.E)(o)){for(var b=o.nodes,g=b.length,w=c;g-- >0;)et(b[g],w)&&(w=b[g].parent);w!==c&&(c=w||a.focusNode)&&d.add(c)}s?h=s.node===c?s.instance:null===(v=this.getClosestNodeInstance(s.instance,null===(y=c)||void 0===y?void 0:y.id))||void 0===v?void 0:v.instance:h=c&&(null===(m=this.getComponentInstances(c))||void 0===m?void 0:m[0]);for(var O={container:c,instance:h},j,E=null;c;){if(!0===(j=this.handleAccept(O,t)))return O;if(!j)if(d.add(c),E)c=(O=E).container,E=null;else{if(!c.parent)return null;var k;O={container:c=c.parent,instance:h=null===(k=this.getClosestNodeInstance(O.instance,c.id))||void 0===k?void 0:k.instance}}}return null}},{key:"isAcceptable",value:function e(){return!1}},{key:"handleAccept",value:function e(t,n){var r=t.container,o=n.dragObject,i=this.currentDocument,a=i.focusNode;if(Je(r)||r.contains(a))return i.checkNesting(a,o);var u=r.componentMeta,c=this.isAcceptable(r);return!(!u.isContainer&&!c)&&i.checkNesting(r,o)}},{key:"getNearByContainer",value:function e(t,n){var r=t.container,o=t.instance,i=r.children;if(!i||i.isEmpty())return null;for(var a=null,u=0,c=i.size;u<c;u++){var s=i.get(u);if(s){if(s.conditionGroup){var l=s.conditionGroup;u=(l.index||0)+l.length-1,s=l.visibleNode}if(s.isParental()&&!n.has(s)){this.findDOMNodes(o),this.getComponentInstances(s);var f=this.computeRect(s)}}}return null}}])}();function Go(e){return/^[a-z]\w*$/.test(e)}function Ho(e,t){return e.canvasY>=t.top&&e.canvasY<=t.bottom&&e.canvasX>=t.left&&e.canvasX<=t.right}function Uo(e,t){var n=Math.min(Math.abs(e.canvasX-t.left),Math.abs(e.canvasX-t.right)),r=Math.min(Math.abs(e.canvasY-t.top),Math.abs(e.canvasY-t.bottom));return e.canvasX>=t.left&&e.canvasX<=t.right&&(n=0),e.canvasY>=t.top&&e.canvasY<=t.bottom&&(r=0),Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function zo(e,t){var n=Math.abs(e.canvasY-t.top),r=Math.abs(e.canvasY-t.bottom);return{distance:Math.min(n,r),nearAfter:r<n}}function Wo(e,t,n){return n?Math.abs(e.canvasX-t.left)+Math.abs(e.canvasY-t.top)>Math.abs(e.canvasX-t.right)+Math.abs(e.canvasY-t.bottom):Math.abs(e.canvasY-t.top)>Math.abs(e.canvasY-t.bottom)}function $o(e,t){var n=null,r=go(e),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;if(Object(l.G)(i)){if(i.matches(t))return i;n||(n=i.querySelector(t))}}}catch(e){r.e(e)}finally{r.f()}return n}Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],Fo.prototype,"renderEnv",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],Fo.prototype,"device",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],Fo.prototype,"locale",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Fo.prototype,"deviceClassName",null),Object(s.b)([u.computed,Object(s.d)("design:type",String),Object(s.d)("design:paramtypes",[])],Fo.prototype,"designMode",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Fo.prototype,"requestHandlersMap",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Fo.prototype,"componentsAsset",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Fo.prototype,"theme",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Fo.prototype,"componentsMap",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Fo.prototype,"deviceStyle",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Fo.prototype,"_props",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(yo="undefined"!=typeof Window&&Window)?yo:Object)],Fo.prototype,"_contentWindow",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(mo="undefined"!=typeof Document&&Document)?mo:Object)],Fo.prototype,"_contentDocument",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Fo.prototype,"_appHelper",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],Fo.prototype,"instancesMap",void 0);var Xo=n(6),Yo=n.n(Xo);function qo(e){return(qo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ko(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zo(r.key),r)}}function Qo(e,t,n){return t&&Jo(e.prototype,t),n&&Jo(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zo(e){var t=ei(e,"string");return"symbol"==qo(t)?t:t+""}function ei(e,t){if("object"!=qo(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qo(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ti(e,t,n){return t=ii(t),ni(e,oi()?Reflect.construct(t,n||[],ii(e).constructor):t.apply(e,n))}function ni(e,t){if(t&&("object"==qo(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ri(e)}function ri(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(oi=function t(){return!!e})()}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ai(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ui(e,t)}function ui(e,t){return(ui=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ci=function(e){function t(){return Ko(this,t),ti(this,t,arguments)}return ai(t,e),Qo(t,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,o=t.scale,i=t.scrollX,a=t.scrollY,c=t.isLocked;if(!r)return null;var s={width:r.width*o,height:r.height*o,transform:"translate(".concat((i+r.left)*o,"px, ").concat((a+r.top)*o,"px)")},l=Yo()("lc-borders lc-borders-detecting");return React.createElement("div",{className:l,style:s},React.createElement(u.Title,{title:n,className:"lc-borders-title"}),c?React.createElement(u.Title,{title:pe("locked"),className:"lc-borders-status"}):null)}}])}(o.PureComponent),si=function(e){function t(){return Ko(this,t),ti(this,t,arguments)}return ai(t,e),Qo(t,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"current",get:function e(){var t=this.props.host,n=t.currentDocument;if(!n)return null;var r=n.selection,o=t.designer.detecting.current;return!o||o.document!==n||r.has(o.id)?null:o}},{key:"render",value:function e(){var t,n=this,r=this.props.host,i=this.current,a=null==i||null===(t=i.componentMeta.advanced.callbacks)||void 0===t?void 0:t.onHoverHook,u;if(!(!a||"function"!=typeof a||a(i.internalToShellNode()))||!i||r.viewport.scrolling||r.liveEditing.editing)return null;var c=i.document.focusNode;if(!c.contains(i))return null;if(i.contains(c)){var s=r.viewport.bounds;return React.createElement(ci,{key:"line-root",title:i.title,scale:this.scale,scrollX:r.viewport.scrollX,scrollY:r.viewport.scrollY,rect:new DOMRect(0,0,s.width,s.height)})}var f=Object(l.s)(i,(function(e){var t;return!!(null!=i&&i.isLocked?null===(t=e.parent)||void 0===t?void 0:t.isLocked:e.isLocked)}));if(f&&f.getId()!==i.getId())return React.createElement(ci,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:r.computeComponentInstanceRect(r.getComponentInstances(f)[0],f.componentMeta.rootSelector),isLocked:(null==f?void 0:f.getId())!==i.getId()});var p=r.getComponentInstances(i);return!p||p.length<1?null:1===p.length?React.createElement(ci,{key:"line-h",title:i.title,scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:r.computeComponentInstanceRect(p[0],i.componentMeta.rootSelector)}):React.createElement(o.Fragment,null,p.map((function(e,t){return React.createElement(ci,{key:"line-h-".concat(t),title:i.title,scale:n.scale,scrollX:n.scrollX,scrollY:n.scrollY,rect:r.computeComponentInstanceRect(e,i.componentMeta.rootSelector)})})))}}])}(o.Component);function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hi(r.key),r)}}function di(e,t,n){return t&&pi(e.prototype,t),n&&pi(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hi(e){var t=vi(e,"string");return"symbol"==li(t)?t:t+""}function vi(e,t){if("object"!=li(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=li(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yi(e,t,n){return t=wi(t),mi(e,gi()?Reflect.construct(t,n||[],wi(e).constructor):t.apply(e,n))}function mi(e,t){if(t&&("object"==li(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bi(e)}function bi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gi=function t(){return!!e})()}function wi(e){return(wi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Oi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ji(e,t)}function ji(e,t){return(ji=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],si.prototype,"scale",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],si.prototype,"scrollX",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],si.prototype,"scrollY",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],si.prototype,"current",null),si=Object(s.b)([u.observer],si);var Ei=function(e){function t(){return fi(this,t),yi(this,t,arguments)}return Oi(t,e),di(t,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.rect,i=t.scale,a=t.scrollX,c=t.scrollY;if(!r)return null;var s={width:r.width*i,height:r.height*i,transform:"translate(".concat((a+r.left)*i,"px, ").concat((c+r.top)*i,"px)")},l=Yo()("lc-borders lc-borders-detecting");return o.createElement("div",{className:l,style:s},o.createElement(u.Title,{title:n,className:"lc-borders-title"}))}}])}(o.PureComponent);function ki(e){if("string"==typeof e)return e;if(Object(l.I)(e)){var t=u.globalLocale.getLocale()||"zh-CN";return"\u5c06\u653e\u5165\u5230\u6b64".concat(e[t])}return""}var Si=function(e){function t(){var e;fi(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=yi(this,t,[].concat(r))).state={},e}return Oi(t,e),di(t,[{key:"scale",get:function e(){return this.props.host.viewport.scale}},{key:"scrollX",get:function e(){return this.props.host.viewport.scrollX}},{key:"scrollY",get:function e(){return this.props.host.viewport.scrollY}},{key:"componentDidMount",value:function e(){var t=this,n;this.props.host.designer.editor.eventBus.on("designer.dropLocation.change",(function(e){var n;t.state.target!==(null==e?void 0:e.target)&&t.setState({target:null==e?void 0:e.target})}))}},{key:"render",value:function e(){var t=this,n=this.props.host,r=this.state.target;if(null==r)return null;var i=n.getComponentInstances(r);return!i||i.length<1?null:1===i.length?o.createElement(Ei,{key:"line-h",title:ki(r.componentMeta.title),scale:this.scale,scrollX:this.scrollX,scrollY:this.scrollY,rect:n.computeComponentInstanceRect(i[0],r.componentMeta.rootSelector)}):o.createElement(o.Fragment,null,i.map((function(e,i){return o.createElement(Ei,{key:"line-h-".concat(i),title:ki(r.componentMeta.title),scale:t.scale,scrollX:t.scrollX,scrollY:t.scrollY,rect:n.computeComponentInstanceRect(e,r.componentMeta.rootSelector)})})))}}])}(o.Component);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Si.prototype,"scale",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Si.prototype,"scrollX",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Si.prototype,"scrollY",null),Si=Object(s.b)([u.observer],Si);var _i=n(5),Pi=n(99);function xi(e){return(xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ni(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ci(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Li(r.key),r)}}function Ti(e,t,n){return t&&Ci(e.prototype,t),n&&Ci(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Li(e){var t=Ai(e,"string");return"symbol"==xi(t)?t:t+""}function Ai(e,t){if("object"!=xi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ri(e,t,n){return t=Bi(t),Mi(e,Ii()?Reflect.construct(t,n||[],Bi(e).constructor):t.apply(e,n))}function Mi(e,t){if(t&&("object"==xi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Di(e)}function Di(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ii(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ii=function t(){return!!e})()}function Bi(e){return(Bi=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fi(e,t)}function Fi(e,t){return(Fi=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Gi=_i.Overlay.Popup,Hi=function(e){function t(){var e;Ni(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=Ri(this,t,[].concat(r))).state={parentNodes:[]},e.getParentNodes=function(e){var t,n=[],r=null===(t=e.document)||void 0===t?void 0:t.focusNode;if(!r)return null;if(e.contains(r)||!r.contains(e))return n;for(var o=e;o&&n.length<5&&((o=o.getParent())&&n.push(o),o!==r););return n},e.onSelect=function(e){return function(t){var n;if(e&&(Object(l.i)(e.internalToShellNode(),t)&&"function"==typeof e.select)){var r,o,i;e.select();var a=null===(r=e.document)||void 0===r?void 0:r.designer.editor,u=null==e||null===(o=e.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(i=e.componentMeta)||void 0===i?void 0:i.componentName)||"";null==a||a.eventBus.emit("designer.border.action",{name:"select",selected:c})}}},e.onMouseOver=function(e){return function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.onMouseOut=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e&&"function"==typeof e.hover&&e.hover(n)}},e.renderNodes=function(){var t=e.state.parentNodes,n;return!t||t.length<1?null:t.map((function(t,n){return i.a.createElement("div",{key:n,onClick:e.onSelect(t),onMouseEnter:e.onMouseOver(t),onMouseLeave:e.onMouseOut(t),className:"instance-node-selector-node"},i.a.createElement("div",{className:"instance-node-selector-node-content"},i.a.createElement(u.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})))}))},e}return Vi(t,e),Ti(t,[{key:"componentDidMount",value:function e(){var t=this.getParentNodes(this.props.node);this.setState({parentNodes:null!=t?t:[]})}},{key:"render",value:function e(){var t=this.props.node;return i.a.createElement("div",{className:"instance-node-selector"},i.a.createElement(Gi,{trigger:i.a.createElement("div",{className:"instance-node-selector-current"},i.a.createElement(u.Title,{className:"instance-node-selector-node-title",title:{label:t.title,icon:t.icon}})),triggerType:"hover",offset:[0,0]},i.a.createElement("div",{className:"instance-node-selector"},this.renderNodes())))}}])}(i.a.Component),Ui=Hi=Object(s.b)([u.observer],Hi);function zi(e){return(zi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yi(r.key),r)}}function Xi(e,t,n){return t&&$i(e.prototype,t),n&&$i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yi(e){var t=qi(e,"string");return"symbol"==zi(t)?t:t+""}function qi(e,t){if("object"!=zi(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zi(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ki(e,t,n){return t=ea(t),Ji(e,Zi()?Reflect.construct(t,n||[],ea(e).constructor):t.apply(e,n))}function Ji(e,t){if(t&&("object"==zi(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qi(e)}function Qi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zi(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zi=function t(){return!!e})()}function ea(e){return(ea=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ta(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&na(e,t)}function na(e,t){return(na=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var ra=function(e){function t(){return Wi(this,t),Ki(this,t,arguments)}return ta(t,e),Xi(t,[{key:"componentWillUnmount",value:function e(){this.props.observed.purge()}},{key:"render",value:function e(){var t=this.props,n=t.observed,r=t.highlight,o=t.dragging;if(!n.hasOffset)return null;var i=n.offsetWidth,a=n.offsetHeight,c=n.offsetTop,s=n.offsetLeft,l={width:i,height:a,transform:"translate3d(".concat(s,"px, ").concat(c,"px, 0)")},f=Yo()("lc-borders lc-borders-selecting",{highlight:r,dragging:o}),p=n.node.componentMeta.advanced.hideSelectTools,d=u.engineConfig.get("hideComponentAction");return p?null:React.createElement("div",{className:f,style:l},o||d?null:React.createElement(oa,{observed:n}))}}])}(o.Component);ra=Object(s.b)([u.observer],ra);var oa=function(e){function t(){return Wi(this,t),Ki(this,t,arguments)}return ta(t,e),Xi(t,[{key:"render",value:function e(){var t=this.props.observed,n=t.viewport,r=n.height,o=n.width,i=20,a=1,u=2,c=23,s=160,l;l=t.top>23?{top:-23,height:20}:t.bottom+23<r?{bottom:-23,height:20}:{height:20,top:Math.max(1,1-t.top)},160>t.left+t.width?l.left=Math.max(-2,t.left-o-2):(l.right=Math.max(-2,t.right-o-2),l.justifyContent="flex-start");var f=t.node,p=[];return f.componentMeta.availableActions.forEach((function(e){var t=e.important,n=void 0===t||t,r=e.condition,o=e.content,i=e.name;(!f.isSlot()||"copy"!==i&&"remove"!==i)&&n&&("function"==typeof r?!1!==r(f):!1!==r)&&p.push(ia(o,i,f))})),React.createElement("div",{className:"lc-borders-actions",style:l},p,React.createElement(Ui,{node:f}))}}])}(o.Component);function ia(e,t,n){if(Object(o.isValidElement)(e))return Object(o.cloneElement)(e,{key:t,node:n});if(Object(l.V)(e))return Object(o.createElement)(e,{key:t,node:n});if(Object(l.w)(e)){var r=e.action,i=e.title,a=e.icon;return React.createElement("div",{key:t,className:"lc-borders-action",onClick:function e(){var o,i,a;r&&r(n.internalToShellNode());var u=null===(o=n.document)||void 0===o?void 0:o.designer.editor,c=null==n||null===(i=n.componentMeta)||void 0===i?void 0:i.npm,s=[null==c?void 0:c.package,null==c?void 0:c.componentName].filter((function(e){return!!e})).join("-")||(null==n||null===(a=n.componentMeta)||void 0===a?void 0:a.componentName)||"";null==u||u.eventBus.emit("designer.border.action",{name:t,selected:s})}},a&&Object(l.p)(a,{key:t,node:n.internalToShellNode()}),React.createElement(u.Tip,null,i))}return null}oa=Object(s.b)([u.observer],oa);var aa=function(e){function t(){return Wi(this,t),Ki(this,t,arguments)}return ta(t,e),Xi(t,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,r=this.props.node,i=this.host.designer;return!n||n.length<1?null:React.createElement(o.Fragment,{key:r.id},n.map((function(e){var n=i.createOffsetObserver({node:r,instance:e});return n?React.createElement(ra,{key:n.id,dragging:t.dragging,observed:n}):null})))}}])}(o.Component);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],aa.prototype,"instances",null),aa=Object(s.b)([u.observer],aa);var ua=function(e){function t(){return Wi(this,t),Ki(this,t,arguments)}return ta(t,e),Xi(t,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed||this.host.liveEditing.editing)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?null:React.createElement(o.Fragment,null,n.map((function(e){return React.createElement(aa,{key:e.id,host:t.props.host,node:e})})))}}])}(o.Component);function ca(e){return(ca="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function la(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pa(r.key),r)}}function fa(e,t,n){return t&&la(e.prototype,t),n&&la(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pa(e){var t=da(e,"string");return"symbol"==ca(t)?t:t+""}function da(e,t){if("object"!=ca(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ca(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ua.prototype,"selecting",null),ua=Object(s.b)([u.observer],ua);var ha=function(){function e(t){sa(this,e),this.emitter=void 0,this.dragResizing=!1,this.designer=void 0,this.designer=t,this.emitter=Object(u.createModuleEventBus)("DragResizeEngine")}return fa(e,[{key:"isDragResizing",value:function e(){return this.dragResizing}},{key:"from",value:function e(t,n,r){var o=this,i,a;if(!t)return function(){};var u=function e(t){var r=s(t),u=r.clientX-a.clientX,c=r.clientY-a.clientY;o.emitter.emit("resize",t,n,i,u,c)},c=this.getMasterSensors(),s=function e(t){var n,r=null===(n=t.view)||void 0===n?void 0:n.document;if(!r||r===document)return t;var o=c.find((function(e){return e.contentDocument===r}));return o?o.viewport.toGlobalPoint(t):t},f=function e(t){var r;fo(t,c)((function(e){e.removeEventListener("mousemove",u,!0),e.removeEventListener("mouseup",f,!0)})),o.dragResizing=!1,o.designer.detecting.enable=!0,l.q.release(),o.emitter.emit("resizeEnd",t,n,i)},p=function e(t){var p;i=r(t),a=s(t),fo(t,c)((function(e){e.addEventListener("mousemove",u,!0),e.addEventListener("mouseup",f,!0)})),o.emitter.emit("resizeStart",t,n,i),o.dragResizing=!0,o.designer.detecting.enable=!1,l.q.addState("ew-resize")};return t.addEventListener("mousedown",p),function(){t.removeEventListener("mousedown",p)}}},{key:"onResizeStart",value:function e(t){var n=this;return this.emitter.on("resizeStart",t),function(){n.emitter.removeListener("resizeStart",t)}}},{key:"onResize",value:function e(t){var n=this;return this.emitter.on("resize",t),function(){n.emitter.removeListener("resize",t)}}},{key:"onResizeEnd",value:function e(t){var n=this;return this.emitter.on("resizeEnd",t),function(){n.emitter.removeListener("resizeEnd",t)}}},{key:"getMasterSensors",value:function e(){return this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)}}])}(),va=Object(o.createContext)({}),ya,ma;function ba(e){return(ba="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ga(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ja(r.key),r)}}function Oa(e,t,n){return t&&wa(e.prototype,t),n&&wa(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ja(e){var t=Ea(e,"string");return"symbol"==ba(t)?t:t+""}function Ea(e,t){if("object"!=ba(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ba(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ka(e,t,n){return t=xa(t),Sa(e,Pa()?Reflect.construct(t,n||[],xa(e).constructor):t.apply(e,n))}function Sa(e,t){if(t&&("object"==ba(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _a(e)}function _a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Pa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Pa=function t(){return!!e})()}function xa(e){return(xa=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Na(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ca(e,t)}function Ca(e,t){return(Ca=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Ta=((ya=function(e){function t(){return ga(this,t),ka(this,t,arguments)}return Na(t,e),Oa(t,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"selecting",get:function e(){var t=this.host.currentDocument;if(!t||t.suspensed)return null;var n=t.selection;return this.dragging?n.getTopNodes():n.getNodes()}},{key:"componentDidUpdate",value:function e(){}},{key:"render",value:function e(){var t=this,n=this.selecting;return!n||n.length<1?i.a.createElement(o.Fragment,null):i.a.createElement(o.Fragment,null,n.map((function(e){return i.a.createElement(Aa,{key:e.id,node:e,host:t.props.host})})))}}])}(o.Component)).contextType=va,ya);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Ta.prototype,"selecting",null);var La=Ta=Object(s.b)([u.observer],Ta),Aa=((ma=function(e){function t(){return ga(this,t),ka(this,t,arguments)}return Na(t,e),Oa(t,[{key:"host",get:function e(){return this.props.host}},{key:"dragging",get:function e(){return this.host.designer.dragon.dragging}},{key:"instances",get:function e(){return this.host.getComponentInstances(this.props.node)}},{key:"render",value:function e(){var t=this,n=this.instances,r=this.props.node,a=this.host.designer;return!n||n.length<1||this.dragging?null:i.a.createElement(o.Fragment,{key:r.id},n.map((function(e){var n=a.createOffsetObserver({node:r,instance:e});return n?i.a.createElement(Ra,{key:n.id,dragging:t.dragging,designer:a,observed:n}):null})))}}])}(o.Component)).contextType=va,ma);Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Aa.prototype,"instances",null),Aa=Object(s.b)([u.observer],Aa);var Ra=function(e){function t(e){var n;return ga(this,t),(n=ka(this,t,[e])).willUnbind=void 0,n.outlineN=void 0,n.outlineE=void 0,n.outlineS=void 0,n.outlineW=void 0,n.outlineNE=void 0,n.outlineNW=void 0,n.outlineSE=void 0,n.outlineSW=void 0,n.dragEngine=void 0,n.dragEngine=new ha(e.designer),n}return Na(t,e),Oa(t,[{key:"componentWillUnmount",value:function e(){this.willUnbind&&this.willUnbind(),this.props.observed.purge()}},{key:"componentDidMount",value:function e(){this.willBind();var t=function e(t,n,r,o,i){var a=r.componentMeta.advanced;if(a.callbacks&&"function"==typeof a.callbacks.onResize){t.trigger=n,t.deltaX=o,t.deltaY=i;var u=null!=r&&r.isNode?r.internalToShellNode():r;a.callbacks.onResize(t,u)}},n=function e(t,n,r){var o=r.componentMeta.advanced;if(o.callbacks&&"function"==typeof o.callbacks.onResizeStart){t.trigger=n;var i=null!=r&&r.isNode?r.internalToShellNode():r;o.callbacks.onResizeStart(t,i)}},r=function e(t,n,r){var o,i,a,u,c=r.componentMeta.advanced;if(c.callbacks&&"function"==typeof c.callbacks.onResizeEnd){t.trigger=n;var s=null!=r&&r.isNode?r.internalToShellNode():r;c.callbacks.onResizeEnd(t,s)}var l=null===(o=r.document)||void 0===o?void 0:o.designer.editor,f=null==r||null===(i=r.componentMeta)||void 0===i?void 0:i.npm,p=[null==f?void 0:f.package,null==f?void 0:f.componentName].filter((function(e){return!!e})).join("-")||(null==r||null===(a=r.componentMeta)||void 0===a?void 0:a.componentName)||"";null==l||l.eventBus.emit("designer.border.resize",{selected:p,layout:(null==r||null===(u=r.parent)||void 0===u?void 0:u.getPropValue("layout"))||""})};this.dragEngine.onResize(t),this.dragEngine.onResizeStart(n),this.dragEngine.onResizeEnd(r)}},{key:"willBind",value:function e(){var t=this;if(this.willUnbind&&this.willUnbind(),this.outlineN||this.outlineE||this.outlineS||this.outlineW||this.outlineNE||this.outlineNW||this.outlineSE||this.outlineSW){var n=[],r=this.props.observed.node;n.push.apply(n,[this.dragEngine.from(this.outlineN,"n",(function(){return r})),this.dragEngine.from(this.outlineE,"e",(function(){return r})),this.dragEngine.from(this.outlineS,"s",(function(){return r})),this.dragEngine.from(this.outlineW,"w",(function(){return r})),this.dragEngine.from(this.outlineNE,"ne",(function(){return r})),this.dragEngine.from(this.outlineNW,"nw",(function(){return r})),this.dragEngine.from(this.outlineSE,"se",(function(){return r})),this.dragEngine.from(this.outlineSW,"sw",(function(){return r}))]),this.willUnbind=function(){n&&n.length>0&&n.forEach((function(e){e()})),t.willUnbind=function(){}}}}},{key:"render",value:function e(){var t=this,n=this.props.observed,r=[],o=0,a=0,u=0,c=0;if(n.hasOffset){var s,l;o=n.offsetWidth,a=n.offsetHeight,u=n.offsetTop,c=n.offsetLeft;var f=n.node,p=f.componentMeta.getMetadata();null!==(s=p.configure)&&void 0!==s&&null!==(l=s.advanced)&&void 0!==l&&l.getResizingHandlers&&(r=p.configure.advanced.getResizingHandlers(f.internalToShellNode()))}r=lo(r);var d="lc-borders lc-resize-side",h="lc-borders lc-resize-corner";return i.a.createElement("div",null,i.a.createElement("div",{ref:function e(n){t.outlineN=n},className:Yo()(d,"n"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u-10,"px)"),width:o,display:r.includes("N")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineNE=n},className:Yo()(h,"ne"),style:{transform:"translate(".concat(c+o-5,"px, ").concat(u-3,"px)"),cursor:"nesw-resize",display:r.includes("NE")?"flex":"none"}}),i.a.createElement("div",{className:Yo()(d,"e"),ref:function e(n){t.outlineE=n},style:{height:a,transform:"translate(".concat(c+o-10,"px, ").concat(u,"px)"),width:20,display:r.includes("E")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineSE=n},className:Yo()(h,"se"),style:{transform:"translate(".concat(c+o-5,"px, ").concat(u+a-5,"px)"),cursor:"nwse-resize",display:r.includes("SE")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineS=n},className:Yo()(d,"s"),style:{height:20,transform:"translate(".concat(c,"px, ").concat(u+a-10,"px)"),width:o,display:r.includes("S")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineSW=n},className:Yo()(h,"sw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u+a-5,"px)"),cursor:"nesw-resize",display:r.includes("SW")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineW=n},className:Yo()(d,"w"),style:{height:a,transform:"translate(".concat(c-10,"px, ").concat(u,"px)"),width:20,display:r.includes("W")?"flex":"none"}}),i.a.createElement("div",{ref:function e(n){t.outlineNW=n},className:Yo()(h,"nw"),style:{transform:"translate(".concat(c-3,"px, ").concat(u-3,"px)"),cursor:"nwse-resize",display:r.includes("NW")?"flex":"none"}}))}}])}(o.Component);Ra=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],Ra);var Ma=n(100);function Da(e){return(Da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ba(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Fa(r.key),r)}}function Va(e,t,n){return t&&Ba(e.prototype,t),n&&Ba(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Fa(e){var t=Ga(e,"string");return"symbol"==Da(t)?t:t+""}function Ga(e,t){if("object"!=Da(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Da(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ha(e,t,n){return t=$a(t),Ua(e,Wa()?Reflect.construct(t,n||[],$a(e).constructor):t.apply(e,n))}function Ua(e,t){if(t&&("object"==Da(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return za(e)}function za(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Wa(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Wa=function t(){return!!e})()}function $a(e){return($a=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Xa(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ya(e,t)}function Ya(e,t){return(Ya=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function qa(e,t,n){var r=n.edge||null;if(!r&&!(r=e.computeRect(t)))return{};var o={edge:r,insertType:"before"};if(n.near){var i=n.near,a=i.node,u=i.pos,c=i.rect,s=i.align;return o.nearRect=c||e.computeRect(a),o.nearNode=a,"replace"===u?(o.coverRect=o.nearRect,o.insertType="cover"):!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height?(o.nearRect=o.edge,o.insertType="after",o.vertical=Kc(o.nearRect)):(o.insertType=u,o.vertical=s?"V"===s:Kc(o.nearRect)),o}var l=n.index;if(null==l)return o.coverRect=o.edge,o.insertType="cover",o;var f=t.children.get(l);if(!f){if(!(f=t.children.get(l>0?l-1:0)))return o.insertType="cover",o.coverRect=r,o;o.insertType="after"}return f?(o.nearRect=e.computeRect(f),(!o.nearRect||0===o.nearRect.width&&0===o.nearRect.height)&&(o.nearRect=o.edge,o.insertType="after"),o.vertical=Kc(o.nearRect),o.nearNode=f):(o.insertType="cover",o.coverRect=r),o}function Ka(e){var t=e.target,n=e.detail,r,o=e.document.simulator;if(!o)return{};if(Object(l.M)(n))return qa(o,t,n);var i=o.getComponentInstances(t);if(!i)return{};var a=o.computeComponentInstanceRect(i[0],t.componentMeta.rootSelector);return a?{edge:a,insertType:"cover",coverRect:a}:{}}var Ja=function(e){function t(){return Ia(this,t),Ha(this,t,arguments)}return Xa(t,e),Va(t,[{key:"render",value:function e(){var t,n,r,o,i=this.props.host,a=null===(t=i.currentDocument)||void 0===t?void 0:t.dropLocation;if(!a)return null;if(null!==(n=a.target)&&void 0!==n&&null!==(r=n.componentMeta)&&void 0!==r&&r.advanced.isAbsoluteLayoutContainer)return null;var u=i.viewport,c=u.scale,s=u.scrollX,l=u.scrollY,f=Ka(a),p=f.edge,d=f.insertType,h=f.coverRect,v=f.nearRect,y=f.vertical,m=f.nearNode;if(!p)return null;var b="lc-insertion";!1===(null===(o=a.detail)||void 0===o?void 0:o.valid)&&(b+=" invalid");var g={},w,O;if("cover"===d)b+=" cover",w=(h.left+s)*c,O=(h.top+l)*c,g.width=h.width*c,g.height=h.height*c;else{var j;if(!v)return null;if(y?(b+=" vertical",w=(("before"===d?v.left:v.right)+s)*c,O=(v.top+l)*c,g.height=v.height*c):(w=(v.left+s)*c,O=(("before"===d?v.top:v.bottom)+l)*c,g.width=v.width*c),0===O&&null!=m&&null!==(j=m.componentMeta)&&void 0!==j&&j.isTopFixed)return null}return g.transform="translate3d(".concat(w,"px, ").concat(O,"px, 0)"),React.createElement("div",{className:b,style:g})}}])}(o.Component);Ja=Object(s.b)([u.observer],Ja);var Qa=n(101),Za=n(102);function eu(e){return(eu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ou(r.key),r)}}function ru(e,t,n){return t&&nu(e.prototype,t),n&&nu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ou(e){var t=iu(e,"string");return"symbol"==eu(t)?t:t+""}function iu(e,t){if("object"!=eu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function au(e,t,n){return t=lu(t),uu(e,su()?Reflect.construct(t,n||[],lu(e).constructor):t.apply(e,n))}function uu(e,t){if(t&&("object"==eu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cu(e)}function cu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function su(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(su=function t(){return!!e})()}function lu(e){return(lu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pu(e,t)}function pu(e,t){return(pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var du=function(e){function t(){return tu(this,t),au(this,t,arguments)}return fu(t,e),ru(t,[{key:"render",value:function e(){var t=this.props.host,n=t.designMode,r=t.viewport,o=r.scrollX,a=r.scrollY,c=r.scale;return"live"===n?null:i.a.createElement("div",{className:"lc-bem-tools",style:{transform:"translate(".concat(-o*c,"px,").concat(-a*c,"px)")}},!u.engineConfig.get("disableDetecting")&&i.a.createElement(si,{key:"hovering",host:t}),i.a.createElement(ua,{key:"selecting",host:t}),u.engineConfig.get("enableReactiveContainer")&&i.a.createElement(Si,{key:"reactive-container-border",host:t}),i.a.createElement(Ja,{key:"insertion",host:t}),i.a.createElement(La,{key:"resizing",host:t}),t.designer.bemToolsManager.getAllBemTools().map((function(e){var n=e.item;return i.a.createElement(n,{key:e.name,host:t})})))}}])}(o.Component);du=Object(s.b)([u.observer],du);var hu=n(103);function vu(e){return(vu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gu(r.key),r)}}function bu(e,t,n){return t&&mu(e.prototype,t),n&&mu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gu(e){var t=wu(e,"string");return"symbol"==vu(t)?t:t+""}function wu(e,t){if("object"!=vu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ou(e,t,n){return t=Su(t),ju(e,ku()?Reflect.construct(t,n||[],Su(e).constructor):t.apply(e,n))}function ju(e,t){if(t&&("object"==vu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Eu(e)}function Eu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ku(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ku=function t(){return!!e})()}function Su(e){return(Su=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pu(e,t)}function Pu(e,t){return(Pu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var xu=function(e){function t(e){var n;yu(this,t),(n=Ou(this,t,[e])).host=void 0;var r=n.props,o=r.project,i=r.onMount,a=r.designer;return n.host=o.simulator||new Fo(o,a),n.host.setProps(n.props),null==i||i(n.host),n}return _u(t,e),bu(t,[{key:"shouldComponentUpdate",value:function e(t){return this.host.setProps(t),!1}},{key:"render",value:function e(){return i.a.createElement("div",{className:"lc-simulator"},i.a.createElement(Nu,{host:this.host}))}}])}(o.Component),Nu=function(e){function t(){return yu(this,t),Ou(this,t,arguments)}return _u(t,e),bu(t,[{key:"render",value:function e(){var t=this.props.host,n="lc-simulator-canvas",r=t.deviceStyle||{},o=r.canvas,a=void 0===o?{}:o,u=r.viewport,c=void 0===u?{}:u;return t.deviceClassName?n+=" ".concat(t.deviceClassName):t.device&&(n+=" lc-simulator-device-".concat(t.device)),i.a.createElement("div",{className:n,style:a},i.a.createElement("div",{ref:function e(n){return t.mountViewport(n)},className:"lc-simulator-canvas-viewport",style:c},i.a.createElement(du,{host:t}),i.a.createElement(Cu,{host:t})))}}])}(o.Component);Nu=Object(s.b)([u.observer],Nu);var Cu=function(e){function t(){var e;yu(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=Ou(this,t,[].concat(r))).state={disabledEvents:!1},e.dispose=void 0,e}return _u(t,e),bu(t,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.host.designer.editor,r=function e(n){t.setState({disabledEvents:n})};n.eventBus.on("designer.builtinSimulator.disabledEvents",r),this.dispose=function(){n.removeListener("designer.builtinSimulator.disabledEvents",r)}}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.dispose)||void 0===t||t.call(this)}},{key:"render",value:function e(){var t=this.props.host,n=this.state.disabledEvents,r=t.viewport,o=t.designer,a={transform:"scale(".concat(r.scale,")"),height:r.contentHeight,width:r.contentWidth};n&&(a.pointerEvents="none");var u=o.viewName;return i.a.createElement("div",{className:"lc-simulator-content"},i.a.createElement("iframe",{name:"".concat(u,"-SimulatorRenderer"),className:"lc-simulator-content-frame",style:a,ref:function e(n){return t.mountContentFrame(n)}}))}}])}(o.Component);Cu=Object(s.b)([u.observer],Cu);var Tu=n(104);function Lu(e){return(Lu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Au(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ru(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Du(r.key),r)}}function Mu(e,t,n){return t&&Ru(e.prototype,t),n&&Ru(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Du(e){var t=Iu(e,"string");return"symbol"==Lu(t)?t:t+""}function Iu(e,t){if("object"!=Lu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Lu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Bu(e,t,n){return t=Hu(t),Vu(e,Gu()?Reflect.construct(t,n||[],Hu(e).constructor):t.apply(e,n))}function Vu(e,t){if(t&&("object"==Lu(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Fu(e)}function Fu(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Gu=function t(){return!!e})()}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Uu(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&zu(e,t)}function zu(e,t){return(zu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Wu=function(e){function t(){return Au(this,t),Bu(this,t,arguments)}return Uu(t,e),Mu(t,[{key:"render",value:function e(){return React.createElement("div",{id:"engine-loading-wrapper"},React.createElement("img",{width:"154",height:"100",src:"https://img.alicdn.com/tfs/TB1CmVgayERMeJjy0FcXXc7opXa-308-200.gif"}))}}])}(o.Component),$u=function(e){function t(){return Au(this,t),Bu(this,t,arguments)}return Uu(t,e),Mu(t,[{key:"componentDidMount",value:function e(){var t=this,n,r;this.props.designer.project.onRendererReady((function(){t.forceUpdate()}))}},{key:"render",value:function e(){var t,n=this.props.designer,r=n.project,o=n.projectSimulatorProps,i=n.simulatorComponent||xu,a=u.engineConfig.get("loadingComponent",Wu);return React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},!(null!=r&&null!==(t=r.simulator)&&void 0!==t&&t.renderer)&&React.createElement(a,null),React.createElement(i,o)))}}])}(o.Component);function Xu(e){return(Xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qu(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ju(r.key),r)}}function Ku(e,t,n){return t&&qu(e.prototype,t),n&&qu(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ju(e){var t=Qu(e,"string");return"symbol"==Xu(t)?t:t+""}function Qu(e,t){if("object"!=Xu(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xu(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}$u=Object(s.b)([u.observer],$u);var Zu=function(){function e(t){Yu(this,e),this.target=void 0,this.doc=void 0,this.target=t,ec(t)&&(this.doc=t.document.documentElement)}return Ku(e,[{key:"left",get:function e(){return"scrollX"in this.target?this.target.scrollX:this.target.scrollLeft}},{key:"top",get:function e(){return"scrollY"in this.target?this.target.scrollY:this.target.scrollTop}},{key:"scrollTo",value:function e(t){this.target.scrollTo(t)}},{key:"scrollToXY",value:function e(t,n){this.target.scrollTo(t,n)}},{key:"scrollHeight",get:function e(){return(this.doc||this.target).scrollHeight}},{key:"scrollWidth",get:function e(){return(this.doc||this.target).scrollWidth}}])}();function ec(e){return e&&e.document}function tc(e){return Math.sin(e*Math.PI/2)}var nc=30,rc=function(){function e(t){Yu(this,e),this.pid=void 0,this.scrollable=void 0,this.scrollable=t}return Ku(e,[{key:"scrollTarget",get:function e(){var t=this.scrollable.scrollTarget;return t?(Object(l.G)(t)&&(t=new Zu(t),this.scrollable.scrollTarget=t),t):null}},{key:"scrollTo",value:function e(t){var n=this;this.cancel();var r=this.scrollTarget;if(r){var o,i=r.left,a=r.top,u=function e(){n.cancel()};if(i!==t.left&&null!=t.left||a!==t.top){var c=200,s=+new Date,l=function e(){if(o===n.pid){var c=+new Date,f=Math.min(1,(c-s)/200),p=tc(f),d={};null!=t.left&&(d.left=p*(t.left-i)+i),null!=t.top&&(d.top=p*(t.top-a)+a),r.scrollTo(d),f<1?(n.pid=requestAnimationFrame(l),o=n.pid):u()}};this.pid=requestAnimationFrame(l),o=this.pid}else u()}}},{key:"scrolling",value:function e(t){var n=this;this.cancel();var r=this.scrollable,o=r.bounds,i=r.scale,a=void 0===i?1:i,u=this.scrollTarget;if(u&&o){var c=t.globalX,s=t.globalY,l=u.scrollHeight-o.height/a,f=u.scrollWidth-o.width/a,p=u.left,d=u.top,h=0,v=0;if(s<o.top+30?v=-Math.min(Math.max(o.top+30-s,10),50)/a:s>o.bottom-30&&(v=Math.min(Math.max(s+30-o.bottom,10),50)/a),c<o.left+30?h=-Math.min(Math.max(o.top+30-s,10),50)/a:c>o.right-30&&(h=Math.min(Math.max(c+30-o.right,10),50)/a),h||v){var y=function e(){var t=!1;(v>0&&d<l||v<0&&d>0)&&(d+=v,d=Math.min(Math.max(d,0),l),t=!0),(h>0&&p<f||h<0&&p>0)&&(p+=h,p=Math.min(Math.max(p,0),f),t=!0),t&&(u.scrollTo({left:p,top:d}),n.pid=requestAnimationFrame(y))};y()}}}},{key:"cancel",value:function e(){this.pid&&cancelAnimationFrame(this.pid),this.pid=void 0}}])}(),oc;function ic(e){return(ic="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ac(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sc(r.key),r)}}function cc(e,t,n){return t&&uc(e.prototype,t),n&&uc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sc(e){var t=lc(e,"string");return"symbol"==ic(t)?t:t+""}function lc(e,t){if("object"!=ic(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ic(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function fc(e){return e&&e.type===c.g.Node}function pc(e){return e&&e.type===c.g.NodeData}function dc(e){return e&&e.type!==c.g.NodeData&&e.type!==c.g.Node}function hc(e){return e&&"LocateEvent"===e.type}var vc=4;function yc(e,t){return!!e.shaken||(e.target!==t.target||Math.pow(e.clientY-t.clientY,2)+Math.pow(e.clientX-t.clientX,2)>4)}function mc(e,t){return 0===e.clientX&&0===e.clientY&&t&&(Math.abs(t.clientX-e.clientX)>5||Math.abs(t.clientY-e.clientY)>5)}function bc(e,t){return e.clientY===t.clientY&&e.clientX===t.clientX}function gc(e){e.shaken=!0}function wc(e){var t,n;return fc(e)&&(null===(t=e.nodes[0])||void 0===t||null===(n=t.document)||void 0===n?void 0:n.simulator)||null}function Oc(e){var t;return null==e||null===(t=e.type)||void 0===t?void 0:t.startsWith("drag")}var jc=function(){function e(t){ac(this,e),this.designer=void 0,this.sensors=[],this.nodeInstPointerEvents=void 0,this.key=Math.random(),this._activeSensor=void 0,this._dragging=!1,this._canDrop=!1,this.viewName=void 0,this.emitter=Object(u.createModuleEventBus)("Dragon"),this.designer=t,Object(u.makeObservable)(this),this.viewName=t.viewName}return cc(e,[{key:"activeSensor",get:function e(){return this._activeSensor}},{key:"dragging",get:function e(){return this._dragging}},{key:"from",value:function e(t,n){var r=this,o=function e(t){if(3!==t.which&&2!==t.button){var o=n(t);o&&r.boost(o,t)}};return t.addEventListener("mousedown",o),function(){t.removeEventListener("mousedown",o)}}},{key:"boost",value:function e(t,n,r){var o=this,i=this.designer,a=this.getMasterSensors(),u=fo(n,a),c=!fc(t),s=fc(t)&&t.nodes.some((function(e){return"function"==typeof e.isSlot?e.isSlot():e.isSlot})),l=Oc(n),f;this._dragging=!1;var p=function e(t){var n,r=E(t),o=S(r);if(!o||!o.getNodeInstanceFromElement)return{};var i=o.getNodeInstanceFromElement(t.target);return(null==i||null===(n=i.node)||void 0===n?void 0:n.getRGL())||{}},d=function e(t){27===t.keyCode&&(i.clearLocation(),j())},h=!1,v=function e(t){Oc(t)&&t.dataTransfer?(c||s)&&(t.dataTransfer.dropEffect="copy"):c||(t.altKey||t.ctrlKey?(h=!0,o.setCopyState(!0),Oc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="copy")):(h=!1,s||(o.setCopyState(!1),Oc(t)&&t.dataTransfer&&(t.dataTransfer.dropEffect="move"))))},y,m=function e(n){if(v(n),!mc(n,y))if(y&&bc(n,y))y=n;else{y=n;var a=p(n),u=a.isRGL,c=a.rglNode,s=E(n),l=S(s);if(u){var f=t.nodes[0].getDOMNode(),d;if(f&&f.style&&(o.nodeInstPointerEvents=!0,f.style.pointerEvents="none"),o.emitter.emit("rgl.sleeping",!1),r&&r.id===c.id)return i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s);if(o._canDrop=!(null==l||!l.locate(s)),o._canDrop)return o.emitter.emit("rgl.add.placeholder",{rglNode:c,fromRglNode:r,node:null===(d=s.dragObject)||void 0===d?void 0:d.nodes[0],event:n}),i.clearLocation(),o.clearState(),void o.emitter.emit("drag",s)}else o._canDrop=!1,o.emitter.emit("rgl.remove.placeholder"),o.emitter.emit("rgl.sleeping",!0);l?(l.fixEvent(s),l.locate(s)):i.clearLocation(),o.emitter.emit("drag",s)}},b=function e(){o._dragging=!0,gc(n);var t=E(n);c||s?o.setCopyState(!0):S(t),o.setDraggingState(!0),l||u((function(e){e.addEventListener("keydown",d,!1)})),o.emitter.emit("dragstart",t)},g=function e(t){l&&t.preventDefault(),o._dragging?m(t):yc(n,t)&&(b(),m(t))},w=!0,O=function e(t){t.preventDefault(),t.stopPropagation(),w=!0},j=function e(n){if(o.nodeInstPointerEvents){var r=t.nodes[0].getDOMNode();r&&r.style&&(r.style.pointerEvents=""),o.nodeInstPointerEvents=!1}if(n){var a=p(n),c=a.isRGL,s=a.rglNode;if(c&&o._canDrop&&o._dragging){var y=t.nodes[0];if(s.id!==y.id){var m;o.emitter.emit("rgl.drop",{rglNode:s,node:y});var b=null===(m=i.project.currentDocument)||void 0===m?void 0:m.selection;null==b||b.select(y.id)}}}var E;if(o.emitter.emit("rgl.remove.placeholder"),n&&Oc(n)&&n.preventDefault(),f&&f.deactiveSensor(),l?w||i.clearLocation():o.setNativeSelection(!0),o.clearState(),o._dragging){o._dragging=!1;try{o.emitter.emit("dragend",{dragObject:t,copy:h})}catch(e){E=e}}if(i.clearLocation(),u((function(e){l?(e.removeEventListener("dragover",g,!0),e.removeEventListener("dragend",j,!0),e.removeEventListener("drop",O,!0)):(e.removeEventListener("mousemove",g,!0),e.removeEventListener("mouseup",j,!0)),e.removeEventListener("mousedown",j,!0),e.removeEventListener("keydown",d,!1),e.removeEventListener("keydown",v,!1),e.removeEventListener("keyup",v,!1)})),E)throw E},E=function e(n){var r,o={type:"LocateEvent",dragObject:t,target:n.target,originalEvent:n},i=null===(r=n.view)||void 0===r?void 0:r.document;if(i&&i!==document){var u,c=f&&Cn(f)?f:null;if((c&&c.contentDocument===i||!(u=a.find((function(e){return e.contentDocument===i})))&&c)&&(u=c),u){var s=u.viewport.toGlobalPoint(n);o.globalX=s.clientX,o.globalY=s.clientY,o.canvasX=n.clientX,o.canvasY=n.clientY,o.sensor=u}else o.globalX=n.clientX,o.globalY=n.clientY}else o.globalX=n.clientX,o.globalY=n.clientY;return o},k=wc(t),S=function e(t){var n=o.sensors.concat(a),r=t.sensor&&t.sensor.isEnter(t)?t.sensor:n.find((function(e){return e.sensorAvailable&&e.isEnter(t)}));return r||(f?r=f:t.sensor?r=t.sensor:k&&(r=k)),r!==f&&(f&&f.deactiveSensor(),f=r),r&&(t.sensor=r,r.fixEvent(t)),o._activeSensor=r,r};if(Oc(n)){var _=n.dataTransfer;if(_){_.effectAllowed="all";try{_.setData("application/json","{}")}catch(e){}}b()}else this.setNativeSelection(!1);u((function(e){l?(e.addEventListener("dragover",g,!0),w=!1,e.addEventListener("drop",O,!0),e.addEventListener("dragend",j,!0)):(e.addEventListener("mousemove",g,!0),e.addEventListener("mouseup",j,!0)),e.addEventListener("mousedown",j,!0)})),c||l||u((function(e){e.addEventListener("keydown",v,!1),e.addEventListener("keyup",v,!1)}))}},{key:"getMasterSensors",value:function e(){return Array.from(new Set(this.designer.project.documents.map((function(e){var t;return e.active&&null!==(t=e.simulator)&&void 0!==t&&t.sensorAvailable?e.simulator:null})).filter(Boolean)))}},{key:"getSimulators",value:function e(){return new Set(this.designer.project.documents.map((function(e){return e.simulator})))}},{key:"setNativeSelection",value:function e(t){Object(l.eb)(t),this.getSimulators().forEach((function(e){null==e||e.setNativeSelection(t)}))}},{key:"setDraggingState",value:function e(t){l.q.setDragging(t),this.getSimulators().forEach((function(e){null==e||e.setDraggingState(t)}))}},{key:"setCopyState",value:function e(t){l.q.setCopy(t),this.getSimulators().forEach((function(e){null==e||e.setCopyState(t)}))}},{key:"clearState",value:function e(){l.q.release(),this.getSimulators().forEach((function(e){null==e||e.clearState()}))}},{key:"addSensor",value:function e(t){this.sensors.push(t)}},{key:"removeSensor",value:function e(t){var n=this.sensors.indexOf(t);n>-1&&this.sensors.splice(n,1)}},{key:"onDragstart",value:function e(t){var n=this;return this.emitter.on("dragstart",t),function(){n.emitter.removeListener("dragstart",t)}}},{key:"onDrag",value:function e(t){var n=this;return this.emitter.on("drag",t),function(){n.emitter.removeListener("drag",t)}}},{key:"onDragend",value:function e(t){var n=this;return this.emitter.on("dragend",t),function(){n.emitter.removeListener("dragend",t)}}}])}();function Ec(e){return(Ec="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pc(r.key),r)}}function _c(e,t,n){return t&&Sc(e.prototype,t),n&&Sc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pc(e){var t=xc(e,"string");return"symbol"==Ec(t)?t:t+""}function xc(e,t){if("object"!=Ec(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ec(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],jc.prototype,"_activeSensor",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],jc.prototype,"_dragging",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],jc.prototype,"_canDrop",void 0);var Nc=function(){function e(){kc(this,e),this._target=void 0,this.emitter=Object(u.createModuleEventBus)("ActiveTracker")}return _c(e,[{key:"track",value:function e(t){var n=t;Object(l.P)(t)&&(n={node:t}),this._target=n,this.emitter.emit("change",n)}},{key:"currentNode",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.node}},{key:"detail",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.detail}},{key:"intance",get:function e(){return this.instance}},{key:"instance",get:function e(){var t;return null===(t=this._target)||void 0===t?void 0:t.instance}},{key:"onChange",value:function e(t){var n=this;return this.emitter.addListener("change",t),function(){n.emitter.removeListener("change",t)}}}])}();function Cc(e){return(Cc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Lc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rc(r.key),r)}}function Ac(e,t,n){return t&&Lc(e.prototype,t),n&&Lc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Rc(e){var t=Mc(e,"string");return"symbol"==Cc(t)?t:t+""}function Mc(e,t){if("object"!=Cc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Cc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Nc.prototype,"_target",void 0);var Dc="detectingChange",Ic=function(){function e(){Tc(this,e),this._enable=!0,this.xRayMode=!1,this._current=null,this.emitter=Object(u.createModuleEventBus)("Detecting"),Object(u.makeObservable)(this)}return Ac(e,[{key:"enable",get:function e(){return this._enable},set:function e(t){this._enable=t,t||(this._current=null)}},{key:"current",get:function e(){return this._current}},{key:"capture",value:function e(t){this._current!==t&&(this._current=t,this.emitter.emit("detectingChange",this.current))}},{key:"release",value:function e(t){this._current===t&&(this._current=null,this.emitter.emit("detectingChange",this.current))}},{key:"leave",value:function e(t){this.current&&this.current.document===t&&(this._current=null)}},{key:"onDetectingChange",value:function e(t){var n=this;return this.emitter.on("detectingChange",t),function(){n.emitter.off("detectingChange",t)}}}])}();function Bc(e){return(Bc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fc(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Hc(r.key),r)}}function Gc(e,t,n){return t&&Fc(e.prototype,t),n&&Fc(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Hc(e){var t=Uc(e,"string");return"symbol"==Bc(t)?t:t+""}function Uc(e,t){if("object"!=Bc(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bc(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function zc(e){return e&&e.target&&e.detail}function Wc(e){return e&&e.type===c.k.Children}function $c(e,t){if(Jc(e))return!0;var n=(t||Zc(e)).getComputedStyle(e),r=n.getPropertyValue("display");if(/flex$/.test(r)){var o=n.getPropertyValue("flex-direction")||"row";if("row"===o||"row-reverse"===o)return!0}return!!/grid$/.test(r)}function Xc(e,t){if(Jc(e))return!0;var n=(t||Zc(e)).getComputedStyle(e);return/^inline/.test(n.getPropertyValue("display"))||/^(left|right)$/.test(n.getPropertyValue("float"))}function Yc(e){if(!e||e.computed)return null;var t=e.elements;return t&&t.length>0?t[0]:null}function qc(e){var t=Yc(e);return!!t&&$c(t)}function Kc(e){var t=Yc(e);return!!t&&(Xc(t)||!!t.parentElement&&$c(t.parentElement))}function Jc(e){return e.nodeType===Node.TEXT_NODE}function Qc(e){return e.nodeType===Node.DOCUMENT_NODE}function Zc(e){return(Qc(e)?e:e.ownerDocument).defaultView}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Ic.prototype,"_enable",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Ic.prototype,"xRayMode",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Ic.prototype,"_current",void 0);var es=function(){function e(t){var n=t.target,r=t.detail,o=t.source,i=t.event;Vc(this,e),this.target=void 0,this.detail=void 0,this.event=void 0,this.source=void 0,this.target=n,this.detail=r,this.source=o,this.event=i}return Gc(e,[{key:"document",get:function e(){return this.target.document}},{key:"clone",value:function t(n){return new e({target:this.target,detail:this.detail,source:this.source,event:n})}},{key:"getContainer",value:function e(){return this.target}},{key:"getInsertion",value:function e(){var t,n,r;return this.detail?"Children"===this.detail.type?this.detail.index<=0?null:null===(r=this.target.children)||void 0===r?void 0:r.get(this.detail.index-1):null===(t=this.detail)||void 0===t||null===(n=t.near)||void 0===n?void 0:n.node:null}}])}(),ts=n(17),ns=n.n(ts);function rs(e){return(rs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function os(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function is(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,us(r.key),r)}}function as(e,t,n){return t&&is(e.prototype,t),n&&is(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function us(e){var t=cs(e,"string");return"symbol"==rs(t)?t:t+""}function cs(e,t){if("object"!=rs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=rs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ss=function(){function e(t){var n=this;os(this,e),this.nodeInstance=void 0,this.id=Object(l.ib)("oobx"),this.lastOffsetLeft=void 0,this.lastOffsetTop=void 0,this.lastOffsetHeight=void 0,this.lastOffsetWidth=void 0,this._height=0,this._width=0,this._left=0,this._top=0,this._right=0,this._bottom=0,this.hasOffset=!1,this.pid=void 0,this.viewport=void 0,this.isRoot=void 0,this.node=void 0,this.compute=void 0,this.nodeInstance=t;var r=t.node,o=t.instance;this.node=r;var i=r.document,a=null==i?void 0:i.simulator,c=null==i?void 0:i.focusNode;if(this.isRoot=r.contains(c),this.viewport=null==a?void 0:a.viewport,Object(u.makeObservable)(this),this.isRoot)this.hasOffset=!0;else if(o){var s,f=function e(){if(s===n.pid){var t=a.computeComponentInstanceRect(o,r.componentMeta.rootSelector);t?n.viewport.scrolling&&n.hasOffset||(n._height=t.height,n._width=t.width,n._left=t.left,n._top=t.top,n._right=t.right,n._bottom=t.bottom,n.hasOffset=!0):n.hasOffset=!1,n.pid=ns()(f),s=n.pid}};this.compute=f,f(),this.pid=ns()(f),s=this.pid}}return as(e,[{key:"height",get:function e(){return this.isRoot?this.viewport.height:this._height*this.scale}},{key:"width",get:function e(){return this.isRoot?this.viewport.width:this._width*this.scale}},{key:"top",get:function e(){return this.isRoot?0:this._top*this.scale}},{key:"left",get:function e(){return this.isRoot?0:this._left*this.scale}},{key:"bottom",get:function e(){return this.isRoot?this.viewport.height:this._bottom*this.scale}},{key:"right",get:function e(){return this.isRoot?this.viewport.width:this._right*this.scale}},{key:"offsetLeft",get:function e(){return this.isRoot?this.viewport.scrollX*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetLeft||(this.lastOffsetLeft=this.left+this.viewport.scrollX*this.scale),this.lastOffsetLeft)}},{key:"offsetTop",get:function e(){return this.isRoot?this.viewport.scrollY*this.scale:(this.viewport.scrolling&&null!=this.lastOffsetTop||(this.lastOffsetTop=this.top+this.viewport.scrollY*this.scale),this.lastOffsetTop)}},{key:"offsetHeight",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetHeight||(this.lastOffsetHeight=this.isRoot?this.viewport.height:this.height),this.lastOffsetHeight}},{key:"offsetWidth",get:function e(){return this.viewport.scrolling&&null!=this.lastOffsetWidth||(this.lastOffsetWidth=this.isRoot?this.viewport.width:this.width),this.lastOffsetWidth}},{key:"scale",get:function e(){return this.viewport.scale}},{key:"purge",value:function e(){this.pid&&Object(ts.cancelIdleCallback)(this.pid),this.pid=void 0}},{key:"isPurged",value:function e(){return null==this.pid}}])}();function ls(e){return e.instance?new ss(e):null}function fs(e){return(fs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ps(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ds(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vs(r.key),r)}}function hs(e,t,n){return t&&ds(e.prototype,t),n&&ds(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function vs(e){var t=ys(e,"string");return"symbol"==fs(t)?t:t+""}function ys(e,t){if("object"!=fs(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fs(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ms(e,t){return js(e)||Os(e,t)||gs(e,t)||bs()}function bs(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function gs(e,t){if(e){if("string"==typeof e)return ws(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ws(e,t):void 0}}function ws(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Os(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function js(e){if(Array.isArray(e))return e}function Es(e){return e&&(e.Hotter||e.type&&e.type.Hotter)||[]}function ks(e){return e&&(e.transducer||e.Transducer||e.type&&(e.type.transducer||e.type.Transducer))||null}function Ss(e,t,n){if(!e&&Array.isArray(t)){var r=ms(t,2),o,i;e={toHot:r[0],toNative:r[1]}}return{toHot:(e&&e.toHot||function(e){return e}).bind(n),toNative:(e&&e.toNative||function(e){return e}).bind(n)}}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ss.prototype,"_height",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ss.prototype,"_width",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ss.prototype,"_left",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ss.prototype,"_top",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ss.prototype,"_right",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ss.prototype,"_bottom",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"height",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"width",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"top",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"left",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"bottom",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"right",null),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ss.prototype,"hasOffset",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"offsetLeft",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"offsetTop",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"offsetHeight",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"offsetWidth",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ss.prototype,"scale",null);var _s=function(){function e(t,n){ps(this,e),this.setterTransducer=void 0,this.context=void 0;var r=n.setter;if(Array.isArray(r))r=r[0];else if(Object(o.isValidElement)(r)&&"MixedSetter"===r.type.displayName){var i,a;r=null===(i=r.props)||void 0===i||null===(a=i.setters)||void 0===a?void 0:a[0]}else if("object"===fs(r)&&"MixedSetter"===r.componentName){var u,c;r=Array.isArray(null===(u=r)||void 0===u||null===(c=u.props)||void 0===c?void 0:c.setters)&&r.props.setters[0]}var s=!0;if(Object(l.X)(r)){var f=r,p,d;r=f.componentName,s=!1!==f.isDynamic}if("string"==typeof r){var h=t.setters.getSetter(r)||{},v=h.component,y=h.isDynamic;r=v,s=void 0===y?s:!1!==y}if(Object(l.F)(r)&&s)try{r=r.call(t.internalToShellField(),t.internalToShellField())}catch(e){console.error(e)}this.setterTransducer=Ss(ks(r),Es(r),t),this.context=t}return hs(e,[{key:"toHot",value:function e(t){return this.setterTransducer.toHot(t)}},{key:"toNative",value:function e(t){return this.setterTransducer.toNative(t)}}])}();function Ps(e){return(Ps="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xs(e){throw new TypeError('"'+e+'" is read-only')}function Ns(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ls(r.key),r)}}function Ts(e,t,n){return t&&Cs(e.prototype,t),n&&Cs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ls(e){var t=As(e,"string");return"symbol"==Ps(t)?t:t+""}function As(e,t){if("object"!=Ps(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ps(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Rs=function(){function e(t,n,r){if(Ns(this,e),this.parent=void 0,this.editor=void 0,this.isSameComponent=void 0,this.isMultiple=void 0,this.isSingle=void 0,this.setters=void 0,this.nodes=void 0,this.componentMeta=void 0,this.designer=void 0,this.top=void 0,this.isGroup=void 0,this.type=void 0,this.id=Object(l.ib)("entry"),this.emitter=Object(u.createModuleEventBus)("SettingPropEntry"),this._name=void 0,this.extraProps={},this.parent=t,Object(u.makeObservable)(this),null==r){var o="string"==typeof n?n.slice(0,1):"";this.type="#"===o?"group":"field"}else this.type=r;this._name=n,this.isGroup="group"===this.type,this.editor=t.editor,this.nodes=t.nodes,this.setters=t.setters,this.componentMeta=t.componentMeta,this.isSameComponent=t.isSameComponent,this.isMultiple=t.isMultiple,this.isSingle=t.isSingle,this.designer=t.designer,this.top=t.top}return Ts(e,[{key:"name",get:function e(){return this._name}},{key:"path",get:function e(){var t,n=this.parent.path.slice();return"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&n.push(this.name),n}},{key:"getId",value:function e(){return this.id}},{key:"setKey",value:function e(t){if("field"===this.type){for(var n=this.path.join("."),r=this.nodes.length;r-- >0;)this.nodes[r].getProp(n,!0).key=t;this._name=t}}},{key:"getKey",value:function e(){return this._name}},{key:"remove",value:function e(){if("field"===this.type)for(var t=this.path.join("."),n=this.nodes.length;n-- >0;){var r;null===(r=this.nodes[n].getProp(t))||void 0===r||r.remove()}}},{key:"valueState",get:function e(){var t=this;return Object(u.runInAction)((function(){if("field"!==t.type){var e=t.extraProps.getValue;return e?void 0===e(t.internalToShellField(),void 0)?0:1:0}if(1===t.nodes.length)return 2;for(var n=t.path.join("."),r=t.nodes[0].getProp(n),o=t.nodes.length,i=2;--o>0;){var a=t.nodes[o].getProp(n,!1),u=r.compare(a);if(u>1)return-1;1===u&&(i=1)}return 2===i&&r.isUnset()?0:i}))}},{key:"getValue",value:function e(){var t,n;"field"===this.type&&null!==(t=this.name)&&void 0!==t&&t.toString()&&(n=this.parent.getPropValue(this.name));var e=this.extraProps.getValue;try{return e?e(this.internalToShellField(),n):n}catch(e){return console.warn(e),n}}},{key:"setValue",value:function e(t,n,r,o){var i=this.getValue(),a;"field"===this.type&&((null===(a=this.name)||void 0===a?void 0:a.toString())&&this.parent.setPropValue(this.name,t));var e=this.extraProps.setValue;if(e&&(null==o||!o.disableMutator))try{e(this.internalToShellField(),t)}catch(e){console.warn(e)}this.notifyValueChange(i,t),null!=o&&o.fromSetHotValue||this.valueChange(o)}},{key:"clearValue",value:function e(){var t;"field"===this.type&&((null===(t=this.name)||void 0===t?void 0:t.toString())&&this.parent.clearPropValue(this.name));var n=this.extraProps.setValue;if(n)try{n(this.internalToShellField(),void 0)}catch(e){console.warn(e)}}},{key:"get",value:function e(t){var n=this.path.concat(t).join(".");return this.top.get(n)}},{key:"setPropValue",value:function e(t,n){var r=this.path.concat(t).join(".");this.top.setPropValue(r,n)}},{key:"clearPropValue",value:function e(t){var n=this.path.concat(t).join(".");this.top.clearPropValue(n)}},{key:"getPropValue",value:function e(t){return this.top.getPropValue(this.path.concat(t).join("."))}},{key:"getExtraPropValue",value:function e(t){return this.top.getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this.top.setExtraPropValue(t,n)}},{key:"getNode",value:function e(){return this.nodes[0]}},{key:"getName",value:function e(){return this.path.join(".")}},{key:"getProps",value:function e(){return this.top}},{key:"props",get:function e(){return this.top}},{key:"onValueChange",value:function e(t){var n=this;return this.emitter.on("valuechange",t),function(){n.emitter.removeListener("valuechange",t)}}},{key:"valueChange",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.emitter.emit("valuechange",t),this.parent&&al(this.parent)&&this.parent.valueChange(t)}},{key:"notifyValueChange",value:function e(t,n){this.editor.eventBus.emit(c.e.Node.Prop.Change,{node:this.getNode(),prop:this,oldValue:t,newValue:n})}},{key:"getDefaultValue",value:function e(){return this.extraProps.defaultValue}},{key:"isIgnore",value:function e(){return!1}},{key:"getVariableValue",value:function e(){var t=this.getValue();return Object(l.J)(t)?t.value:""}},{key:"setVariableValue",value:function e(t){var n=this.getValue();this.setValue({type:"JSExpression",value:t,mock:Object(l.J)(n)?n.mock:n})}},{key:"setUseVariable",value:function e(t){if(this.isUseVariable()!==t){var n=this.getValue();this.isUseVariable()?this.setValue(n.mock):this.setValue({type:"JSExpression",value:"",mock:n})}}},{key:"isUseVariable",value:function e(){return Object(l.J)(this.getValue())}},{key:"useVariable",get:function e(){return this.isUseVariable()}},{key:"getMockOrValue",value:function e(){var t=this.getValue();return Object(l.J)(t)?t.mock:t}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}])}();function Ms(e){return(Ms="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Rs.prototype,"_name",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Rs.prototype,"path",null),Object(s.b)([u.computed,Object(s.d)("design:type",Number),Object(s.d)("design:paramtypes",[])],Rs.prototype,"valueState",null);var Ds=["title","items","setter","extraProps"],Is;function Bs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Vs(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Bs(Object(n),!0).forEach((function(t){Fs(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bs(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Fs(e,t,n){return(t=$s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Gs(e,t){if(null==e)return{};var n,r,o=Hs(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function Hs(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Us(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zs(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$s(r.key),r)}}function Ws(e,t,n){return t&&zs(e.prototype,t),n&&zs(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $s(e){var t=Xs(e,"string");return"symbol"==Ms(t)?t:t+""}function Xs(e,t){if("object"!=Ms(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ms(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Ys(e,t,n){return t=tl(t),qs(e,Js()?Reflect.construct(t,n||[],tl(e).constructor):t.apply(e,n))}function qs(e,t){if(t&&("object"==Ms(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Ks(e)}function Ks(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Js(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Js=function t(){return!!e})()}function Qs(e,t,n,r){var o=Zs(tl(1&r?e.prototype:e),t,n);return 2&r&&"function"==typeof o?function(e){return o.apply(n,e)}:o}function Zs(){return(Zs="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=el(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}}).apply(null,arguments)}function el(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=tl(e)););return e}function tl(e){return(tl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rl(e,t)}function rl(e,t){return(rl=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ol(e,t){for(var n=e,r=[t.name];n!==e.top;)n instanceof il&&"group"!==n.type&&r.unshift(n.name),n=n.parent;return r.join(".")}var il=function(e){function t(e,n,r){var o;Us(this,t),(o=Ys(this,t,[e,n.name,n.type])).settingFieldCollector=void 0,o.isSettingField=!0,o.isRequired=void 0,o.transducer=void 0,o._config=void 0,o.hotValue=void 0,o.parent=void 0,o.extraProps=void 0,o._title=void 0,o._setter=void 0,o._expanded=!0,o._items=[],o.settingFieldCollector=r,Object(u.makeObservable)(o);var i=n.title,a=n.items,c=n.setter,s=n.extraProps,l=Gs(n,Ds);return o.parent=e,o._config=n,o._title=i,o._setter=c,o.extraProps=Vs(Vs({},l),s),o.isRequired=n.isRequired||(null==c?void 0:c.isRequired),o._expanded=!(null!=s&&s.defaultCollapsed),a&&a.length>0&&o.initItems(a,r),"group"!==o.type&&r&&n.name&&r(ol(e,n),o),o.transducer=new _s(o,{setter:c}),o}return nl(t,e),Ws(t,[{key:"title",get:function e(){return this._title||("number"==typeof this.name?"".concat(Object(u.intl)("Item")," ").concat(this.name):this.name)}},{key:"setter",get:function e(){var t=this;return this._setter?Object(l.F)(this._setter)?Object(u.untracked)((function(){var e,n=t.internalToShellField();return null===(e=t._setter)||void 0===e?void 0:e.call(n,n)})):this._setter:null}},{key:"expanded",get:function e(){return this._expanded}},{key:"setExpanded",value:function e(t){this._expanded=t}},{key:"items",get:function e(){return this._items}},{key:"config",get:function e(){return this._config}},{key:"initItems",value:function e(n,r){var o=this;this._items=n.map((function(e){return Object(l.A)(e)?e:new t(o,e,r)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return al(e)&&e.purge()})),this._items=[]}},{key:"createField",value:function e(n){var r;return null===(r=this.settingFieldCollector)||void 0===r||r.call(this,ol(this.parent,n),this),new t(this,n,this.settingFieldCollector)}},{key:"purge",value:function e(){this.disposeItems()}},{key:"getConfig",value:function e(t){return t?this.config[t]:this._config}},{key:"getItems",value:function e(t){return this._items.filter((function(e){return!t||t(e)}))}},{key:"setValue",value:function e(n,r,o,i){r?this.setHotValue(n,i):Qs(t,"setValue",this,3)([n,!1,!1,i])}},{key:"getHotValue",value:function e(){if(this.hotValue)return this.hotValue;var t=Object(l.k)(this.getMockOrValue());return null==t&&(t=this.extraProps.defaultValue),this.transducer.toHot(t)}},{key:"setMiniAppDataSourceValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);this.setValue(r,!1,!1,n),Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange()}},{key:"setHotValue",value:function e(t,n){this.hotValue=t;var r=this.transducer.toNative(t);if(n?n.fromSetHotValue=!0:n={fromSetHotValue:!0},this.isUseVariable()){var o=this.getValue();Object(l.J)(r)?this.setValue({type:"JSExpression",value:r.value,mock:o.mock},!1,!1,n):this.setValue({type:"JSExpression",value:o.value,mock:r},!1,!1,n)}else this.setValue(r,!1,!1,n);Array.isArray(t)&&t[0]&&t[0].__sid__||this.valueChange(n)}},{key:"onEffect",value:function e(t){return this.designer.autorun(t,!0)}},{key:"internalToShellField",value:function e(){return this.designer.shellModelFactory.createSettingField(this)}}])}(Rs);function al(e){return e&&e.isSettingField}function ul(e){return(ul="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fl(r.key),r)}}function ll(e,t,n){return t&&sl(e.prototype,t),n&&sl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fl(e){var t=pl(e,"string");return"symbol"==ul(t)?t:t+""}function pl(e,t){if("object"!=ul(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ul(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dl(e){return e.map((function(e){return e.id})).sort().join(",")}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],il.prototype,"_expanded",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],il.prototype,"setter",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Boolean,Boolean,Object]),Object(s.d)("design:returntype",void 0)],il.prototype,"setValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],il.prototype,"setMiniAppDataSourceValue",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Object,Object]),Object(s.d)("design:returntype",void 0)],il.prototype,"setHotValue",null);var hl=function(){function e(t,n){var r;if(cl(this,e),this.editor=void 0,this.nodes=void 0,this.emitter=Object(u.createModuleEventBus)("SettingTopEntry"),this._items=[],this._componentMeta=null,this._isSame=!0,this._settingFieldMap={},this.path=[],this.top=this,this.parent=this,this.id=void 0,this.first=void 0,this.designer=void 0,this.setters=void 0,this.disposeFunctions=[],this.editor=t,this.nodes=n,!Array.isArray(n)||n.length<1)throw new ReferenceError("nodes should not be empty");this.id=dl(n),this.first=n[0],this.designer=null===(r=this.first.document)||void 0===r?void 0:r.designer,this.setters=t.get("setters"),this.setupComponentMeta(),this.setupItems(),this.disposeFunctions.push(this.setupEvents())}return ll(e,[{key:"componentMeta",get:function e(){return this._componentMeta}},{key:"items",get:function e(){return this._items}},{key:"isSameComponent",get:function e(){return this._isSame}},{key:"isSingle",get:function e(){return 1===this.nodes.length}},{key:"isLocked",get:function e(){return this.first.isLocked}},{key:"isMultiple",get:function e(){return this.nodes.length>1}},{key:"setupComponentMeta",value:function e(){for(var t,n=this.first.componentMeta,r=this.nodes.length,o=!0,i=1;i<r;i++){var a;if(this.nodes[i].componentMeta!==n){o=!1;break}}o?(this._isSame=!0,this._componentMeta=n):(this._isSame=!1,this._componentMeta=null)}},{key:"setupItems",value:function e(){var t=this;if(this.componentMeta){var n={},r=function e(t,r){n[t]=r};this._items=this.componentMeta.configure.map((function(e){return Object(l.A)(e)?e:new il(t,e,r)})),this._settingFieldMap=n}}},{key:"setupEvents",value:function e(){var t,n=this;return null===(t=this.componentMeta)||void 0===t?void 0:t.onMetadataChange((function(){n.setupItems()}))}},{key:"getValue",value:function e(){var t;return null===(t=this.first)||void 0===t?void 0:t.propsData}},{key:"setValue",value:function e(t){this.setProps(t)}},{key:"get",value:function e(t){return t?this._settingFieldMap[t]||new il(this,{name:t}):null}},{key:"setPropValue",value:function e(t,n){this.nodes.forEach((function(e){e.setPropValue(t.toString(),n)}))}},{key:"clearPropValue",value:function e(t){this.nodes.forEach((function(e){e.clearPropValue(t.toString())}))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.first.getProp(t.toString(),!0))||void 0===n?void 0:n.getValue()}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.first.getExtraProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"setExtraPropValue",value:function e(t,n){this.nodes.forEach((function(e){var r;null===(r=e.getExtraProp(t,!0))||void 0===r||r.setValue(n)}))}},{key:"setProps",value:function e(t){this.nodes.forEach((function(e){e.setProps(t)}))}},{key:"mergeProps",value:function e(t){this.nodes.forEach((function(e){e.mergeProps(t)}))}},{key:"disposeItems",value:function e(){this._items.forEach((function(e){return vl(e)&&e.purge()})),this._items=[]}},{key:"purge",value:function e(){this.disposeItems(),this._settingFieldMap={},this.emitter.removeAllListeners(),this.disposeFunctions.forEach((function(e){return e()})),this.disposeFunctions=[]}},{key:"getProp",value:function e(t){return this.get(t)}},{key:"getStatus",value:function e(){}},{key:"setStatus",value:function e(){}},{key:"getChildren",value:function e(){}},{key:"getDOMNode",value:function e(){}},{key:"getId",value:function e(){return this.id}},{key:"getPage",value:function e(){return this.first.document}},{key:"node",get:function e(){return this.getNode()}},{key:"getNode",value:function e(){return this.nodes[0]}}])}();function vl(e){return e&&e.purge}function yl(e,t,n){if(!e)throw new Error("[designer] Invariant failed: ".concat(t).concat(n?" in '".concat(n,"'"):""))}function ml(e){return(ml="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gl(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ol(r.key),r)}}function wl(e,t,n){return t&&gl(e.prototype,t),n&&gl(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ol(e){var t=jl(e,"string");return"symbol"==ml(t)?t:t+""}function jl(e,t){if("object"!=ml(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ml(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.computed,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",Object)],hl.prototype,"getValue",null);var El=function(){function e(t){bl(this,e),this.designer=void 0,this.toolsContainer=[],this.designer=t}return wl(e,[{key:"addBemTools",value:function e(t){var n;yl(!this.toolsContainer.find((function(e){return e.name===t.name})),"".concat(t.name," already exists")),this.toolsContainer.push(t)}},{key:"removeBemTools",value:function e(t){var n=this.toolsContainer.findIndex((function(e){return e.name===t}));-1!==n&&this.toolsContainer.splice(n,1)}},{key:"getAllBemTools",value:function e(){return this.toolsContainer}}])}();function kl(e){return(kl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function _l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Sl(Object(n),!0).forEach((function(t){Pl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Sl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Pl(e,t,n){return(t=xl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xl(e){var t=Nl(e,"string");return"symbol"==kl(t)?t:t+""}function Nl(e,t){if("object"!=kl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Cl(e){var t=e.devMode;return _l(_l({},e),{},{devMode:null==t?void 0:t.replace(/(low|pro)code/,"$1Code")})}function Tl(e){var t=e.configure,n=e.componentName,r=t.component,o=void 0===r?{}:r,i;o.nestingRule||((i=/^(.+)\.Group$/.exec(n))?o.nestingRule={childWhitelist:["".concat(i[1])]}:(i=/^(.+)\.Node$/.exec(n))?o.nestingRule={parentWhitelist:["".concat(i[1]),n]}:(i=/^(.+)\.(Item|Node|Option)$/.exec(n))&&(o.nestingRule={parentWhitelist:["".concat(i[1])]}));return _l(_l({},e),{},{configure:_l(_l({},t),{},{component:o})})}function Ll(e){return(Ll="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Rl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Al(Object(n),!0).forEach((function(t){Ml(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Al(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ml(e,t,n){return(t=Vl(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dl(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Il(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vl(r.key),r)}}function Bl(e,t,n){return t&&Il(e.prototype,t),n&&Il(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vl(e){var t=Fl(e,"string");return"symbol"==Ll(t)?t:t+""}function Fl(e,t){if("object"!=Ll(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ll(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gl(e){var t,n;(null==e?void 0:e.getPropValue("ref"))&&(null==e||e.setPropValue("ref","".concat(e.componentName.toLowerCase(),"-").concat(Math.random().toString(36).slice(2,9)))),null==e||null===(t=e.children)||void 0===t||t.forEach(Gl)}var Hl=function(){function e(){Dl(this,e),this.metadataTransducers=[],this.actions=[{name:"remove",content:{icon:Qt,title:de("remove"),action:function e(t){t.remove()}},important:!0},{name:"hide",content:{icon:Kt,title:de("hide"),action:function e(t){t.visible=!1}},condition:function e(t){var n;return null===(n=t.componentMeta)||void 0===n?void 0:n.isModal},important:!0},{name:"copy",content:{icon:on,title:de("copy"),action:function e(t){var n=t.document,r=t.parent,o=t.index;if(r){var i=null==n?void 0:n.insertNode(r,t,(null!=o?o:0)+1,!0);Gl(i),null==i||i.select();var a=null==t?void 0:t.getRGL(),u=a.isRGL,c=a.rglNode;if(u){var s=(null==c?void 0:c.getPropValue("layout"))||[],l=s.filter((function(e){return e.i===t.getPropValue("fieldId")}));l&&l[0]&&(s.push(Rl(Rl({},l[0]),{},{i:null==i?void 0:i.getPropValue("fieldId")})),null==c||c.setPropValue("layout",s),setTimeout((function(){var e,t,n;return null==i||null===(e=i.document)||void 0===e||null===(t=e.project)||void 0===t||null===(n=t.simulatorHost)||void 0===n?void 0:n.scrollToNode(i)}),10))}}}},important:!0},{name:"lock",content:{icon:Yt,title:de("lock"),action:function e(t){t.lock()}},condition:function e(t){return u.engineConfig.get("enableCanvasLock",!1)&&t.isContainerNode&&!t.isLocked},important:!0},{name:"unlock",content:{icon:fn,title:de("unlock"),action:function e(t){t.lock(!1)}},condition:function e(t){return u.engineConfig.get("enableCanvasLock",!1)&&t.isContainerNode&&t.isLocked},important:!0}],this.registerMetadataTransducer(Cl,2,"legacy-issues"),this.registerMetadataTransducer(Tl,100,"component-defaults")}return Bl(e,[{key:"removeBuiltinComponentAction",value:function e(t){var n=this.actions.findIndex((function(e){return e.name===t}));n>-1&&this.actions.splice(n,1)}},{key:"addBuiltinComponentAction",value:function e(t){this.actions.push(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){var r=this.actions.find((function(e){return e.name===t}));r&&n(r)}},{key:"registerMetadataTransducer",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;t.level=n,t.id=r;var o=this.metadataTransducers.findIndex((function(e){return null!=e.level&&e.level>n}));o<0?this.metadataTransducers.push(t):this.metadataTransducers.splice(o,0,t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this.metadataTransducers}}])}(),Ul=n(105);function zl(e){return(zl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function $l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Wl(Object(n),!0).forEach((function(t){Xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Xl(e,t,n){return(t=rf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yl(e){return Ql(e)||Jl(e)||Kl(e)||ql()}function ql(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Kl(e,t){if(e){if("string"==typeof e)return Zl(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Zl(e,t):void 0}}function Jl(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Ql(e){if(Array.isArray(e))return Zl(e)}function Zl(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function ef(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rf(r.key),r)}}function nf(e,t,n){return t&&tf(e.prototype,t),n&&tf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rf(e){var t=of(e,"string");return"symbol"==zl(t)?t:t+""}function of(e,t){if("object"!=zl(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var af=function e(t){return t},uf,cf=new(function(){function e(){var t=this;ef(this,e),this.enableContextMenu=void 0,this.dispose=void 0,this.contextMenuActionsMap=new Map,this.handleContextMenu=function(e){e.stopPropagation(),e.preventDefault();var n=[],r=t.contextMenuActionsMap.values().next().value,o;t.contextMenuActionsMap.forEach((function(e){n.push.apply(n,Yl(e.actions))}));var i=function e(){var t;null===(t=o)||void 0===t||t()},a=r.designer.editor.get("pluginContext"),u=Object(l.db)(n,{nodes:[],destroy:i,event:e,pluginContext:a});if(u.length){var c=af(u),s=Object(l.cb)(c,{destroy:i,nodes:[],pluginContext:a}),f=e.target,p=null==f?void 0:f.getBoundingClientRect(),d=p.top,h=p.left,v=_i.Menu.create({target:e.target,offset:[e.clientX-h,e.clientY-d],children:s,className:"engine-context-menu"});o=v.destroy}},this.dispose=[],u.engineConfig.onGot("enableContextMenu",(function(e){t.enableContextMenu!==e&&(t.enableContextMenu=e,t.dispose.forEach((function(e){return e()})),e&&t.initEvent())}))}return nf(e,[{key:"initEvent",value:function e(){var t=this,n;this.dispose.push((n=function e(n){t.handleContextMenu(n)},document.addEventListener("contextmenu",n),function(){document.removeEventListener("contextmenu",n)}))}},{key:"registerContextMenuActions",value:function e(t){this.contextMenuActionsMap.set(t.id,t)}}])}()),sf=function(){function e(t){var n=this;ef(this,e),this.actions=[],this.designer=void 0,this.dispose=void 0,this.enableContextMenu=void 0,this.id=Object(l.ib)("contextMenu"),this.handleContextMenu=function(e,t){var r,o=n.designer;t.stopPropagation(),t.preventDefault();var i=o.contextMenuActions.actions,a,u=((null===(r=o.project.simulator)||void 0===r?void 0:r.viewport)||{bounds:{left:0,top:0}}).bounds,c=u.left,s=u.top,f,p=function e(){var t;null===(t=f)||void 0===t||t()},d=n.designer.editor.get("pluginContext"),h=Object(l.db)(i,{nodes:e.map((function(e){return o.shellModelFactory.createNode(e)})),destroy:p,event:t,pluginContext:d});if(h.length){var v=af(h),y=Object(l.cb)(v,{destroy:p,nodes:e.map((function(e){return o.shellModelFactory.createNode(e)})),pluginContext:d});f=Object(l.o)(y,{event:t,offset:[c,s]})}},this.designer=t,this.dispose=[],u.engineConfig.onGot("enableContextMenu",(function(e){n.enableContextMenu!==e&&(n.enableContextMenu=e,n.dispose.forEach((function(e){return e()})),e&&n.initEvent())})),cf.registerContextMenuActions(this)}return nf(e,[{key:"initEvent",value:function e(){var t=this,n=this.designer;this.dispose.push(n.editor.eventBus.on("designer.builtinSimulator.contextmenu",(function(e){var r=e.node,o=e.originalEvent;if(r){o.stopPropagation(),o.preventDefault(),n.currentSelection.has(r.id)||n.currentSelection.select(r.id);var i=n.currentSelection.getNodes();t.handleContextMenu(i,o)}})))}},{key:"addMenuAction",value:function e(t){this.actions.push($l({type:c.f.MENU_ITEM},t))}},{key:"removeMenuAction",value:function e(t){var n=this.actions.findIndex((function(e){return e.name===t}));n>-1&&this.actions.splice(n,1)}},{key:"adjustMenuLayout",value:function e(t){af=t}}])}(),lf,ff,pf,df;function hf(e){return(hf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vf(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vf=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==hf(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(hf(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function yf(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function mf(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){yf(i,r,o,a,u,"next",e)}function u(e){yf(i,r,o,a,u,"throw",e)}a(void 0)}))}}function bf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function gf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bf(Object(n),!0).forEach((function(t){wf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function wf(e,t,n){return(t=Cf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Of(e){return Sf(e)||kf(e)||Ef(e)||jf()}function jf(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Ef(e,t){if(e){if("string"==typeof e)return _f(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_f(e,t):void 0}}function kf(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Sf(e){if(Array.isArray(e))return _f(e)}function _f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Pf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xf(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Cf(r.key),r)}}function Nf(e,t,n){return t&&xf(e.prototype,t),n&&xf(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Cf(e){var t=Tf(e,"string");return"symbol"==hf(t)?t:t+""}function Tf(e,t){if("object"!=hf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Lf=new l.e({level:"warn",bizName:"designer"}),Af=function(){function e(t){var n=this;Pf(this,e),this.dragon=void 0,this.viewName=void 0,this.componentActions=new Hl,this.contextMenuActions=void 0,this.activeTracker=new Nc,this.detecting=new Ic,this.project=void 0,this.editor=void 0,this.bemToolsManager=new El(this),this.shellModelFactory=void 0,this._dropLocation=void 0,this.propsReducers=new Map,this._lostComponentMetasMap=new Map,this.props=void 0,this.oobxList=[],this.selectionDispose=void 0,this._componentMetasMap=new Map,this._simulatorComponent=void 0,this._simulatorProps=void 0,this._suspensed=!1,this.setupSelection=function(){var e;n.selectionDispose&&(n.selectionDispose(),n.selectionDispose=void 0);var t=n.currentSelection;if(t&&0===t.selected.length&&"live"===(null===(e=n.simulatorProps)||void 0===e?void 0:e.designMode)){var r,o,i,a=null===(r=n.currentDocument)||void 0===r||null===(o=r.getRoot())||void 0===o||null===(i=o.getChildren())||void 0===i?void 0:i.children;a&&a.length>0&&t.select(a[0].id)}n.postEvent("selection.change",t),t&&(n.selectionDispose=t.onSelectionChange((function(){n.postEvent("selection.change",t)})))},Object(u.makeObservable)(this);var r=t.editor,o=t.viewName,i=t.shellModelFactory,a;this.editor=r,this.viewName=o,this.shellModelFactory=i,this.setProps(t),this.project=new Fn(this,t.defaultSchema,o),this.dragon=new jc(this),this.dragon.onDragstart((function(e){var t;n.detecting.enable=!1;var r=e.dragObject,o,i;Object(l.E)(r)?1===r.nodes.length&&(r.nodes[0].parent?r.nodes[0].select():null===(o=n.currentSelection)||void 0===o||o.clear()):null===(i=n.currentSelection)||void 0===i||i.clear();null!==(t=n.props)&&void 0!==t&&t.onDragstart&&n.props.onDragstart(e),n.postEvent("dragstart",e)})),this.contextMenuActions=new sf(this),this.dragon.onDrag((function(e){var t;null!==(t=n.props)&&void 0!==t&&t.onDrag&&n.props.onDrag(e),n.postEvent("drag",e)})),this.dragon.onDragend((function(e){var t,r=e.dragObject,o=e.copy;Lf.debug("onDragend: dragObject ",r," copy ",o);var i=n._dropLocation;if(i&&Object(l.M)(i.detail)&&!1!==i.detail.valid){var a,u;if(Object(l.E)(r))a=rt(i.target,Of(r.nodes),i.detail.index,o);else if(Object(l.D)(r)){var c=Array.isArray(r.data)?r.data:[r.data],s;if(c.find((function(e){return!Object(l.Q)(e)})))return;a=rt(i.target,c,i.detail.index)}if(a)null===(u=i.document)||void 0===u||u.selection.selectAll(a.map((function(e){return e.id}))),setTimeout((function(){return n.activeTracker.track(a[0])}),10)}null!==(t=n.props)&&void 0!==t&&t.onDragend&&n.props.onDragend(e,i),n.postEvent("dragend",e,i),n.detecting.enable=!0})),this.activeTracker.onChange((function(e){var t,n,r=e.node,o=e.detail;null===(t=r.document)||void 0===t||null===(n=t.simulator)||void 0===n||n.scrollToNode(r,o)}));var c=function e(){if(a&&(a(),a=void 0),n.postEvent("history.change",n.currentHistory),n.currentHistory){var t=n.currentHistory;a=t.onStateChange((function(){n.postEvent("history.change",t)}))}};this.project.onCurrentDocumentChange((function(){n.postEvent("current-document.change",n.currentDocument),n.postEvent("selection.change",n.currentSelection),n.postEvent("history.change",n.currentHistory),n.setupSelection(),c()})),this.postEvent("init",this),this.setupSelection(),c()}return Nf(e,[{key:"currentDocument",get:function e(){return this.project.currentDocument}},{key:"currentHistory",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.history}},{key:"currentSelection",get:function e(){var t;return null===(t=this.currentDocument)||void 0===t?void 0:t.selection}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,["designer.".concat(t)].concat(o))}},{key:"dropLocation",get:function e(){return this._dropLocation}},{key:"createLocation",value:function e(t){var n=new es(t);return this._dropLocation&&this._dropLocation.document&&this._dropLocation.document!==n.document&&(this._dropLocation.document.dropLocation=null),this._dropLocation=n,this.postEvent("dropLocation.change",n),n.document&&(n.document.dropLocation=n),this.activeTracker.track({node:n.target,detail:n.detail}),n}},{key:"clearLocation",value:function e(){this._dropLocation&&this._dropLocation.document&&(this._dropLocation.document.dropLocation=null),this.postEvent("dropLocation.change",void 0),this._dropLocation=void 0}},{key:"createScroller",value:function e(t){return new rc(t)}},{key:"createOffsetObserver",value:function e(t){var n=ls(t);return this.clearOobxList(),n&&this.oobxList.push(n),n}},{key:"clearOobxList",value:function e(t){var n=this.oobxList.length;if(n>20||t)for(;n-- >0;)this.oobxList[n].isPurged()&&this.oobxList.splice(n,1)}},{key:"touchOffsetObserver",value:function e(){this.clearOobxList(!0),this.oobxList.forEach((function(e){return e.compute()}))}},{key:"createSettingEntry",value:function e(t){return new hl(this.editor,t)}},{key:"getSuitableInsertion",value:function e(t){var n=this.project.currentDocument;if(!n)return null;if(Array.isArray(t)&&Object(l.Q)(t[0])&&this.getComponentMeta(t[0].componentName).isModal)return{target:n.rootNode};var r=n.focusNode,o,i=n.selection.getNodes().find((function(e){return r.contains(e)})),a,u;return i&&i!==r?i.componentMeta.isContainer?a=i:(a=i.parent,u=(i.index||0)+1):a=r,a&&t&&!a.componentMeta.checkNestingDown(a,t)?null:{target:a,index:u}}},{key:"setProps",value:function e(t){var n=this.props?gf(gf({},this.props),t):t;if(this.props){var r,o;if(n.simulatorComponent!==this.props.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps!==this.props.simulatorProps)this._simulatorProps=n.simulatorProps,(null===(r=n.simulatorProps)||void 0===r?void 0:r.designMode)!==(null===(o=this.props.simulatorProps)||void 0===o?void 0:o.designMode)&&this.setupSelection();n.suspensed!==this.props.suspensed&&null!=n.suspensed&&(this.suspensed=n.suspensed),n.componentMetadatas!==this.props.componentMetadatas&&null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas)}else n.simulatorComponent&&(this._simulatorComponent=n.simulatorComponent),n.simulatorProps&&(this._simulatorProps=n.simulatorProps),null!=n.suspensed&&(this.suspensed=n.suspensed),null!=n.componentMetadatas&&this.buildComponentMetasMap(n.componentMetadatas);this.props=n}},{key:"loadIncrementalAssets",value:function(){var e=mf(vf().mark((function e(t){var n,r,o,i,a;return vf().wrap((function e(u){for(;;)switch(u.prev=u.next){case 0:if(n=t.components,r=t.packages,n&&this.buildComponentMetasMap(n),!r){u.next=5;break}return u.next=5,null===(o=this.project.simulator)||void 0===o?void 0:o.setupComponents(r);case 5:if(!n){u.next=10;break}return i=this.editor.get("assets")||{},a=Object(l.bb)(i,t),u.next=10,this.editor.set("assets",a);case 10:this.refreshComponentMetasMap(),this.editor.eventBus.emit("designer.incrementalAssetsReady");case 12:case"end":return u.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"refreshComponentMetasMap",value:function e(){this._componentMetasMap=new Map(this._componentMetasMap)}},{key:"get",value:function e(t){var n;return null===(n=this.props)||void 0===n?void 0:n[t]}},{key:"simulatorComponent",get:function e(){return this._simulatorComponent}},{key:"simulatorProps",get:function e(){return"function"==typeof this._simulatorProps?this._simulatorProps(this.project):this._simulatorProps||{}}},{key:"projectSimulatorProps",get:function e(){var t=this;return gf(gf({},this.simulatorProps),{},{project:this.project,designer:this,onMount:function e(n){t.project.mountSimulator(n),t.editor.set("simulator",n)}})}},{key:"suspensed",get:function e(){return this._suspensed},set:function e(t){this._suspensed=t}},{key:"schema",get:function e(){return this.project.getSchema()}},{key:"setSchema",value:function e(t){this.project.load(t)}},{key:"buildComponentMetasMap",value:function e(t){var n=this;t.forEach((function(e){return n.createComponentMeta(e)}))}},{key:"createComponentMeta",value:function e(t){var n=t.componentName;if(!n)return null;var r=this._componentMetasMap.get(n);return r?(r.setMetadata(t),this._componentMetasMap.set(n,r)):((r=this._lostComponentMetasMap.get(n))?(r.setMetadata(t),this._lostComponentMetasMap.delete(n)):r=new _n(this,t),this._componentMetasMap.set(n,r)),r}},{key:"getGlobalComponentActions",value:function e(){var t;return(null===(t=this.props)||void 0===t?void 0:t.globalComponentActions)||null}},{key:"getComponentMeta",value:function e(t,n){if(this._componentMetasMap.has(t))return this._componentMetasMap.get(t);if(this._lostComponentMetasMap.has(t))return this._lostComponentMetasMap.get(t);var r=new _n(this,gf({componentName:t},n?n():null));return this._lostComponentMetasMap.set(t,r),r}},{key:"getComponentMetasMap",value:function e(){return this._componentMetasMap}},{key:"componentsMap",get:function e(){var t={},n=this;return this._componentMetasMap.forEach((function(e,n){var r=e.getMetadata();if("lowCode"===r.devMode)t[n]=r.schema;else{var o=e.advanced.view;t[n]=o||e.npm}})),t}},{key:"transformProps",value:function e(t,n,r){if(Array.isArray(t))return t;var o=this.propsReducers.get(r);return o?o.reduce((function(e,t){try{return t(e,n.internalToShellNode(),{stage:r})}catch(t){return console.warn(t),e}}),t):t}},{key:"addPropsReducer",value:function e(t,n){if(t){var r=this.propsReducers.get(n);r?r.push(t):this.propsReducers.set(n,[t])}else Lf.error("reducer is not available")}},{key:"autorun",value:function e(t,n){return Object(u.autorun)(t,n)}},{key:"purge",value:function e(){}}])}();Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Af.prototype,"_componentMetasMap",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(lf=void 0!==o.ComponentType&&o.ComponentType)?lf:Object)],Af.prototype,"_simulatorComponent",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Af.prototype,"_simulatorProps",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Af.prototype,"_suspensed",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Af.prototype,"simulatorComponent",null),Object(s.b)([u.computed,Object(s.d)("design:type","function"==typeof(df="undefined"!=typeof Record&&Record)?df:Object),Object(s.d)("design:paramtypes",[])],Af.prototype,"simulatorProps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Af.prototype,"projectSimulatorProps",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Af.prototype,"componentsMap",null);var Rf=n(106);function Mf(e){return(Mf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Df(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function If(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vf(r.key),r)}}function Bf(e,t,n){return t&&If(e.prototype,t),n&&If(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vf(e){var t=Ff(e,"string");return"symbol"==Mf(t)?t:t+""}function Ff(e,t){if("object"!=Mf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Gf(e,t,n){return t=Wf(t),Hf(e,zf()?Reflect.construct(t,n||[],Wf(e).constructor):t.apply(e,n))}function Hf(e,t){if(t&&("object"==Mf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Uf(e)}function Uf(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zf(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(zf=function t(){return!!e})()}function Wf(e){return(Wf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xf(e,t)}function Xf(e,t){return(Xf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Yf=function(e){function t(e){var n;return Df(this,t),(n=Gf(this,t,[e])).dispose=[],n.titles=null,n.x=0,n.y=0,n.isAbsoluteLayoutContainer=!1,n.dragon=n.props.designer.dragon,Object(u.makeObservable)(n),n.dispose=[n.dragon.onDragstart((function(e){"drag"!==e.originalEvent.type.slice(0,4)&&(n.titles=n.getTitles(e.dragObject),n.x=e.globalX,n.y=e.globalY)})),n.dragon.onDrag((function(e){if(n.x=e.globalX,n.y=e.globalY,Cn(e.sensor)){var t=e.sensor.getDropContainer(e);if(null!=t&&t.container.componentMeta.advanced.isAbsoluteLayoutContainer)return void(n.isAbsoluteLayoutContainer=!0)}n.isAbsoluteLayoutContainer=!1})),n.dragon.onDragend((function(){n.titles=null,n.x=0,n.y=0}))],n}return $f(t,e),Bf(t,[{key:"getTitles",value:function e(t){var n=this,r;return fc(t)?t.nodes.map((function(e){return e.title})):(Array.isArray(t.data)?t.data:[t.data]).map((function(e,t){return n.props.designer.getComponentMeta(e.componentName).title}))}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose.forEach((function(e){return e()}))}},{key:"renderGhostGroup",value:function e(){var t;return null===(t=this.titles)||void 0===t?void 0:t.map((function(e,t){var n;return React.createElement("div",{className:"lc-ghost",key:t},React.createElement(u.Title,{title:e}))}))}},{key:"render",value:function e(){return this.titles&&this.titles.length?this.isAbsoluteLayoutContainer?null:React.createElement("div",{className:"lc-ghost-group",style:{left:this.x,top:this.y}},this.renderGhostGroup()):null}}])}(o.Component);Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Yf.prototype,"titles",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Yf.prototype,"x",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Yf.prototype,"y",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],Yf.prototype,"isAbsoluteLayoutContainer",void 0);var qf=Yf=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],Yf),Kf=n(107);function Jf(e){return(Jf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Qf=["designer"];function Zf(e,t){if(null==e)return{};var n,r,o=ep(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ep(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function tp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,op(r.key),r)}}function rp(e,t,n){return t&&np(e.prototype,t),n&&np(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function op(e){var t=ip(e,"string");return"symbol"==Jf(t)?t:t+""}function ip(e,t){if("object"!=Jf(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Jf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ap(e,t,n){return t=lp(t),up(e,sp()?Reflect.construct(t,n||[],lp(e).constructor):t.apply(e,n))}function up(e,t){if(t&&("object"==Jf(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return cp(e)}function cp(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sp(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sp=function t(){return!!e})()}function lp(e){return(lp=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function fp(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&pp(e,t)}function pp(e,t){return(pp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var dp=function(e){function t(e){var n;tp(this,t),(n=ap(this,t,[e])).designer=void 0,n.viewName=void 0;var r=e.designer,o=Zf(e,Qf);return n.viewName=null==r?void 0:r.viewName,r?(n.designer=r,r.setProps(o)):n.designer=new Af(o),n}return fp(t,e),rp(t,[{key:"shouldComponentUpdate",value:function e(t){this.designer.setProps(t);var n=this.props;return t.className!==n.className||t.style!==n.style||t.dragGhostComponent!==n.dragGhostComponent}},{key:"componentDidMount",value:function e(){var t=this.props.onMount;t&&t(this.designer),this.designer.postEvent("mount",this.designer)}},{key:"UNSAFE_componentWillMount",value:function e(){this.designer.purge()}},{key:"render",value:function e(){var t=this.props,n=t.className,r=t.style,o,i=t.dragGhostComponent||qf;return React.createElement("div",{className:Yo()("lc-designer",n),style:r},React.createElement(i,{designer:this.designer}),React.createElement($u,{designer:this.designer}))}}])}(o.Component);function hp(e,t){return!(!t||!Array.isArray(t.properties))&&t.properties.some((function(t){return t.key===e}))}function vp(e){return e&&("autoInit"in e||"override"in e)}function yp(e,t){if(!e||!Object(po.isPlainObject)(e))return e;var n={};return Object.keys(e).forEach((function(r){if(hp(r,t)){var o=e[r];null!=o&&(n[r]=o)}})),n}function mp(e){return(mp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gp(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Op(r.key),r)}}function wp(e,t,n){return t&&gp(e.prototype,t),n&&gp(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Op(e){var t=jp(e,"string");return"symbol"==mp(t)?t:t+""}function jp(e,t){if("object"!=mp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ep=function(){function e(t,n){bp(this,e),this.hotkey=void 0,this.project=void 0,this.skeleton=void 0,this.setters=void 0,this.material=void 0,this.event=void 0,this.config=void 0,this.common=void 0,this.logger=void 0,this.plugins=void 0,this.preference=void 0,this.pluginEvent=void 0,this.canvas=void 0,this.workspace=void 0,this.registerLevel=void 0,this.editorWindow=void 0,this.commonUI=void 0,this.isPluginRegisteredInWorkspace=void 0;var r=t.pluginName,o=void 0===r?"anonymous":r,i=t.meta,a=void 0===i?{}:i;n.assembleApis(this,o,a),this.pluginEvent=Object(u.createModuleEventBus)(o,200);var c=u.engineConfig.get("enhancePluginContextHook");c&&c(this)}return wp(e,[{key:"setPreference",value:function e(t,n){var r=this,o=function e(o,i){if(hp(o,n)){var a=r.plugins.getPluginPreference(t)||{};return void 0===a[o]||null===a[o]?i:a[o]}};this.preference={getPreferenceValue:o}}}])}();function kp(e){return(kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Sp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Sp=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==kp(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(kp(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function _p(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Pp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_p(i,r,o,a,u,"next",e)}function u(e){_p(i,r,o,a,u,"throw",e)}a(void 0)}))}}function xp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Np(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tp(r.key),r)}}function Cp(e,t,n){return t&&Np(e.prototype,t),n&&Np(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Tp(e){var t=Lp(e,"string");return"symbol"==kp(t)?t:t+""}function Lp(e,t){if("object"!=kp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=kp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ap=function(){function e(t,n,r,o){xp(this,e),this.config=void 0,this.logger=void 0,this.manager=void 0,this._inited=void 0,this.pluginName=void 0,this.meta=void 0,this._disabled=void 0,this.manager=n,this.config=r,this.pluginName=t,this.meta=o,this.logger=Object(l.t)({level:"warn",bizName:"plugin:".concat(t)})}return Cp(e,[{key:"name",get:function e(){return this.pluginName}},{key:"dep",get:function e(){if("string"==typeof this.meta.dependencies)return[this.meta.dependencies];var t=this.config.dep;return"string"==typeof t?[t]:this.meta.dependencies||t||[]}},{key:"disabled",get:function e(){return this._disabled}},{key:"isInited",value:function e(){return this._inited}},{key:"init",value:function(){var e=Pp(Sp().mark((function e(t){var n;return Sp().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(!this._inited||t){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method init called"),r.next=5,null===(n=this.config.init)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!0;case 6:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=Pp(Sp().mark((function e(){var t,n;return Sp().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this._inited){r.next=2;break}return r.abrupt("return");case 2:return this.logger.log("method destroy called"),r.next=5,null===(t=this.config)||void 0===t||null===(n=t.destroy)||void 0===n?void 0:n.call(void 0);case 5:this._inited=!1;case 6:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setDisabled",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._disabled=t}},{key:"toProxy",value:function e(){var t,n;yl(this._inited,"Could not call toProxy before init");var r=null===(t=(n=this.config).exports)||void 0===t?void 0:t.call(n);return new Proxy(this,{get:function e(t,n,o){return{}.hasOwnProperty.call(r,n)?null==r?void 0:r[n]:Reflect.get(t,n,o)}})}},{key:"dispose",value:function(){var e=Pp(Sp().mark((function e(){return Sp().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.manager.delete(this.name);case 2:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}();function Rp(e){var t=e.tasks,n=e.names,r=e.results,o=e.missing,i=e.recursive,a=e.nest,u=e.parentName;n.forEach((function(e){if(-1===r.indexOf(e)){var n=t[e];n?a.indexOf(e)>-1?(a.push(e),i.push(a.slice(0)),a.pop()):n.dep.length&&(a.push(e),Rp({tasks:t,parentName:e,names:n.dep,results:r,missing:o,recursive:i,nest:a}),a.pop()):o.push([u,e].filter((function(e){return!!e})).join(".")),r.push(e)}}))}var Mp=function(e,t){var n=[],r=[],o=[];return Rp({tasks:e,names:t,results:n,missing:r,recursive:o,nest:[]}),(r.length||o.length)&&(n=[]),{sequence:n,missingTasks:r,recursiveDependencies:o}},Dp=n(62),Ip=n.n(Dp);function Bp(e){return(Bp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vp(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Fp(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Fp(e,t){if(e){if("string"==typeof e)return Gp(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gp(e,t):void 0}}function Gp(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Hp(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hp=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Bp(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Bp(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function Up(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function zp(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Up(i,r,o,a,u,"next",e)}function u(e){Up(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Wp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yp(r.key),r)}}function Xp(e,t,n){return t&&$p(e.prototype,t),n&&$p(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yp(e){var t=qp(e,"string");return"symbol"==Bp(t)?t:t+""}function qp(e,t){if("object"!=Bp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Bp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Kp=Object(l.t)({level:"warn",bizName:"designer:pluginManager"}),Jp=["designer","editor","skeleton","renderer","render","utils","plugin","engine","editor-core","engine-core","plugins","event","events","log","logger","ctx","context"],Qp=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";Wp(this,e),this.viewName=void 0,this.plugins=[],this.pluginsMap=new Map,this.pluginContextMap=new Map,this.pluginPreference=new Map,this.contextApiAssembler=void 0,this._getLowCodePluginContext=function(e){var t=e.pluginName,r=n.pluginContextMap.get(t);return r||(r=new Ep(e,n.contextApiAssembler),n.pluginContextMap.set(t,r)),r},this.viewName=r,this.contextApiAssembler=t}return Xp(e,[{key:"isEngineVersionMatched",value:function e(t){var n=u.engineConfig.get("ENGINE_VERSION");return Ip()(n,t,{includePrerelease:!0})}},{key:"register",value:function(){var e=zp(Hp().mark((function e(t,n,r){var o,i,a,c,s,l,f,p,d,h,v,y,m,b,g,w,O,j,E,k;return Hp().wrap((function e(S){for(;;)switch(S.prev=S.next){case 0:if(vp(n)&&(r=n,n={}),c=t.pluginName,s=t.meta,f=(l=void 0===s?{}:s).preferenceDeclaration,p=l.engines,d=l.eventPrefix,(h=Jp.find((function(e){return e===d})))&&(l.eventPrefix=void 0,Kp.warn("plugin ".concat(c," is trying to use ").concat(d," as event prefix, which is a reserved event prefix, please use another one"))),v=this._getLowCodePluginContext({pluginName:c,meta:l}),y=u.engineConfig.get("customPluginFilterOptions",yp),!(m=u.engineConfig.get("customPluginTransducer",null))){S.next=15;break}return S.next=12,m(t,v,n);case 12:S.t0=S.sent,S.next=16;break;case 15:S.t0=t;case 16:if(b=S.t0,g=y(n,null===(o=b.meta)||void 0===o?void 0:o.preferenceDeclaration),w=b(v,g),yl(c=c||w.name,"pluginConfigCreator.pluginName required",w),v.setPreference(c,f),O=!0===(null===(i=r)||void 0===i?void 0:i.override),!this.pluginsMap.has(c)){S.next=32;break}if(O){S.next=28;break}throw new Error("Plugin with name ".concat(c," exists"));case 28:j=this.pluginsMap.get(c),Kp.log("plugin override, originalPlugin with name ",c," will be destroyed, config:",null==j?void 0:j.config),null==j||j.destroy(),this.pluginsMap.delete(c);case 32:if(!(E=p&&p.lowcodeEngine)||this.isEngineVersionMatched(E)){S.next=35;break}throw new Error("plugin ".concat(c," skipped, engine check failed, current engine version is ").concat(u.engineConfig.get("ENGINE_VERSION"),", meta.engines.lowcodeEngine is ").concat(E));case 35:if(k=new Ap(c,this,w,l),null===(a=r)||void 0===a||!a.autoInit){S.next=39;break}return S.next=39,k.init();case 39:this.plugins.push(k),this.pluginsMap.set(c,k),Kp.log("plugin registered with pluginName: ".concat(c,", config: "),w,"meta:",l);case 42:case"end":return S.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"get",value:function e(t){return this.pluginsMap.get(t)}},{key:"getAll",value:function e(){return this.plugins}},{key:"has",value:function e(t){return this.pluginsMap.has(t)}},{key:"delete",value:function(){var e=zp(Hp().mark((function e(t){var n,r;return Hp().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:if(n=this.plugins.find((function(e){var n;return e.name===t}))){o.next=3;break}return o.abrupt("return",!1);case 3:return o.next=5,n.destroy();case 5:return r=this.plugins.indexOf(n),this.plugins.splice(r,1),o.abrupt("return",this.pluginsMap.delete(t));case 8:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=zp(Hp().mark((function e(t){var n,r,o,i,a,u,c,s;return Hp().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:n=[],r={},this.pluginPreference=t,this.plugins.forEach((function(e){n.push(e.name),r[e.name]=e})),o=Mp(r,n),i=o.missingTasks,a=o.sequence,yl(!i.length,"plugin dependency missing",i),Kp.log("load plugin sequence:",a),u=Vp(a),l.prev=8,u.s();case 10:if((c=u.n()).done){l.next=23;break}return s=c.value,l.prev=12,l.next=15,this.pluginsMap.get(s).init();case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(12),Kp.error("Failed to init plugin:".concat(s,", it maybe affect those plugins which depend on this.")),Kp.error(l.t0);case 21:l.next=10;break;case 23:l.next=28;break;case 25:l.prev=25,l.t1=l.catch(8),u.e(l.t1);case 28:return l.prev=28,u.f(),l.finish(28);case 31:case"end":return l.stop()}}),e,this,[[8,25,28,31],[12,17]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){var e=zp(Hp().mark((function e(){var t,n,r;return Hp().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:t=Vp(this.plugins),o.prev=1,t.s();case 3:if((n=t.n()).done){o.next=9;break}return r=n.value,o.next=7,r.destroy();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),t.e(o.t0);case 14:return o.prev=14,t.f(),o.finish(14);case 17:case"end":return o.stop()}}),e,this,[[1,11,14,17]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"size",get:function e(){return this.pluginsMap.size}},{key:"getPluginPreference",value:function e(t){return this.pluginPreference?this.pluginPreference.get(t):null}},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){if(t.pluginsMap.has(n)){var o;if(t.pluginsMap.get(n).disabled)return;return null===(o=t.pluginsMap.get(n))||void 0===o?void 0:o.toProxy()}return Reflect.get(t,n,r)}})}},{key:"setDisabled",value:function e(t){var n,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];Kp.warn("plugin:".concat(t," has been set disable:").concat(r)),null===(n=this.pluginsMap.get(t))||void 0===n||n.setDisabled(r)}},{key:"dispose",value:function(){var e=zp(Hp().mark((function e(){return Hp().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.destroy();case 2:this.plugins=[],this.pluginsMap.clear();case 4:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}();function Zp(e){return(Zp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ed(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function td(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,rd(r.key),r)}}function nd(e,t,n){return t&&td(e.prototype,t),n&&td(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rd(e){var t=od(e,"string");return"symbol"==Zp(t)?t:t+""}function od(e,t){if("object"!=Zp(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zp(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var id=new l.e({level:"warn",bizName:"skeleton:area"}),ad=function(){function e(t,n,r,o){var i=this,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];ed(this,e),this.skeleton=void 0,this.name=void 0,this.exclusive=void 0,this._visible=!0,this.container=void 0,this.lastCurrent=null,this.skeleton=t,this.name=n,this.exclusive=o,Object(u.makeObservable)(this),this.container=t.createContainer(n,r,o,(function(){return i.visible}),a)}return nd(e,[{key:"visible",get:function e(){return this.exclusive?null!=this.container.current:this._visible}},{key:"current",get:function e(){return this.exclusive?this.container.current:null}},{key:"isEmpty",value:function e(){return this.container.items.length<1}},{key:"add",value:function e(t){var n=this.container.get(t.name);return n?(id.warn("The ".concat(t.name," has already been added to skeleton.")),n):this.container.add(t)}},{key:"remove",value:function e(t){return this.container.remove(t)}},{key:"setVisible",value:function e(t){if(this.exclusive){var n=this.container.current;t&&!n?this.container.active(this.lastCurrent||this.container.getAt(0)):n&&(this.lastCurrent=n,this.container.unactive(n))}else this._visible=t}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"removeAction",value:function e(t){return this.remove(t)}}])}();function ud(e){return(ud="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fd(r.key),r)}}function ld(e,t,n){return t&&sd(e.prototype,t),n&&sd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fd(e){var t=pd(e,"string");return"symbol"==ud(t)?t:t+""}function pd(e,t){if("object"!=ud(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ud(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dd(e,t,n){return t=md(t),hd(e,yd()?Reflect.construct(t,n||[],md(e).constructor):t.apply(e,n))}function hd(e,t){if(t&&("object"==ud(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vd(e)}function vd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yd=function t(){return!!e})()}function md(e){return(md=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gd(e,t)}function gd(e,t){return(gd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],ad.prototype,"_visible",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ad.prototype,"visible",null);var wd=function(e){function t(){return cd(this,t),dd(this,t,arguments)}return bd(t,e),ld(t,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName,o=t.className;return n.isEmpty()?null:React.createElement("div",{className:Yo()(o,"lc-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(jd,{area:n,itemClassName:r}))}}])}(o.Component),Od=wd=Object(s.b)([u.observer],wd),jd=function(e){function t(){return cd(this,t),dd(this,t,arguments)}return bd(t,e),ld(t,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName,i=[],a=[],u=[];return n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:r||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-top-area-left"},i),React.createElement("div",{className:"lc-top-area-center"},a),React.createElement("div",{className:"lc-top-area-right"},u))}}])}(o.Component);function Ed(e){return(Ed="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pd(r.key),r)}}function _d(e,t,n){return t&&Sd(e.prototype,t),n&&Sd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pd(e){var t=xd(e,"string");return"symbol"==Ed(t)?t:t+""}function xd(e,t){if("object"!=Ed(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ed(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Nd(e,t,n){return t=Ad(t),Cd(e,Ld()?Reflect.construct(t,n||[],Ad(e).constructor):t.apply(e,n))}function Cd(e,t){if(t&&("object"==Ed(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Td(e)}function Td(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ld(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Ld=function t(){return!!e})()}function Ad(e){return(Ad=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Md(e,t)}function Md(e,t){return(Md=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}jd=Object(s.b)([u.observer],jd);var Dd=function(e){function t(){return kd(this,t),Nd(this,t,arguments)}return Rd(t,e),_d(t,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.className,o=void 0===r?"lc-left-area":r;return n.isEmpty()?null:React.createElement("div",{className:Yo()(o,{"lc-area-visible":n.visible})},React.createElement(Bd,{area:n}))}}])}(o.Component),Id=Dd=Object(s.b)([u.observer],Dd),Bd=function(e){function t(){return kd(this,t),Nd(this,t,arguments)}return Rd(t,e),_d(t,[{key:"render",value:function e(){var t=this.props.area,n=[],r=[];return t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{key:"left-area-".concat(e.name)},e.content);"bottom"===e.align?r.push(t):n.push(t)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-left-area-top"},n),React.createElement("div",{className:"lc-left-area-bottom"},r))}}])}(o.Component);function Vd(e){return(Vd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gd(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ud(r.key),r)}}function Hd(e,t,n){return t&&Gd(e.prototype,t),n&&Gd(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ud(e){var t=zd(e,"string");return"symbol"==Vd(t)?t:t+""}function zd(e,t){if("object"!=Vd(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Vd(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Wd(e,t,n){return t=qd(t),$d(e,Yd()?Reflect.construct(t,n||[],qd(e).constructor):t.apply(e,n))}function $d(e,t){if(t&&("object"==Vd(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Xd(e)}function Xd(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yd(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Yd=function t(){return!!e})()}function qd(e){return(qd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Jd(e,t)}function Jd(e,t){return(Jd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Bd=Object(s.b)([u.observer],Bd);var Qd=function(e){function t(){return Fd(this,t),Wd(this,t,arguments)}return Kd(t,e),Hd(t,[{key:"componentDidUpdate",value:function e(){var t;null===(t=this.props.area.skeleton.editor.get("designer"))||void 0===t||t.touchOffsetObserver()}},{key:"render",value:function e(){var t,n,r=this.props.area,o=null===(t=r.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,i=o?{width:o}:void 0;return React.createElement("div",{className:Yo()("lc-left-fixed-pane",{"lc-area-visible":r.visible}),style:i},React.createElement(eh,{area:r}))}}])}(o.Component),Zd=Qd=Object(s.b)([u.observer],Qd),eh=function(e){function t(){return Fd(this,t),Wd(this,t,arguments)}return Kd(t,e),Hd(t,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}])}(o.Component);function th(e){return(th="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ih(r.key),r)}}function oh(e,t,n){return t&&rh(e.prototype,t),n&&rh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ih(e){var t=ah(e,"string");return"symbol"==th(t)?t:t+""}function ah(e,t){if("object"!=th(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=th(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function uh(e,t,n){return t=fh(t),ch(e,lh()?Reflect.construct(t,n||[],fh(e).constructor):t.apply(e,n))}function ch(e,t){if(t&&("object"==th(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return sh(e)}function sh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(lh=function t(){return!!e})()}function fh(e){return(fh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ph(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dh(e,t)}function dh(e,t){return(dh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}eh=Object(s.b)([u.observer],eh);var hh=function(e){function t(){var e;nh(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=uh(this,t,[].concat(r))).dispose=void 0,e.focusing=void 0,e.shell=null,e}return ph(t,e),oh(t,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.area,r=function e(t){var r,o,i,a;n.visible&&(null!==(r=t.originalEvent)&&void 0!==r&&null!==(o=r.target)&&void 0!==o&&o.classList.contains("insertion")||(null===(i=t.originalEvent)||void 0===i?void 0:i.target.closest('div[data-keep-visible-while-dragging="true"]'))||n.setVisible(!1))};n.skeleton.editor.eventBus.on("designer.drag",r),this.dispose=function(){n.skeleton.editor.removeListener("designer.drag",r)};var o=n.skeleton.editor.get("project");this.focusing=n.skeleton.focusTracker.create({range:function e(r){var i,a,u,c,s,l,f,p,d,h=r.target;if(!h)return!1;if(null!==(i=t.shell)&&void 0!==i&&i.contains(h))return!0;if(null!==(a=document.querySelector(".lc-simulator-content-frame"))&&void 0!==a&&null!==(u=a.contentWindow)&&void 0!==u&&u.document.documentElement.contains(h))return!1;if(null!=o&&null!==(c=o.simulatorHost)&&void 0!==c&&null!==(s=c.contentWindow)&&void 0!==s&&s.document.documentElement.contains(h))return!1;if(null!==(l=document.querySelector(".lc-right-area"))&&void 0!==l&&l.contains(h))return!1;if(null===(f=document.querySelector(".lc-workbench"))||void 0===f||!f.contains(h))return!0;if(null!==(p=document.querySelector(".lc-workbench-body"))&&void 0!==p&&p.contains(h))return!0;var v=null===(d=n.current)||void 0===d?void 0:d.getAssocDocks();return!(!v||null==v||!v.length)&&v.some((function(e){var t;return null===(t=e.getDOMNode())||void 0===t?void 0:t.contains(h)}))},onEsc:function e(){t.props.area.setVisible(!1)},onBlur:function e(){t.props.area.setVisible(!1)}}),this.onEffect()}},{key:"onEffect",value:function e(){var t=this.props.area;if(t.visible){var n,r,o;null===(n=this.focusing)||void 0===n||n.active();var i=null==t||null===(r=t.skeleton)||void 0===r||null===(o=r.leftFixedArea)||void 0===o?void 0:o.container,a=null==i?void 0:i.current;a&&i.unactive(a)}else{var u;null===(u=this.focusing)||void 0===u||u.suspense()}}},{key:"componentDidUpdate",value:function e(){this.onEffect()}},{key:"componentWillUnmount",value:function e(){var t,n;null===(t=this.focusing)||void 0===t||t.purge(),null===(n=this.dispose)||void 0===n||n.call(this)}},{key:"render",value:function e(){var t,n,r=this,o=this.props.area,i=null===(t=o.current)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width,a=i?{width:i}:void 0;return React.createElement("div",{ref:function e(t){r.shell=t},className:Yo()("lc-left-float-pane",{"lc-area-visible":o.visible}),style:a},React.createElement(yh,{area:o}))}}])}(o.Component),vh=hh=Object(s.b)([u.observer],hh),yh=function(e){function t(){return nh(this,t),uh(this,t,arguments)}return ph(t,e),oh(t,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}])}(o.Component);function mh(e){return(mh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oh(r.key),r)}}function wh(e,t,n){return t&&gh(e.prototype,t),n&&gh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Oh(e){var t=jh(e,"string");return"symbol"==mh(t)?t:t+""}function jh(e,t){if("object"!=mh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Eh(e,t,n){return t=Ph(t),kh(e,_h()?Reflect.construct(t,n||[],Ph(e).constructor):t.apply(e,n))}function kh(e,t){if(t&&("object"==mh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Sh(e)}function Sh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(_h=function t(){return!!e})()}function Ph(e){return(Ph=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nh(e,t)}function Nh(e,t){return(Nh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}yh=Object(s.b)([u.observer],yh);var Ch=function(e){function t(){return bh(this,t),Eh(this,t,arguments)}return xh(t,e),wh(t,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Yo()("lc-toolbar",{"lc-area-visible":t.visible})},React.createElement(Lh,{area:t}))}}])}(o.Component),Th=Ch=Object(s.b)([u.observer],Ch),Lh=function(e){function t(){return bh(this,t),Eh(this,t,arguments)}return xh(t,e),wh(t,[{key:"render",value:function e(){var t=this.props.area,n=[],r=[],i=[];return t.container.items.forEach((function(e){"center"===e.align?r.push(e.content):"right"===e.align?i.push(e.content):n.push(e.content)})),React.createElement(o.Fragment,null,React.createElement("div",{className:"lc-toolbar-left"},n),React.createElement("div",{className:"lc-toolbar-center"},r),React.createElement("div",{className:"lc-toolbar-right"},i))}}])}(o.Component);function Ah(e){return(Ah="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Mh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Ih(r.key),r)}}function Dh(e,t,n){return t&&Mh(e.prototype,t),n&&Mh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Ih(e){var t=Bh(e,"string");return"symbol"==Ah(t)?t:t+""}function Bh(e,t){if("object"!=Ah(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ah(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Vh(e,t,n){return t=Uh(t),Fh(e,Hh()?Reflect.construct(t,n||[],Uh(e).constructor):t.apply(e,n))}function Fh(e,t){if(t&&("object"==Ah(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Gh(e)}function Gh(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Hh(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Hh=function t(){return!!e})()}function Uh(e){return(Uh=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zh(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Wh(e,t)}function Wh(e,t){return(Wh=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Lh=Object(s.b)([u.observer],Lh);var $h=function(e){function t(){return Rh(this,t),Vh(this,t,arguments)}return zh(t,e),Dh(t,[{key:"render",value:function e(){var t=this.props.area;return React.createElement("div",{className:Yo()("lc-main-area engine-workspacepane")},t.container.items.map((function(e){return e.content})))}}])}(o.Component),Xh=$h=Object(s.b)([u.observer],$h);function Yh(e){return(Yh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qh(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qh(r.key),r)}}function Jh(e,t,n){return t&&Kh(e.prototype,t),n&&Kh(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qh(e){var t=Zh(e,"string");return"symbol"==Yh(t)?t:t+""}function Zh(e,t){if("object"!=Yh(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yh(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ev(e,t,n){return t=ov(t),tv(e,rv()?Reflect.construct(t,n||[],ov(e).constructor):t.apply(e,n))}function tv(e,t){if(t&&("object"==Yh(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return nv(e)}function nv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(rv=function t(){return!!e})()}function ov(e){return(ov=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function iv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&av(e,t)}function av(e,t){return(av=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var uv=function(e){function t(){return qh(this,t),ev(this,t,arguments)}return iv(t,e),Jh(t,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Yo()("lc-bottom-area",{"lc-area-visible":t.visible})},React.createElement(sv,{area:t}))}}])}(o.Component),cv=uv=Object(s.b)([u.observer],uv),sv=function(e){function t(){return qh(this,t),ev(this,t,arguments)}return iv(t,e),Jh(t,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.map((function(e){return e.content})))}}])}(o.Component);function lv(e){return(lv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hv(r.key),r)}}function dv(e,t,n){return t&&pv(e.prototype,t),n&&pv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function hv(e){var t=vv(e,"string");return"symbol"==lv(t)?t:t+""}function vv(e,t){if("object"!=lv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function yv(e,t,n){return t=wv(t),mv(e,gv()?Reflect.construct(t,n||[],wv(e).constructor):t.apply(e,n))}function mv(e,t){if(t&&("object"==lv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return bv(e)}function bv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(gv=function t(){return!!e})()}function wv(e){return(wv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ov(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&jv(e,t)}function jv(e,t){return(jv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}sv=Object(s.b)([u.observer],sv);var Ev=function(e){function t(){return fv(this,t),yv(this,t,arguments)}return Ov(t,e),dv(t,[{key:"render",value:function e(){var t=this.props.area;return t.isEmpty()?null:React.createElement("div",{className:Yo()("lc-right-area engine-tabpane",{"lc-area-visible":t.visible})},React.createElement(Sv,{area:t}))}}])}(o.Component),kv=Ev=Object(s.b)([u.observer],Ev),Sv=function(e){function t(){return fv(this,t),yv(this,t,arguments)}return Ov(t,e),dv(t,[{key:"render",value:function e(){var t=this.props.area;return React.createElement(o.Fragment,null,t.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).map((function(e){return e.content})))}}])}(o.Component);Sv=Object(s.b)([u.observer],Sv);var _v=n(118),Pv=Object(o.createContext)({});function xv(e){return(xv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lv(r.key),r)}}function Tv(e,t,n){return t&&Cv(e.prototype,t),n&&Cv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lv(e){var t=Av(e,"string");return"symbol"==xv(t)?t:t+""}function Av(e,t){if("object"!=xv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Rv(e,t,n){return t=Bv(t),Mv(e,Iv()?Reflect.construct(t,n||[],Bv(e).constructor):t.apply(e,n))}function Mv(e,t){if(t&&("object"==xv(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Dv(e)}function Dv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Iv(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Iv=function t(){return!!e})()}function Bv(e){return(Bv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vv(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Fv(e,t)}function Fv(e,t){return(Fv=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var Gv=function(e){function t(e){var n;Nv(this,t);var r=(n=Rv(this,t,[e])).props,o=r.config,i=r.components,a;return r.skeleton.buildFromConfig(o,i),n}return Vv(t,e),Tv(t,[{key:"render",value:function e(){var t=this.props,n=t.skeleton,r=t.className,o=t.topAreaItemClassName;return React.createElement("div",{className:Yo()("lc-workbench",r)},React.createElement(Pv.Provider,{value:this.props.skeleton},React.createElement(Od,{area:n.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workbench-body"},React.createElement(Id,{area:n.leftArea}),React.createElement(vh,{area:n.leftFloatArea}),React.createElement(Zd,{area:n.leftFixedArea}),React.createElement("div",{className:"lc-workbench-center"},React.createElement(Th,{area:n.toolbar}),React.createElement(Xh,{area:n.mainArea}),React.createElement(cv,{area:n.bottomArea})),React.createElement(kv,{area:n.rightArea})),React.createElement(u.TipContainer,null)))}}])}(o.Component);function Hv(e){return e&&"Widget"===e.type}function Uv(e){return e&&"Divider"===e.type}function zv(e){return e&&/Dock$/.test(e.type)}function Wv(e){return e&&"DialogDock"===e.type}function $v(e){return e&&"Panel"===e.type}function Xv(e){return e&&"PanelDock"===e.type}function Yv(e){return(Yv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qv(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kv(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qv(r.key),r)}}function Jv(e,t,n){return t&&Kv(e.prototype,t),n&&Kv(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qv(e){var t=Zv(e,"string");return"symbol"==Yv(t)?t:t+""}function Zv(e,t){if("object"!=Yv(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Yv(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function ey(e){return e&&e.setActive}Gv=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],Gv);var ty=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];qv(this,e),this.name=void 0,this.handle=void 0,this.exclusive=void 0,this.checkVisible=void 0,this.defaultSetCurrent=void 0,this.items=[],this.maps={},this._current=null,this.name=t,this.handle=n,this.exclusive=r,this.checkVisible=o,this.defaultSetCurrent=i,Object(u.makeObservable)(this)}return Jv(e,[{key:"current",get:function e(){return this._current}},{key:"visible",get:function e(){return this.checkVisible()}},{key:"active",value:function e(t){var n=t;if(t&&"string"==typeof t&&(n=this.get(t)),ey(n)||(n=null),this.exclusive){if(this._current===n)return;this._current&&this._current.setActive(!1),this._current=n}n&&n.setActive(!0)}},{key:"unactive",value:function e(t){var n=t;t&&"string"==typeof t&&(n=this.get(t)),ey(n)||(n=null),this._current===n&&(this._current=null),n&&n.setActive(!1)}},{key:"unactiveAll",value:function e(){var t=this;Object.keys(this.maps).forEach((function(e){return t.unactive(e)}))}},{key:"add",value:function e(t){t=this.handle(t);var n=this.get(t.name);if(n===t)return n;var r=n?this.items.indexOf(n):-1;if(r>-1?this.items[r]=t:this.items.push(t),this.maps[t.name]=t,zk(t)&&t.setParent(this),this.defaultSetCurrent){var o,i,a=null===(o=t.config)||void 0===o||null===(i=o.props)||void 0===i?void 0:i.hiddenWhenInit;this._current||a||this.active(t)}return t}},{key:"get",value:function e(t){return this.maps[t]||null}},{key:"getAt",value:function e(t){return this.items[t]||null}},{key:"has",value:function e(t){return Object(l.v)(this.maps,t)}},{key:"indexOf",value:function e(t){return this.items.indexOf(t)}},{key:"remove",value:function e(t){var n="string"==typeof t?this.get(t):t;if(!n)return-1;var r=this.items.indexOf(n);return r>-1&&this.items.splice(r,1),delete this.maps[n.name],n===this.current&&(this._current=null),r}}])}();Object(s.b)([u.obx.shallow,Object(s.d)("design:type",Array)],ty.prototype,"items",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],ty.prototype,"_current",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],ty.prototype,"visible",null);var ny=Symbol("project"),ry=Symbol("designer"),oy=Symbol("skeleton"),iy=Symbol("document"),ay=Symbol("editor"),uy=Symbol("node"),cy=Symbol("modalNodesManager"),sy=Symbol("nodeChildren"),ly=Symbol("prop"),fy=Symbol("settingField"),py=Symbol("settingTopEntry"),dy=Symbol("props"),hy=Symbol("detecting"),vy=Symbol("selection"),yy=Symbol("history"),my=Symbol("canvas"),by=Symbol("dragon"),gy=Symbol("componentMeta"),wy=Symbol("dropLocation"),Oy=Symbol("simulatorHost"),jy=Symbol("simulatorRender"),Ey=Symbol("dragObject"),ky=Symbol("locateEvent"),Sy=Symbol("designerCabin"),_y=Symbol("editorCabin"),Py=Symbol("skeletonCabin"),xy=Symbol("hotkey"),Ny=Symbol("plugins"),Cy=Symbol("workspace"),Ty=Symbol("window"),Ly=Symbol("plugin-instance"),Ay=Symbol("resourceType"),Ry=Symbol("resource"),My=Symbol("clipboard"),Dy=Symbol("configSymbol"),Iy=Symbol("conditionGroup"),By=Symbol("editorView"),Vy=Symbol("pluginContext"),Fy=Symbol("skeletonItem"),Gy=Symbol("command");function Hy(e){return(Hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uy(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$y(r.key),r)}}function Wy(e,t,n){return t&&zy(e.prototype,t),n&&zy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $y(e){var t=Xy(e,"string");return"symbol"==Hy(t)?t:t+""}function Xy(e,t){if("object"!=Hy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Yy=function(){function e(t){Uy(this,e),this[gy]=void 0,this.isComponentMeta=!0,this[gy]=t}return Wy(e,[{key:"componentName",get:function e(){return this[gy].componentName}},{key:"isContainer",get:function e(){return this[gy].isContainer}},{key:"isMinimalRenderUnit",get:function e(){return this[gy].isMinimalRenderUnit}},{key:"isModal",get:function e(){return this[gy].isModal}},{key:"configure",get:function e(){return this[gy].configure}},{key:"title",get:function e(){return this[gy].title}},{key:"icon",get:function e(){return this[gy].icon}},{key:"npm",get:function e(){return this[gy].npm}},{key:"prototype",get:function e(){return this[gy].prototype}},{key:"availableActions",get:function e(){return this[gy].availableActions}},{key:"advanced",get:function e(){return this[gy].advanced}},{key:"setNpm",value:function e(t){this[gy].setNpm(t)}},{key:"getMetadata",value:function e(){return this[gy].getMetadata()}},{key:"checkNestingUp",value:function e(t,n){var r=t.isNode?t[uy]:t;return this[gy].checkNestingUp(r,n)}},{key:"checkNestingDown",value:function e(t,n){var r=null!=t&&t.isNode?t[uy]:t;return this[gy].checkNestingDown(r,n[uy]||n)}},{key:"refreshMetadata",value:function e(){this[gy].refreshMetadata()}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function qy(e){return(qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ky(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zy(r.key),r)}}function Qy(e,t,n){return t&&Jy(e.prototype,t),n&&Jy(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Zy(e){var t=em(e,"string");return"symbol"==qy(t)?t:t+""}function em(e,t){if("object"!=qy(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qy(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var tm=function(){function e(t){Ky(this,e),this[ly]=void 0,this[ly]=t}return Qy(e,[{key:"id",get:function e(){return this[ly].id}},{key:"key",get:function e(){return this[ly].key}},{key:"path",get:function e(){return this[ly].path}},{key:"node",get:function e(){return RO.create(this[ly].getNode())}},{key:"slotNode",get:function e(){return RO.create(this[ly].slotNode)}},{key:"isProp",get:function e(){return!0}},{key:"setValue",value:function e(t){this[ly].setValue(t)}},{key:"getValue",value:function e(){return this[ly].getValue()}},{key:"remove",value:function e(){this[ly].remove()}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Render;return this[ly].export(t)}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function nm(e){return(nm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,am(r.key),r)}}function im(e,t,n){return t&&om(e.prototype,t),n&&om(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function am(e){var t=um(e,"string");return"symbol"==nm(t)?t:t+""}function um(e,t){if("object"!=nm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var cm=function(){function e(t){rm(this,e),this[dy]=void 0,this[dy]=t}return im(e,[{key:"id",get:function e(){return this[dy].id}},{key:"path",get:function e(){return this[dy].path}},{key:"node",get:function e(){return RO.create(this[dy].getNode())}},{key:"getProp",value:function e(t){return tm.create(this[dy].getProp(t))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t){return tm.create(this[dy].getProp(q(t)))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"has",value:function e(t){return this[dy].has(t)}},{key:"add",value:function e(t,n){return this[dy].add(t,n)}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function sm(e){return(sm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dm(r.key),r)}}function pm(e,t,n){return t&&fm(e.prototype,t),n&&fm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dm(e){var t=hm(e,"string");return"symbol"==sm(t)?t:t+""}function hm(e,t){if("object"!=sm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var vm=function(){function e(t){lm(this,e),this[vy]=void 0,this[vy]=t.selection}return pm(e,[{key:"selected",get:function e(){return this[vy].selected}},{key:"node",get:function e(){var t=this.getNodes();return t&&t.length>0?t[0]:null}},{key:"select",value:function e(t){this[vy].select(t)}},{key:"selectAll",value:function e(t){this[vy].selectAll(t)}},{key:"remove",value:function e(t){this[vy].remove(t)}},{key:"clear",value:function e(){this[vy].clear()}},{key:"has",value:function e(t){return this[vy].has(t)}},{key:"add",value:function e(t){this[vy].add(t)}},{key:"getNodes",value:function e(){var t=this[vy].getNodes(),n=[];return t.forEach((function(e){var t=RO.create(e);t&&n.push(t)})),n}},{key:"getTopNodes",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this[vy].getTopNodes(t),r=[];return n.forEach((function(e){var t=RO.create(e);t&&r.push(t)})),r}},{key:"onSelectionChange",value:function e(t){return this[vy].onSelectionChange(t)}}])}();function ym(e){return(ym="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wm(r.key),r)}}function gm(e,t,n){return t&&bm(e.prototype,t),n&&bm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function wm(e){var t=Om(e,"string");return"symbol"==ym(t)?t:t+""}function Om(e,t){if("object"!=ym(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ym(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var jm=function(){function e(t){mm(this,e),this[iy]=void 0,this[iy]=t}return gm(e,[{key:yy,get:function e(){return this[iy].getHistory()}},{key:"go",value:function e(t){this[yy].go(t)}},{key:"back",value:function e(){this[yy].back()}},{key:"forward",value:function e(){this[yy].forward()}},{key:"savePoint",value:function e(){this[yy].savePoint()}},{key:"isSavePoint",value:function e(){return this[yy].isSavePoint()}},{key:"getState",value:function e(){return this[yy].getState()}},{key:"onChangeState",value:function e(t){return this[yy].onChangeState(t)}},{key:"onChangeCursor",value:function e(t){return this[yy].onChangeCursor(t)}}])}();function Em(e){return(Em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function km(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Pm(r.key),r)}}function _m(e,t,n){return t&&Sm(e.prototype,t),n&&Sm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Pm(e){var t=xm(e,"string");return"symbol"==Em(t)?t:t+""}function xm(e,t){if("object"!=Em(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Em(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Nm=function(){function e(t){km(this,e),this[wy]=void 0,this[wy]=t}return _m(e,[{key:"target",get:function e(){return RO.create(this[wy].target)}},{key:"detail",get:function e(){return this[wy].detail}},{key:"event",get:function e(){return this[wy].event}},{key:"clone",value:function t(n){return new e(this[wy].clone(n))}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function Cm(){return(Cm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Tm(e){return(Tm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Am(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Mm(r.key),r)}}function Rm(e,t,n){return t&&Am(e.prototype,t),n&&Am(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Mm(e){var t=Dm(e,"string");return"symbol"==Tm(t)?t:t+""}function Dm(e,t){if("object"!=Tm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Tm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Im=function(){function e(t){Lm(this,e),this[ay]=void 0,this[Sy]=void 0,this[ay]=t,this[Sy]={isDragNodeObject:l.E,isDragAnyObject:l.C,isShaken:yc,contains:et,LocationDetailType:c.k,isLocationChildrenDetail:l.M,ScrollTarget:Zu,isSettingField:l.Y,TransformStage:c.i,SettingField:il,LiveEditing:oo,DragObjectType:c.g,isDragNodeDataObject:l.D,isNode:l.P,DropLocation:es,Designer:Af,Node:Ye,LowCodePluginManager:Qp,DesignerView:dp}}return Rm(e,[{key:ry,get:function e(){return this[ay].get("designer")}},{key:"isSettingField",value:function e(t){return Object(l.Y)(t)}},{key:"TransformStage",get:function e(){return c.i}},{key:"SettingField",get:function e(){return il}},{key:"LiveEditing",get:function e(){return oo}},{key:"DragObjectType",get:function e(){return c.g}},{key:"isDragNodeDataObject",value:function e(t){return Object(l.D)(t)}},{key:"isNode",value:function e(t){return Object(l.P)(t)}},{key:"dragon",get:function e(){return pj.create(this[ry].dragon,!1)}}])}(),Bm=function(){function e(t){Lm(this,e),this[oy]=void 0,this[Py]=void 0,this[oy]=t,this[Py]={Workbench:Gv,createSettingFieldView:this.createSettingFieldView,PopupContext:P_,PopupPipe:x_,SettingsPrimaryPane:rN,registerDefaults:UN,Skeleton:US}}return Rm(e,[{key:"Workbench",get:function e(){var t=this[oy];return function(e){return React.createElement(Gv,Cm({},e,{skeleton:t}))}}},{key:"createSettingFieldView",value:function e(t,n){return YP(t[fy]||t,n)}},{key:"PopupContext",get:function e(){return P_}},{key:"PopupPipe",get:function e(){return x_}}])}(),Vm=function(){function e(){Lm(this,e)}return Rm(e,[{key:"isNodeSchema",value:function e(t){return Object(l.Q)(t)}},{key:"isFormEvent",value:function e(t){return Object(l.H)(t)}},{key:"compatibleLegaoSchema",value:function e(t){return Object(l.m)(t)}},{key:"getNodeSchemaById",value:function e(t,n){return Object(l.u)(t,n)}},{key:"getConvertedExtraKey",value:function e(t){return q(t)}},{key:"getOriginalExtraKey",value:function e(t){return K(t)}},{key:"executeTransaction",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.j.REPAINT;l.hb.executeTransaction(t,n)}},{key:"createIntl",value:function e(t){return Object(u.createIntl)(t)}},{key:"intl",value:function e(t,n){return Object(u.intl)(t,n)}}])}(),Fm=function(){function e(t){var n=this;Lm(this,e),this[ay]=void 0,this[_y]=void 0,this.createSetterContent=function(e,t){var r;return n[ay].get("setters").createSetterContent(e,t)},this[ay]=t,this[_y]={Editor:u.Editor,globalContext:u.globalContext,runInAction:u.runInAction,Title:u.Title,Tip:u.Tip,shallowIntl:u.shallowIntl,createIntl:u.createIntl,intl:u.intl,createSetterContent:this.createSetterContent.bind(this),globalLocale:u.globalLocale,obx:u.obx,action:u.action,engineConfig:u.engineConfig,observable:u.observable,makeObservable:u.makeObservable,untracked:u.untracked,computed:u.computed,observer:u.observer}}return Rm(e,[{key:"Title",get:function e(){return u.Title}},{key:"Tip",get:function e(){return u.Tip}},{key:"shallowIntl",value:function e(t){return Object(u.shallowIntl)(t)}},{key:"createIntl",value:function e(t){return Object(u.createIntl)(t)}},{key:"intl",value:function e(t,n){return Object(u.intl)(t,n)}},{key:"globalLocale",get:function e(){return u.globalLocale}},{key:"obx",get:function e(){return u.obx}},{key:"action",get:function e(){return u.action}},{key:"engineConfig",get:function e(){return u.engineConfig}},{key:"runInAction",get:function e(){return u.runInAction}},{key:"observable",get:function e(){return u.observable}},{key:"makeObservable",value:function e(t,n,r){return Object(u.makeObservable)(t,n,r)}},{key:"untracked",value:function e(t){return Object(u.untracked)(t)}},{key:"computed",get:function e(){return u.computed}},{key:"observer",value:function e(t){return Object(u.observer)(t)}}])}(),Gm=function(){function e(t,n){Lm(this,e),this.__designerCabin=void 0,this.__skeletonCabin=void 0,this.__editorCabin=void 0,this.__utils=void 0,this.__designerCabin=new Im(t),this.__skeletonCabin=new Bm(n),this.__editorCabin=new Fm(t),this.__utils=new Vm}return Rm(e,[{key:"utils",get:function e(){return this.__utils}},{key:"editorCabin",get:function e(){return this.__editorCabin}},{key:"designerCabin",get:function e(){return this.__designerCabin}},{key:"skeletonCabin",get:function e(){return this.__skeletonCabin}},{key:"objects",get:function e(){return{TransformStage:c.i}}}])}();function Hm(e){return(Hm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Um(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$m(r.key),r)}}function Wm(e,t,n){return t&&zm(e.prototype,t),n&&zm(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $m(e){var t=Xm(e,"string");return"symbol"==Hm(t)?t:t+""}function Xm(e,t){if("object"!=Hm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Ym=Object(l.t)({level:"warn",bizName:"shell-event"}),qm=Symbol("eventBus"),Km=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Um(this,e),this.workspaceMode=void 0,this[qm]=void 0,this.options=void 0,this.workspaceMode=r,this[qm]=t,this.options=n,this.options.prefix||Ym.warn("prefix is required while initializing Event")}return Wm(e,[{key:"on",value:function e(t,n){return Object(l.S)(t)?this[qm].on(t,n):(Ym.warn("fail to monitor on event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"prependListener",value:function e(t,n){return Object(l.S)(t)?this[qm].prependListener(t,n):(Ym.warn("fail to prependListener event ".concat(t,", event should have a prefix like 'somePrefix:eventName'")),function(){})}},{key:"off",value:function e(t,n){this[qm].off(t,n)}},{key:"emit",value:function e(t){var n;if(this.options.prefix){for(var r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[qm]).emit.apply(n,["".concat(this.options.prefix,":").concat(t)].concat(o))}else Ym.warn("Event#emit has been forbidden while prefix is not specified")}},{key:"__internalEmit__",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this[qm]).emit.apply(n,[t].concat(o))}}])}();function Jm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{prefix:"common"};return new Km(e.eventBus,t)}function Qm(e){return(Qm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nb(r.key),r)}}function tb(e,t,n){return t&&eb(e.prototype,t),n&&eb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nb(e){var t=rb(e,"string");return"symbol"==Qm(t)?t:t+""}function rb(e,t){if("object"!=Qm(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qm(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var ob=Symbol("innerHotkey"),ib=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Zm(this,e),this.workspaceMode=void 0,this[ob]=void 0,this.workspaceMode=n,this[ob]=t}return tb(e,[{key:xy,get:function e(){if(this.workspaceMode)return this[ob];var t=u.globalContext.get("workspace");return t.isActive?t.window.innerHotkey:this[ob]}},{key:"callbacks",get:function e(){return this[xy].callBacks}},{key:"callBacks",get:function e(){return this.callbacks}},{key:"bind",value:function e(t,n,r){var o=this;return this[xy].bind(t,n,r),function(){o[xy].unbind(t,n,r)}}}])}();function ab(e){return(ab="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ub(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lb(r.key),r)}}function sb(e,t,n){return t&&cb(e.prototype,t),n&&cb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lb(e){var t=fb(e,"string");return"symbol"==ab(t)?t:t+""}function fb(e,t){if("object"!=ab(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ab(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pb=Symbol("logger"),db=function(){function e(t){ub(this,e),this[pb]=void 0,this[pb]=Object(l.t)(t)}return sb(e,[{key:"debug",value:function e(){var t;(t=this[pb]).debug.apply(t,arguments)}},{key:"info",value:function e(){var t;(t=this[pb]).info.apply(t,arguments)}},{key:"warn",value:function e(){var t;(t=this[pb]).warn.apply(t,arguments)}},{key:"error",value:function e(){var t;(t=this[pb]).error.apply(t,arguments)}},{key:"log",value:function e(){var t;(t=this[pb]).log.apply(t,arguments)}}])}();function hb(e){return(hb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vb(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=yb(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function yb(e,t){if(e){if("string"==typeof e)return mb(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mb(e,t):void 0}}function mb(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */bb=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==hb(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(hb(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function gb(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function wb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){gb(i,r,o,a,u,"next",e)}function u(e){gb(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ob(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kb(r.key),r)}}function Eb(e,t,n){return t&&jb(e.prototype,t),n&&jb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kb(e){var t=Sb(e,"string");return"symbol"==hb(t)?t:t+""}function Sb(e,t){if("object"!=hb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _b=Object(l.t)({level:"warn",bizName:"shell-material"}),Pb=Symbol("editor"),xb=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ob(this,e),this.workspaceMode=void 0,this[Pb]=void 0,this.registerMetadataTransducer=function(e,t,r){n[ry].componentActions.registerMetadataTransducer(e,t,r)},this.addBuiltinComponentAction=function(e){n[ry].componentActions.addBuiltinComponentAction(e)},this.refreshComponentMetasMap=function(){n[ry].refreshComponentMetasMap()},this.workspaceMode=r,this[Pb]=t}return Eb(e,[{key:ay,get:function e(){if(this.workspaceMode)return this[Pb];var t=u.globalContext.get("workspace");return t.isActive?t.window.editor?t.window.editor:(_b.error("Material api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[Pb]):this[Pb]}},{key:ry,get:function e(){return this[ay].get("designer")}},{key:"componentsMap",get:function e(){return this[ry].componentsMap}},{key:"setAssets",value:function(){var e=wb(bb().mark((function e(t){return bb().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[ay].setAssets(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getAssets",value:function e(){return this[ay].get("assets")}},{key:"loadIncrementalAssets",value:function e(t){return this[ry].loadIncrementalAssets(t)}},{key:"getRegisteredMetadataTransducers",value:function e(){return this[ry].componentActions.getRegisteredMetadataTransducers()}},{key:"getComponentMeta",value:function e(t){var n=this[ry].getComponentMeta(t);return Yy.create(n)}},{key:"createComponentMeta",value:function e(t){return Yy.create(this[ry].createComponentMeta(t))}},{key:"isComponentMeta",value:function e(t){return Pn(t)}},{key:"getComponentMetasMap",value:function e(){var t=new Map,n,r=vb(this[ry].getComponentMetasMap().keys()),o;try{for(r.s();!(o=r.n()).done;){var i=o.value;t.set(i,this.getComponentMeta(i))}}catch(e){r.e(e)}finally{r.f()}return t}},{key:"removeBuiltinComponentAction",value:function e(t){this[ry].componentActions.removeBuiltinComponentAction(t)}},{key:"modifyBuiltinComponentAction",value:function e(t,n){this[ry].componentActions.modifyBuiltinComponentAction(t,n)}},{key:"onChangeAssets",value:function e(t){var n=[this[ay].onChange("assets",t),this[ay].eventBus.on("designer.incrementalAssetsReady",t)];return function(){n.forEach((function(e){return e&&e()}))}}},{key:"addContextMenuOption",value:function e(t){this[ry].contextMenuActions.addMenuAction(t)}},{key:"removeContextMenuOption",value:function e(t){this[ry].contextMenuActions.removeMenuAction(t)}},{key:"adjustContextMenuLayout",value:function e(t){this[ry].contextMenuActions.adjustMenuLayout(t)}}])}();function Nb(e){return(Nb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cb(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Cb=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Nb(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Nb(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function Tb(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Lb(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Tb(i,r,o,a,u,"next",e)}function u(e){Tb(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Ab(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Db(r.key),r)}}function Mb(e,t,n){return t&&Rb(e.prototype,t),n&&Rb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Db(e){var t=Ib(e,"string");return"symbol"==Nb(t)?t:t+""}function Ib(e,t){if("object"!=Nb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Nb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Bb=Symbol("plugin"),Vb=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ab(this,e),this.workspaceMode=void 0,this[Bb]=void 0,this.workspaceMode=n,this[Bb]=t}return Mb(e,[{key:Ny,get:function e(){if(this.workspaceMode)return this[Bb];var t=u.globalContext.get("workspace");return t.isActive?t.window.innerPlugins:this[Bb]}},{key:"register",value:function(){var e=Lb(Cb().mark((function e(t,n,r){return Cb().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this[Ny].register(t,n,r);case 2:case"end":return o.stop()}}),e,this)})));function t(t,n,r){return e.apply(this,arguments)}return t}()},{key:"init",value:function(){var e=Lb(Cb().mark((function e(t){return Cb().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[Ny].init(t);case 2:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPluginPreference",value:function e(t){return this[Ny].getPluginPreference(t)}},{key:"get",value:function e(t){var n=this[Ny].get(t);return n?new Rj(n):null}},{key:"getAll",value:function e(){var t;return null===(t=this[Ny].getAll())||void 0===t?void 0:t.map((function(e){return new Rj(e)}))}},{key:"has",value:function e(t){return this[Ny].has(t)}},{key:"delete",value:function(){var e=Lb(Cb().mark((function e(t){return Cb().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this[Ny].delete(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){var o=t[Ny];if(o.pluginsMap.has(n)){var i;if(o.pluginsMap.get(n).disabled)return;return null===(i=o.pluginsMap.get(n))||void 0===i?void 0:i.toProxy()}return Reflect.get(t,n,r)}})}}])}();function Fb(e){return(Fb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Hb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,zb(r.key),r)}}function Ub(e,t,n){return t&&Hb(e.prototype,t),n&&Hb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function zb(e){var t=Wb(e,"string");return"symbol"==Fb(t)?t:t+""}function Wb(e,t){if("object"!=Fb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var $b=function(){function e(t){Gb(this,e),this[jy]=void 0,this[jy]=t}return Ub(e,[{key:"components",get:function e(){return this[jy].components}},{key:"rerender",value:function e(){return this[jy].rerender()}}],[{key:"create",value:function t(n){return new e(n)}}])}();function Xb(e){return(Xb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function qb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jb(r.key),r)}}function Kb(e,t,n){return t&&qb(e.prototype,t),n&&qb(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Jb(e){var t=Qb(e,"string");return"symbol"==Xb(t)?t:t+""}function Qb(e,t){if("object"!=Xb(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Xb(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Zb=function(){function e(t){Yb(this,e),this[Oy]=void 0,this[Oy]=t}return Kb(e,[{key:"contentWindow",get:function e(){return this[Oy].contentWindow}},{key:"contentDocument",get:function e(){return this[Oy].contentDocument}},{key:"renderer",get:function e(){if(this[Oy].renderer)return $b.create(this[Oy].renderer)}},{key:"set",value:function e(t,n){this[Oy].set(t,n)}},{key:"get",value:function e(t){return this[Oy].get(t)}},{key:"scrollToNode",value:function e(t){this[Oy].scrollToNode(t[uy])}},{key:"rerender",value:function e(){this[Oy].rerender()}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function eg(e){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ng(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tg(Object(n),!0).forEach((function(t){rg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rg(e,t,n){return(t=ug(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function og(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ig(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ug(r.key),r)}}function ag(e,t,n){return t&&ig(e.prototype,t),n&&ig(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ug(e){var t=cg(e,"string");return"symbol"==eg(t)?t:t+""}function cg(e,t){if("object"!=eg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=eg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var sg=Object(l.t)({level:"warn",bizName:"shell-project"}),lg=Symbol("innerProject"),fg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];og(this,e),this.workspaceMode=void 0,this[lg]=void 0,this[Oy]=void 0,this.workspaceMode=n,this[lg]=t}return ag(e,[{key:ny,get:function e(){if(this.workspaceMode)return this[lg];var t=u.globalContext.get("workspace"),n;return t.isActive?null!==(n=t.window)&&void 0!==n&&n.innerProject?t.window.innerProject:(sg.error("project api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[lg]):this[lg]}},{key:ay,get:function e(){var t;return null===(t=this[ny])||void 0===t?void 0:t.designer.editor}},{key:"currentDocument",get:function e(){return this.getCurrentDocument()}},{key:"documents",get:function e(){return this[ny].documents.map((function(e){return Jw.create(e)}))}},{key:"simulatorHost",get:function e(){return Zb.create(this[ny].simulator||this[Oy])}},{key:"simulator",get:function e(){return this.simulatorHost}},{key:"openDocument",value:function e(t){var n=this[ny].open(t);return n?Jw.create(n):null}},{key:"createDocument",value:function e(t){var n=this[ny].createDocument(t);return Jw.create(n)}},{key:"removeDocument",value:function e(t){this[ny].removeDocument(t[iy])}},{key:"getDocumentByFileName",value:function e(t){var n=this[ny].getDocumentByFileName(t);return Jw.create(n)}},{key:"getDocumentById",value:function e(t){return Jw.create(this[ny].getDocument(t))}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Render;return this[ny].getSchema(t)}},{key:"importSchema",value:function e(t){this[ny].load(t,!0)}},{key:"getCurrentDocument",value:function e(){return Jw.create(this[ny].currentDocument)}},{key:"addPropsTransducer",value:function e(t,n){this[ny].designer.addPropsReducer(t,n)}},{key:"onRemoveDocument",value:function e(t){return this[ay].eventBus.on("designer.document.remove",(function(e){return t(e)}))}},{key:"onChangeDocument",value:function e(t){var n=this[ny].onCurrentDocumentChange((function(e){t(Jw.create(e))}));return this[ny].currentDocument&&t(Jw.create(this[ny].currentDocument)),n}},{key:"onSimulatorHostReady",value:function e(t){var n;return this[ny].onSimulatorReady((function(e){t(Zb.create(e))}))}},{key:"onSimulatorRendererReady",value:function e(t){var n;return this[ny].onRendererReady((function(){t()}))}},{key:"setI18n",value:function e(t){this[ny].set("i18n",t)}},{key:"setConfig",value:function e(){if(2===arguments.length){var t=this[ny].get("config");this[ny].set("config",ng(ng({},t),{},rg({},arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1])))}else this[ny].set("config",arguments.length<=0?void 0:arguments[0])}}],[{key:"create",value:function t(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new e(n,r)}}])}();function pg(e){return(pg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yg(r.key),r)}}function vg(e,t,n){return t&&hg(e.prototype,t),n&&hg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yg(e){var t=mg(e,"string");return"symbol"==pg(t)?t:t+""}function mg(e,t){if("object"!=pg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bg=Symbol("setters"),gg=Symbol("setters"),wg=Object(l.t)({level:"warn",bizName:"shell-setters"}),Og=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];dg(this,e),this.workspaceMode=void 0,this[bg]=void 0,this.getSetter=function(e){return n[gg].getSetter(e)},this.getSettersMap=function(){return n[gg].getSettersMap()},this.registerSetter=function(e,t){return n[gg].registerSetter(e,t)},this.createSetterContent=function(e,t){return n[gg].createSetterContent(e,t)},this.workspaceMode=r,this[bg]=t}return vg(e,[{key:gg,get:function e(){var t=this;if(this.workspaceMode)return this[bg];var n=u.globalContext.get("workspace");return n.isActive?Object(u.untracked)((function(){var e;return null!==(e=n.window)&&void 0!==e&&e.innerSetters?n.window.innerSetters:(wg.error("setter api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),t[bg])})):this[bg]}}])}();function jg(e){return(jg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Eg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_g(r.key),r)}}function Sg(e,t,n){return t&&kg(e.prototype,t),n&&kg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _g(e){var t=Pg(e,"string");return"symbol"==jg(t)?t:t+""}function Pg(e,t){if("object"!=jg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var xg=function(){function e(t){Eg(this,e),this[Fy]=void 0,this[Fy]=t}return Sg(e,[{key:"name",get:function e(){return this[Fy].name}},{key:"visible",get:function e(){return this[Fy].visible}},{key:"disable",value:function e(){var t,n;null===(t=(n=this[Fy]).disable)||void 0===t||t.call(n)}},{key:"enable",value:function e(){var t,n;null===(t=(n=this[Fy]).enable)||void 0===t||t.call(n)}},{key:"hide",value:function e(){this[Fy].hide()}},{key:"show",value:function e(){this[Fy].show()}},{key:"toggle",value:function e(){this[Fy].toggle()}}])}();function Ng(e){return(Ng="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Cg(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cg(Object(n),!0).forEach((function(t){Lg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cg(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Lg(e,t,n){return(t=Dg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ag(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Dg(r.key),r)}}function Mg(e,t,n){return t&&Rg(e.prototype,t),n&&Rg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dg(e){var t=Ig(e,"string");return"symbol"==Ng(t)?t:t+""}function Ig(e,t){if("object"!=Ng(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ng(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Bg=Symbol("skeleton"),Vg=Object(l.t)({level:"warn",bizName:"shell-skeleton"}),Fg=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Ag(this,e),this.workspaceMode=void 0,this[Bg]=void 0,this.pluginName=void 0,this.workspaceMode=r,this[Bg]=t,this.pluginName=n}return Mg(e,[{key:oy,get:function e(){if(this.workspaceMode)return this[Bg];var t=u.globalContext.get("workspace"),n;return t.isActive?null!==(n=t.window)&&void 0!==n&&n.innerSkeleton?t.window.innerSkeleton:(Vg.error("skeleton api \u8c03\u7528\u65f6\u673a\u51fa\u73b0\u95ee\u9898\uff0c\u8bf7\u68c0\u67e5"),this[Bg]):this[Bg]}},{key:"add",value:function e(t,n){var r=Tg(Tg({},t),{},{pluginName:this.pluginName}),o=this[oy].add(r,n);if(o)return new xg(o)}},{key:"remove",value:function e(t){var n,r=t.area,o=t.name,i=this[oy];Gg(r)&&(null===(n=i[Gg(r)].container)||void 0===n||n.remove(o))}},{key:"getAreaItems",value:function e(t){var n;return null===(n=this[oy][Gg(t)].container.items)||void 0===n?void 0:n.map((function(e){return new xg(e)}))}},{key:"getPanel",value:function e(t){var n=this[oy].getPanel(t);if(n)return new xg(n)}},{key:"showPanel",value:function e(t){var n;null===(n=this[oy].getPanel(t))||void 0===n||n.show()}},{key:"hidePanel",value:function e(t){var n;null===(n=this[oy].getPanel(t))||void 0===n||n.hide()}},{key:"showWidget",value:function e(t){var n;null===(n=this[oy].getWidget(t))||void 0===n||n.show()}},{key:"enableWidget",value:function e(t){var n,r;null===(n=this[oy].getWidget(t))||void 0===n||null===(r=n.enable)||void 0===r||r.call(n)}},{key:"hideWidget",value:function e(t){var n;null===(n=this[oy].getWidget(t))||void 0===n||n.hide()}},{key:"disableWidget",value:function e(t){var n,r;null===(n=this[oy].getWidget(t))||void 0===n||null===(r=n.disable)||void 0===r||r.call(n)}},{key:"showArea",value:function e(t){var n;null===(n=this[oy][t])||void 0===n||n.show()}},{key:"hideArea",value:function e(t){var n;null===(n=this[oy][t])||void 0===n||n.hide()}},{key:"onShowPanel",value:function e(t){var n=this[oy].editor;return n.eventBus.on(HS.PANEL_SHOW,(function(e,n){t(e,new xg(n))})),function(){return n.eventBus.off(HS.PANEL_SHOW,t)}}},{key:"onDisableWidget",value:function e(t){var n=this[oy].editor;return n.eventBus.on(HS.WIDGET_DISABLE,(function(e,n){t(e,new xg(n))})),function(){return n.eventBus.off(HS.WIDGET_DISABLE,t)}}},{key:"onEnableWidget",value:function e(t){var n=this[oy].editor;return n.eventBus.on(HS.WIDGET_ENABLE,(function(e,n){t(e,new xg(n))})),function(){return n.eventBus.off(HS.WIDGET_ENABLE,t)}}},{key:"onHidePanel",value:function e(t){var n=this[oy].editor;return n.eventBus.on(HS.PANEL_HIDE,(function(e,n){t(e,new xg(n))})),function(){return n.eventBus.off(HS.PANEL_HIDE,t)}}},{key:"onShowWidget",value:function e(t){var n=this[oy].editor;return n.eventBus.on(HS.WIDGET_SHOW,(function(e,n){t(e,new xg(n))})),function(){return n.eventBus.off(HS.WIDGET_SHOW,t)}}},{key:"onHideWidget",value:function e(t){var n=this[oy].editor;return n.eventBus.on(HS.WIDGET_HIDE,(function(e,n){t(e,new xg(n))})),function(){return n.eventBus.off(HS.WIDGET_HIDE,t)}}},{key:"registerConfigTransducer",value:function e(t,n,r){this[oy].registerConfigTransducer(t,n,r)}}])}();function Gg(e){switch(e){case"leftArea":case"left":return"leftArea";case"rightArea":case"right":return"rightArea";case"topArea":case"top":return"topArea";case"toolbar":return"toolbar";case"mainArea":case"main":case"center":case"centerArea":return"mainArea";case"bottomArea":case"bottom":return"bottomArea";case"leftFixedArea":return"leftFixedArea";case"leftFloatArea":return"leftFloatArea";case"stages":return"stages";case"subTopArea":return"subTopArea";default:throw new Error("".concat(e," not supported"))}}function Hg(e){return(Hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ug(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zg(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ug(Object(n),!0).forEach((function(t){Wg(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ug(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Wg(e,t,n){return(t=qg(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qg(r.key),r)}}function Yg(e,t,n){return t&&Xg(e.prototype,t),n&&Xg(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qg(e){var t=Kg(e,"string");return"symbol"==Hg(t)?t:t+""}function Kg(e,t){if("object"!=Hg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Jg=Symbol("clipboardInstace"),Qg=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];$g(this,e),this.workspaceMode=void 0,this[ay]=void 0,this[Jg]=void 0,this.workspaceMode=n,this[ay]=t,this[Jg]=new oE}return Yg(e,[{key:ry,get:function e(){return this[ay].get("designer")}},{key:"dragon",get:function e(){return pj.create(this[ry].dragon,this.workspaceMode)}},{key:"activeTracker",get:function e(){var t;return new Pj(this[ry].activeTracker)}},{key:"isInLiveEditing",get:function e(){var t,n,r,o;return Boolean(null===(t=this[ay].get("designer"))||void 0===t||null===(n=t.project)||void 0===n||null===(r=n.simulator)||void 0===r||null===(o=r.liveEditing)||void 0===o?void 0:o.editing)}},{key:"clipboard",get:function e(){return this[Jg]}},{key:"createScrollTarget",value:function e(t){return new Zu(t)}},{key:"createScroller",value:function e(t){return this[ry].createScroller(t)}},{key:"createLocation",value:function e(t){return new Nm(this[ry].createLocation(zg(zg({},t),{},{target:t.target[uy]})))}},{key:"dropLocation",get:function e(){return Nm.create(this[ry].dropLocation||null)}}])}();function Zg(e){return(Zg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ew(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ew=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Zg(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Zg(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function tw(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function nw(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){tw(i,r,o,a,u,"next",e)}function u(e){tw(i,r,o,a,u,"throw",e)}a(void 0)}))}}function rw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ow(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,aw(r.key),r)}}function iw(e,t,n){return t&&ow(e.prototype,t),n&&ow(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function aw(e){var t=uw(e,"string");return"symbol"==Zg(t)?t:t+""}function uw(e,t){if("object"!=Zg(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Zg(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var cw=function(){function e(t){rw(this,e),this[Cy]=void 0,this[Cy]=t}return iw(e,[{key:"resourceList",get:function e(){return this[Cy].getResourceList().map((function(e){return new gj(e)}))}},{key:"setResourceList",value:function e(t){this[Cy].setResourceList(t)}},{key:"onResourceListChange",value:function e(t){return this[Cy].onResourceListChange(t)}},{key:"isActive",get:function e(){return this[Cy].isActive}},{key:"window",get:function e(){return this[Cy].window?new Jj(this[Cy].window):null}},{key:"resourceTypeList",get:function e(){return Array.from(this[Cy].resourceTypeMap.values()).map((function(e){var t=e.name,n=e.type,r=e.resourceTypeModel({},{}),o,i;return{resourceName:t,resourceType:n,description:r.description,editorViews:r.editorViews.map((function(e){return{viewName:e.viewName,viewType:e.viewType||"editor"}}))}}))}},{key:"onWindowRendererReady",value:function e(t){return this[Cy].onWindowRendererReady(t)}},{key:"registerResourceType",value:function e(t){this[Cy].registerResourceType(t)}},{key:"openEditorWindow",value:function(){var e=nw(ew().mark((function e(){var t,n=arguments;return ew().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if("string"!=typeof n[0]){r.next=5;break}return r.next=3,this[Cy].openEditorWindow(n[0],n[1],n[2],n[3],n[4]);case 3:r.next=7;break;case 5:return r.next=7,this[Cy].openEditorWindowByResource(null===(t=n[0])||void 0===t?void 0:t[Ry],n[1]);case 7:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openEditorWindowById",value:function e(t){this[Cy].openEditorWindowById(t)}},{key:"removeEditorWindow",value:function e(){var t;"string"==typeof arguments[0]?this[Cy].removeEditorWindow(arguments[0],arguments[1]):this[Cy].removeEditorWindowByResource(null===(t=arguments[0])||void 0===t?void 0:t[Ry])}},{key:"removeEditorWindowById",value:function e(t){this[Cy].removeEditorWindowById(t)}},{key:"plugins",get:function e(){return new Vb(this[Cy].plugins,!0).toProxy()}},{key:"skeleton",get:function e(){return new Fg(this[Cy].skeleton,"workspace",!0)}},{key:"windows",get:function e(){return this[Cy].windows.map((function(e){return new Jj(e)}))}},{key:"onChangeWindows",value:function e(t){return this[Cy].onChangeWindows(t)}},{key:"onChangeActiveWindow",value:function e(t){return this[Cy].onChangeActiveWindow(t)}},{key:"onChangeActiveEditorView",value:function e(t){return this[Cy].onChangeActiveEditorView(t)}}])}();function sw(e){return(sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,dw(r.key),r)}}function pw(e,t,n){return t&&fw(e.prototype,t),n&&fw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function dw(e){var t=hw(e,"string");return"symbol"==sw(t)?t:t+""}function hw(e,t){if("object"!=sw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=sw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var vw=function(){function e(t){lw(this,e),this[Dy]=void 0,this[Dy]=t}return pw(e,[{key:"has",value:function e(t){return this[Dy].has(t)}},{key:"get",value:function e(t,n){return this[Dy].get(t,n)}},{key:"set",value:function e(t,n){this[Dy].set(t,n)}},{key:"setConfig",value:function e(t){this[Dy].setConfig(t)}},{key:"onceGot",value:function e(t){return this[Dy].onceGot(t)}},{key:"onGot",value:function e(t,n){return this[Dy].onGot(t,n)}},{key:"getPreference",value:function e(){return this[Dy].getPreference()}}])}();function yw(e){var t=e.children,n=e.menus,r=e.pluginContext,a=Object(o.useCallback)((function(e){var t;e.preventDefault(),e.stopPropagation();var o=function e(){var n;null===(n=t)||void 0===n||n()},i=Object(l.cb)(Object(l.db)(n,{destroy:o,pluginContext:r}),{pluginContext:r});null!=i&&i.length&&(t=Object(l.o)(i,{event:e}))}),[n]);if(!u.engineConfig.get("enableContextMenu"))return i.a.createElement(i.a.Fragment,null,t);if(!n)return i.a.createElement(i.a.Fragment,null,t);var c=i.a.Children.map(t,(function(e){return i.a.cloneElement(e,{onContextMenu:a})}));return i.a.createElement(i.a.Fragment,null,c)}function mw(e){return(mw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bw(){return(bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function gw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ww(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,jw(r.key),r)}}function Ow(e,t,n){return t&&ww(e.prototype,t),n&&ww(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function jw(e){var t=Ew(e,"string");return"symbol"==mw(t)?t:t+""}function Ew(e,t){if("object"!=mw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=mw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}yw.create=function(e,t,n){n.preventDefault(),n.stopPropagation();var r=Object(l.cb)(Object(l.db)(t,{pluginContext:e}),{pluginContext:e});if(null!=r&&r.length)return Object(l.o)(r,{event:n})};var kw=function(){function e(t){gw(this,e),this[ay]=void 0,this.Balloon=_i.Balloon,this.Breadcrumb=_i.Breadcrumb,this.Button=_i.Button,this.Card=_i.Card,this.Checkbox=_i.Checkbox,this.DatePicker=_i.DatePicker,this.Dialog=_i.Dialog,this.Dropdown=_i.Dropdown,this.Form=_i.Form,this.Icon=_i.Icon,this.Input=_i.Input,this.Loading=_i.Loading,this.Message=_i.Message,this.Overlay=_i.Overlay,this.Pagination=_i.Pagination,this.Radio=_i.Radio,this.Search=_i.Search,this.Select=_i.Select,this.SplitButton=_i.SplitButton,this.Step=_i.Step,this.Switch=_i.Switch,this.Tab=_i.Tab,this.Table=_i.Table,this.Tree=_i.Tree,this.TreeSelect=_i.TreeSelect,this.Upload=_i.Upload,this.Divider=_i.Divider,this.ContextMenu=void 0,this[ay]=t;var n=function e(n){var r=t.get("pluginContext");return React.createElement(yw,bw({},n,{pluginContext:r}))};n.create=function(e,n){var r=t.get("pluginContext");return yw.create(r,e,n)},this.ContextMenu=n}return Ow(e,[{key:"Tip",get:function e(){return u.Tip}},{key:"HelpTip",get:function e(){return u.HelpTip}},{key:"Title",get:function e(){return u.Title}}])}();function Sw(e){return(Sw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nw(r.key),r)}}function xw(e,t,n){return t&&Pw(e.prototype,t),n&&Pw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nw(e){var t=Cw(e,"string");return"symbol"==Sw(t)?t:t+""}function Cw(e,t){if("object"!=Sw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Sw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Tw=Symbol("options"),Lw=new Set,Aw=function(){function e(t,n,r){_w(this,e),this[Gy]=void 0,this[Tw]=void 0,this[Vy]=void 0,this[Gy]=t,this[Tw]=r,this[Vy]=n;var o=null==r?void 0:r.commandScope;if(o&&Lw.has(o))throw new Error('Command scope "'.concat(o,'" has been registered.'))}return xw(e,[{key:"registerCommand",value:function e(t){this[Gy].registerCommand(t,this[Tw])}},{key:"batchExecuteCommand",value:function e(t){this[Gy].batchExecuteCommand(t,this[Vy])}},{key:"executeCommand",value:function e(t,n){this[Gy].executeCommand(t,n)}},{key:"listCommands",value:function e(){return this[Gy].listCommands()}},{key:"unregisterCommand",value:function e(t){this[Gy].unregisterCommand(t)}},{key:"onCommandError",value:function e(t){this[Gy].onCommandError(t)}}])}();function Rw(e){return(Rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Dw(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bw(r.key),r)}}function Iw(e,t,n){return t&&Dw(e.prototype,t),n&&Dw(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bw(e){var t=Vw(e,"string");return"symbol"==Rw(t)?t:t+""}function Vw(e,t){if("object"!=Rw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Fw=function(){function e(t){Mw(this,e),this[cy]=void 0,this[cy]=t}return Iw(e,[{key:"setNodes",value:function e(){this[cy].setNodes()}},{key:"getModalNodes",value:function e(){var t=this[cy].getModalNodes(),n=[];return null==t||t.forEach((function(e){var t=RO.create(e);t&&n.push(t)})),n}},{key:"getVisibleModalNode",value:function e(){return RO.create(this[cy].getVisibleModalNode())}},{key:"hideModalNodes",value:function e(){this[cy].hideModalNodes()}},{key:"setVisible",value:function e(t){this[cy].setVisible(t[uy])}},{key:"setInvisible",value:function e(t){this[cy].setInvisible(t[uy])}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function Gw(e){return(Gw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Hw(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Uw(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function e(){};return{s:o,n:function t(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function e(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function t(){n=n.call(e)},n:function e(){var t=n.next();return a=t.done,t},e:function e(t){u=!0,i=t},f:function e(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function Uw(e,t){if(e){if("string"==typeof e)return zw(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zw(e,t):void 0}}function zw(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Ww(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yw(r.key),r)}}function Xw(e,t,n){return t&&$w(e.prototype,t),n&&$w(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yw(e){var t=qw(e,"string");return"symbol"==Gw(t)?t:t+""}function qw(e,t){if("object"!=Gw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Gw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Kw=Symbol("shellDocSymbol"),Jw=function(){function e(t){var n;Ww(this,e),this[iy]=void 0,this[ay]=void 0,this._focusNode=void 0,this.selection=void 0,this.detecting=void 0,this.history=void 0,this.canvas=void 0,this[iy]=t,this[ay]=null===(n=t.designer)||void 0===n?void 0:n.editor,this.selection=new vm(t),this.detecting=new GO(t),this.history=new jm(t),this.canvas=new Qg(this[ay]),this._focusNode=RO.create(this[iy].focusNode)}return Xw(e,[{key:"id",get:function e(){return this[iy].id},set:function e(t){this[iy].id=t}},{key:"project",get:function e(){return fg.create(this[iy].project,!0)}},{key:"root",get:function e(){return RO.create(this[iy].rootNode)}},{key:"focusNode",get:function e(){return this._focusNode||this.root},set:function e(t){this._focusNode=t,this[ay].eventBus.emit("shell.document.focusNodeChanged",{document:this,focusNode:t})}},{key:"nodesMap",get:function e(){var t=new Map,n=Hw(this[iy].nodesMap.keys()),r;try{for(n.s();!(r=n.n()).done;){var o=r.value;t.set(o,this.getNodeById(o))}}catch(e){n.e(e)}finally{n.f()}return t}},{key:"modalNodesManager",get:function e(){return Fw.create(this[iy].modalNodesManager)}},{key:"dropLocation",get:function e(){return Nm.create(this[iy].dropLocation)},set:function e(t){this[iy].dropLocation=t}},{key:"getNodeById",value:function e(t){return RO.create(this[iy].getNode(t))}},{key:"importSchema",value:function e(t){this[iy].import(t),this[ay].eventBus.emit("shell.document.importSchema",t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Render;return this[iy].export(t)}},{key:"insertNode",value:function e(t,n,r,o){var i=this[iy].insertNode(t[uy]?t[uy]:t,null!=n&&n[uy]?n[uy]:n,r,o);return RO.create(i)}},{key:"createNode",value:function e(t){return RO.create(this[iy].createNode(t))}},{key:"removeNode",value:function e(t){this[iy].removeNode(t)}},{key:"getComponentsMap",value:function e(t){return this[iy].getComponentsMap(t)}},{key:"checkNesting",value:function e(t,n){var r=n,o;Object(l.E)(n)&&(r.nodes=null===(o=r.nodes)||void 0===o?void 0:o.map((function(e){return e[uy]||e})));return this[iy].checkNesting(t[uy]||t,r)}},{key:"onAddNode",value:function e(t){return this[iy].onNodeCreate((function(e){t(RO.create(e))}))}},{key:"onMountNode",value:function e(t){return this[iy].onMountNode((function(e){var n=e.node;t({node:RO.create(n)})}))}},{key:"onRemoveNode",value:function e(t){return this[iy].onNodeDestroy((function(e){t(RO.create(e))}))}},{key:"onChangeDetecting",value:function e(t){return this[iy].designer.detecting.onDetectingChange((function(e){t(RO.create(e))}))}},{key:"onChangeSelection",value:function e(t){return this[iy].selection.onSelectionChange((function(e){t(e)}))}},{key:"onChangeNodeVisible",value:function e(t){return this[iy].onChangeNodeVisible((function(e,n){t(RO.create(e),n)}))}},{key:"onChangeNodeChildren",value:function e(t){return this[iy].onChangeNodeChildren((function(e){e&&t({type:e.type,node:RO.create(e.node)})}))}},{key:"onChangeNodeProp",value:function e(t){var n=this,r=function e(n){t({key:n.key,oldValue:n.oldValue,newValue:n.newValue,prop:tm.create(n.prop),node:RO.create(n.node)})};return this[ay].on(c.e.Node.Prop.InnerChange,r),function(){n[ay].off(c.e.Node.Prop.InnerChange,r)}}},{key:"onImportSchema",value:function e(t){return this[ay].eventBus.on("shell.document.importSchema",t)}},{key:"isDetectingNode",value:function e(t){return this.detecting.current===t}},{key:"onFocusNodeChanged",value:function e(t){return t?this[ay].eventBus.on("shell.document.focusNodeChanged",(function(e){var n=e.document,r=e.focusNode;t(n,r)})):function(){}}},{key:"onDropLocationChanged",value:function e(t){return t?this[ay].eventBus.on("document.dropLocation.changed",(function(e){var n=e.document;t(n)})):function(){}}}],[{key:"create",value:function t(n){if(!n)return null;if(n[Kw])return n[Kw];var r=new e(n);return n[Kw]=r,r}}])}();function Qw(e){return(Qw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zw(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nO(r.key),r)}}function tO(e,t,n){return t&&eO(e.prototype,t),n&&eO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nO(e){var t=rO(e,"string");return"symbol"==Qw(t)?t:t+""}function rO(e,t){if("object"!=Qw(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qw(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var oO=function(){function e(t){Zw(this,e),this[sy]=void 0,this[sy]=t}return tO(e,[{key:"owner",get:function e(){return RO.create(this[sy].owner)}},{key:"size",get:function e(){return this[sy].size}},{key:"isEmpty",get:function e(){return this[sy].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[sy].isEmptyNode}},{key:"notEmpty",get:function e(){return this[sy].notEmptyNode}},{key:"notEmptyNode",get:function e(){return this[sy].notEmptyNode}},{key:"delete",value:function e(t){return this[sy].delete(null==t?void 0:t[uy])}},{key:"insert",value:function e(t,n){return this[sy].insert(null==t?void 0:t[uy],n)}},{key:"indexOf",value:function e(t){return this[sy].indexOf(null==t?void 0:t[uy])}},{key:"splice",value:function e(t,n,r){this[sy].splice(t,n,null==r?void 0:r[uy])}},{key:"get",value:function e(t){return RO.create(this[sy].get(t))}},{key:"has",value:function e(t){return this[sy].has(null==t?void 0:t[uy])}},{key:"forEach",value:function e(t){this[sy].forEach((function(e,n){t(RO.create(e),n)}))}},{key:"reverse",value:function e(){return this[sy].reverse().map((function(e){return RO.create(e)}))}},{key:"map",value:function e(t){return this[sy].map((function(e,n){return t(RO.create(e),n)}))}},{key:"every",value:function e(t){return this[sy].every((function(e,n){return t(RO.create(e),n)}))}},{key:"some",value:function e(t){return this[sy].some((function(e,n){return t(RO.create(e),n)}))}},{key:"filter",value:function e(t){return this[sy].filter((function(e,n){return t(RO.create(e),n)})).map((function(e){return RO.create(e)}))}},{key:"find",value:function e(t){return RO.create(this[sy].find((function(e,n){return t(RO.create(e),n)})))}},{key:"reduce",value:function e(t,n){return this[sy].reduce((function(e,n){return t(e,RO.create(n))}),n)}},{key:"importSchema",value:function e(t){this[sy].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Render;return this[sy].export(t)}},{key:"mergeChildren",value:function e(t,n,r){var o=r;o||(o=function e(){return 0}),this[sy].mergeChildren((function(e,n){return t(RO.create(e),n)}),(function(e){return n(e.map((function(e){return RO.create(e)})))}),(function(e,t){return o(RO.create(e),RO.create(t))}))}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function iO(e){return(iO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sO(r.key),r)}}function cO(e,t,n){return t&&uO(e.prototype,t),n&&uO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sO(e){var t=lO(e,"string");return"symbol"==iO(t)?t:t+""}function lO(e,t){if("object"!=iO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var fO=function(){function e(t){aO(this,e),this[fy]=void 0,this[fy]=t}return cO(e,[{key:"isGroup",get:function e(){return this[fy].isGroup}},{key:"id",get:function e(){return this[fy].id}},{key:"name",get:function e(){return this[fy].name}},{key:"key",get:function e(){return this[fy].getKey()}},{key:"path",get:function e(){return this[fy].path}},{key:"title",get:function e(){return this[fy].title}},{key:"setter",get:function e(){return this[fy].setter}},{key:"expanded",get:function e(){return this[fy].expanded}},{key:"extraProps",get:function e(){return this[fy].extraProps}},{key:"props",get:function e(){return bO.create(this[fy].props)}},{key:"node",get:function e(){return RO.create(this[fy].getNode())}},{key:"parent",get:function t(){return al(this[fy].parent)?e.create(this[fy].parent):bO.create(this[fy].parent)}},{key:"top",get:function e(){return bO.create(this[fy].top)}},{key:"isSettingField",get:function e(){return this[fy].isSettingField}},{key:"componentMeta",get:function e(){return Yy.create(this[fy].componentMeta)}},{key:"items",get:function e(){var t;return null===(t=this[fy].items)||void 0===t?void 0:t.map((function(e){return Object(l.A)(e)?e:e.internalToShellField()}))}},{key:"setKey",value:function e(t){this[fy].setKey(t)}},{key:"getNode",value:function e(){return this.node}},{key:"getParent",value:function e(){return this.parent}},{key:"setValue",value:function e(t,n){this[fy].setValue(t,!1,!1,n)}},{key:"setPropValue",value:function e(t,n){this[fy].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[fy].clearPropValue(t)}},{key:"getDefaultValue",value:function e(){return this[fy].getDefaultValue()}},{key:"getValue",value:function e(){return this[fy].getValue()}},{key:"getPropValue",value:function e(t){return this[fy].getPropValue(t)}},{key:"getExtraPropValue",value:function e(t){return this[fy].getExtraPropValue(t)}},{key:"setExtraPropValue",value:function e(t,n){this[fy].setExtraPropValue(t,n)}},{key:"getProps",value:function e(){return bO.create(this[fy].getProps())}},{key:"isUseVariable",value:function e(){return this[fy].isUseVariable()}},{key:"setUseVariable",value:function e(t){this[fy].setUseVariable(t)}},{key:"createField",value:function t(n){return e.create(this[fy].createField(n))}},{key:"getMockOrValue",value:function e(){return this[fy].getMockOrValue()}},{key:"purge",value:function e(){this[fy].purge()}},{key:"remove",value:function e(){this[fy].remove()}},{key:"onEffect",value:function e(t){return this[fy].onEffect(t)}},{key:"internalToShellField",value:function e(){return this}}],[{key:"create",value:function t(n){return new e(n)}}])}();function pO(e){return(pO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yO(r.key),r)}}function vO(e,t,n){return t&&hO(e.prototype,t),n&&hO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yO(e){var t=mO(e,"string");return"symbol"==pO(t)?t:t+""}function mO(e,t){if("object"!=pO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var bO=function(){function e(t){dO(this,e),this[py]=void 0,this[py]=t}return vO(e,[{key:"node",get:function e(){return RO.create(this[py].getNode())}},{key:"get",value:function e(t){return fO.create(this[py].get(t))}},{key:"getNode",value:function e(){return this.node}},{key:"getPropValue",value:function e(t){return this[py].getPropValue(t)}},{key:"setPropValue",value:function e(t,n){this[py].setPropValue(t,n)}},{key:"clearPropValue",value:function e(t){this[py].clearPropValue(t)}}],[{key:"create",value:function t(n){return new e(n)}}])}();function gO(e){return(gO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function OO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,EO(r.key),r)}}function jO(e,t,n){return t&&OO(e.prototype,t),n&&OO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function EO(e){var t=kO(e,"string");return"symbol"==gO(t)?t:t+""}function kO(e,t){if("object"!=gO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var SO=function(){function e(t){wO(this,e),this[Iy]=void 0,this[Iy]=t}return jO(e,[{key:"id",get:function e(){var t;return null===(t=this[Iy])||void 0===t?void 0:t.id}},{key:"title",get:function e(){var t;return null===(t=this[Iy])||void 0===t?void 0:t.title}},{key:"firstNode",get:function e(){var t;return RO.create(null===(t=this[Iy])||void 0===t?void 0:t.firstNode)}},{key:"setVisible",value:function e(t){var n;null===(n=this[Iy])||void 0===n||n.setVisible(t[uy]?t[uy]:t)}}],[{key:"create",value:function t(n){if(!n)return null;if(n[Iy])return n[Iy];var r=new e(n);return r[Iy]=r,r}}])}();function _O(e){return(_O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CO(r.key),r)}}function NO(e,t,n){return t&&xO(e.prototype,t),n&&xO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CO(e){var t=TO(e,"string");return"symbol"==_O(t)?t:t+""}function TO(e,t){if("object"!=_O(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_O(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var LO=Symbol("shellNodeSymbol");function AO(e){return e[LO]}var RO=function(){function e(t){PO(this,e),this[iy]=void 0,this[uy]=void 0,this._id=void 0,this.isNode=!0,this[uy]=t,this[iy]=t.document,this._id=this[uy].id}return NO(e,[{key:"id",get:function e(){return this._id},set:function e(t){this._id=t}},{key:"title",get:function e(){return this[uy].title}},{key:"isContainer",get:function e(){return this[uy].isContainerNode}},{key:"isContainerNode",get:function e(){return this[uy].isContainerNode}},{key:"isRoot",get:function e(){return this[uy].isRootNode}},{key:"isRootNode",get:function e(){return this[uy].isRootNode}},{key:"isEmpty",get:function e(){return this[uy].isEmptyNode}},{key:"isEmptyNode",get:function e(){return this[uy].isEmptyNode}},{key:"isPage",get:function e(){return this[uy].isPageNode}},{key:"isPageNode",get:function e(){return this[uy].isPageNode}},{key:"isComponent",get:function e(){return this[uy].isComponentNode}},{key:"isComponentNode",get:function e(){return this[uy].isComponentNode}},{key:"isModal",get:function e(){return this[uy].isModalNode}},{key:"isModalNode",get:function e(){return this[uy].isModalNode}},{key:"isSlot",get:function e(){return this[uy].isSlotNode}},{key:"isSlotNode",get:function e(){return this[uy].isSlotNode}},{key:"isParental",get:function e(){return this[uy].isParentalNode}},{key:"isParentalNode",get:function e(){return this[uy].isParentalNode}},{key:"isLeaf",get:function e(){return this[uy].isLeafNode}},{key:"isLeafNode",get:function e(){return this[uy].isLeafNode}},{key:"isLocked",get:function e(){return this[uy].isLocked}},{key:"index",get:function e(){return this[uy].index}},{key:"icon",get:function e(){return this[uy].icon}},{key:"zLevel",get:function e(){return this[uy].zLevel}},{key:"componentName",get:function e(){return this[uy].componentName}},{key:"componentMeta",get:function e(){return Yy.create(this[uy].componentMeta)}},{key:"document",get:function e(){return Jw.create(this[iy])}},{key:"prevSibling",get:function t(){return e.create(this[uy].prevSibling)}},{key:"nextSibling",get:function t(){return e.create(this[uy].nextSibling)}},{key:"parent",get:function t(){return e.create(this[uy].parent)}},{key:"children",get:function e(){return oO.create(this[uy].children)}},{key:"slots",get:function t(){return this[uy].slots.map((function(t){return e.create(t)}))}},{key:"slotFor",get:function e(){return tm.create(this[uy].slotFor)}},{key:"props",get:function e(){return cm.create(this[uy].props)}},{key:"propsData",get:function e(){return this[uy].propsData}},{key:"schema",get:function e(){return this[uy].schema}},{key:"settingEntry",get:function e(){return bO.create(this[uy].settingEntry)}},{key:"getChildren",value:function e(){return this.children}},{key:"getDOMNode",value:function e(){return this[uy].getDOMNode()}},{key:"mergeChildren",value:function e(t,n,r){var o;return null===(o=this.children)||void 0===o?void 0:o.mergeChildren(t,n,r)}},{key:"getRect",value:function e(){return this[uy].getRect()}},{key:"hasSlots",value:function e(){return this[uy].hasSlots()}},{key:"hasCondition",value:function e(){return this[uy].hasCondition()}},{key:"hasLoop",value:function e(){return this[uy].hasLoop()}},{key:"visible",get:function e(){return this[uy].getVisible()},set:function e(t){this[uy].setVisible(t)}},{key:"getVisible",value:function e(){return this[uy].getVisible()}},{key:"setVisible",value:function e(t){this[uy].setVisible(t)}},{key:"isConditionalVisible",value:function e(){return this[uy].isConditionalVisible()}},{key:"lock",value:function e(t){this[uy].lock(t)}},{key:"getProps",value:function e(){return this.props}},{key:"contains",value:function e(t){return this[uy].contains(t[uy])}},{key:"getProp",value:function e(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return tm.create(this[uy].getProp(t,n))}},{key:"getPropValue",value:function e(t){var n;return null===(n=this.getProp(t,!1))||void 0===n?void 0:n.getValue()}},{key:"getExtraProp",value:function e(t,n){return tm.create(this[uy].getExtraProp(t,n))}},{key:"getExtraPropValue",value:function e(t){var n;return null===(n=this.getExtraProp(t))||void 0===n?void 0:n.getValue()}},{key:"setPropValue",value:function e(t,n){var r;return null===(r=this.getProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"setExtraPropValue",value:function e(t,n){var r;return null===(r=this.getExtraProp(t))||void 0===r?void 0:r.setValue(n)}},{key:"importSchema",value:function e(t){this[uy].import(t)}},{key:"exportSchema",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.i.Render,n=arguments.length>1?arguments[1]:void 0;return this[uy].export(t,n)}},{key:"insertBefore",value:function e(t,n,r){this[uy].insertBefore(t[uy]||t,null==n?void 0:n[uy],r)}},{key:"insertAfter",value:function e(t,n,r){this[uy].insertAfter(t[uy]||t,null==n?void 0:n[uy],r)}},{key:"replaceChild",value:function t(n,r){return e.create(this[uy].replaceChild(n[uy],r))}},{key:"replaceWith",value:function e(t){this[uy].replaceWith(t)}},{key:"select",value:function e(){this[uy].select()}},{key:"hover",value:function e(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this[uy].hover(t)}},{key:"remove",value:function e(){this[uy].remove()}},{key:"isRGLContainer",get:function e(){return this[uy].isRGLContainerNode},set:function e(t){this[uy].isRGLContainerNode=t}},{key:"isRGLContainerNode",get:function e(){return this[uy].isRGLContainerNode},set:function e(t){this[uy].isRGLContainerNode=t}},{key:"internalToShellNode",value:function e(){return this}},{key:"canPerformAction",value:function e(t){return this[uy].canPerformAction(t)}},{key:"conditionGroup",get:function e(){return SO.create(this[uy].conditionGroup)}},{key:"setConditionalVisible",value:function e(){this[uy].setConditionalVisible()}},{key:"getRGL",value:function t(){var n=this[uy].getRGL(),r=n.isContainerNode,o=n.isEmptyNode,i=n.isRGLContainerNode,a=n.isRGLNode,u=n.isRGL,c=n.rglNode;return{isContainerNode:r,isEmptyNode:o,isRGLContainerNode:i,isRGLNode:a,isRGL:u,rglNode:e.create(c)}}}],[{key:"create",value:function t(n){if(!n)return null;if(AO(n))return n[LO];var r=new e(n);return n[LO]=r,r}}])}();function MO(e){return(MO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VO(r.key),r)}}function BO(e,t,n){return t&&IO(e.prototype,t),n&&IO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VO(e){var t=FO(e,"string");return"symbol"==MO(t)?t:t+""}function FO(e,t){if("object"!=MO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=MO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var GO=function(){function e(t){var n;DO(this,e),this[iy]=void 0,this[hy]=void 0,this[iy]=t,this[hy]=null===(n=t.designer)||void 0===n?void 0:n.detecting}return BO(e,[{key:"enable",get:function e(){return this[hy].enable}},{key:"current",get:function e(){return RO.create(this[hy].current)}},{key:"capture",value:function e(t){this[hy].capture(this[iy].getNode(t))}},{key:"release",value:function e(t){this[hy].release(this[iy].getNode(t))}},{key:"leave",value:function e(){this[hy].leave(this[iy])}},{key:"onDetectingChange",value:function e(t){var n=function e(n){var r=RO.create(n);t(r)};return this[hy].onDetectingChange(n)}}])}();function HO(e){return(HO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function UO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$O(r.key),r)}}function WO(e,t,n){return t&&zO(e.prototype,t),n&&zO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $O(e){var t=XO(e,"string");return"symbol"==HO(t)?t:t+""}function XO(e,t){if("object"!=HO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=HO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var YO=function(){function e(t){UO(this,e),this[Ey]=void 0,this[Ey]=t}return WO(e,[{key:"type",get:function e(){return this[Ey].type}},{key:"nodes",get:function e(){var t=this[Ey].nodes;return t?t.map(RO.create):null}},{key:"data",get:function e(){return this[Ey].data}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function qO(e){return(qO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZO(r.key),r)}}function QO(e,t,n){return t&&JO(e.prototype,t),n&&JO(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZO(e){var t=ej(e,"string");return"symbol"==qO(t)?t:t+""}function ej(e,t){if("object"!=qO(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qO(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var tj=function(){function e(t){KO(this,e),this[ky]=void 0,this[ky]=t}return QO(e,[{key:"type",get:function e(){return this[ky].type}},{key:"globalX",get:function e(){return this[ky].globalX}},{key:"globalY",get:function e(){return this[ky].globalY}},{key:"originalEvent",get:function e(){return this[ky].originalEvent}},{key:"target",get:function e(){return this[ky].target}},{key:"canvasX",get:function e(){return this[ky].canvasX}},{key:"canvasY",get:function e(){return this[ky].canvasY}},{key:"dragObject",get:function e(){return YO.create(this[ky].dragObject)}}],[{key:"create",value:function t(n){return n?new e(n):null}}])}();function nj(e){return(nj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rj(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oj(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rj(Object(n),!0).forEach((function(t){ij(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rj(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ij(e,t,n){return(t=sj(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sj(r.key),r)}}function cj(e,t,n){return t&&uj(e.prototype,t),n&&uj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sj(e){var t=lj(e,"string");return"symbol"==nj(t)?t:t+""}function lj(e,t){if("object"!=nj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var fj=Symbol("innerDragonSymbol"),pj=function(){function e(t,n){aj(this,e),this.workspaceMode=void 0,this[fj]=void 0,this.workspaceMode=n,this[fj]=t}return cj(e,[{key:by,get:function e(){if(this.workspaceMode)return this[fj];var t=u.globalContext.get("workspace"),n=u.globalContext.get("editor"),r;return t.isActive&&(n=t.window.editor),n.get("designer").dragon}},{key:"dragging",get:function e(){return this[by].dragging}},{key:"onDragstart",value:function e(t){return this[by].onDragstart((function(e){return t(tj.create(e))}))}},{key:"onDrag",value:function e(t){return this[by].onDrag((function(e){return t(tj.create(e))}))}},{key:"onDragend",value:function e(t){return this[by].onDragend((function(e){var n=YO.create(e.dragObject),r=e.copy;return t({dragObject:n,copy:r})}))}},{key:"from",value:function e(t,n){return this[by].from(t,n)}},{key:"boost",value:function e(t,n,r){return this[by].boost(oj(oj({},t),{},{nodes:t.nodes.map((function(e){return e[uy]}))}),n,null==r?void 0:r[uy])}},{key:"addSensor",value:function e(t){return this[by].addSensor(t)}},{key:"removeSensor",value:function e(t){return this[by].removeSensor(t)}}],[{key:"create",value:function t(n,r){return n?new e(n,r):null}}])}();function dj(e){return(dj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,mj(r.key),r)}}function yj(e,t,n){return t&&vj(e.prototype,t),n&&vj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function mj(e){var t=bj(e,"string");return"symbol"==dj(t)?t:t+""}function bj(e,t){if("object"!=dj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var gj=function(){function e(t){hj(this,e),this[Ry]=void 0,this[Ry]=t}return yj(e,[{key:"title",get:function e(){return this[Ry].title}},{key:"id",get:function e(){return this[Ry].id}},{key:"icon",get:function e(){return this[Ry].icon}},{key:"options",get:function e(){return this[Ry].options}},{key:"name",get:function e(){return this[Ry].resourceType.name}},{key:"config",get:function e(){return this[Ry].config}},{key:"type",get:function e(){return this[Ry].resourceType.type}},{key:"category",get:function e(){return this[Ry].category}},{key:"description",get:function e(){return this[Ry].description}},{key:"children",get:function t(){return this[Ry].children.map((function(t){return new e(t)}))}},{key:"viewName",get:function e(){return this[Ry].viewName}}])}();function wj(e){return(wj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kj(r.key),r)}}function Ej(e,t,n){return t&&jj(e.prototype,t),n&&jj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function kj(e){var t=Sj(e,"string");return"symbol"==wj(t)?t:t+""}function Sj(e,t){if("object"!=wj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=wj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var _j=Symbol("activeTracker"),Pj=function(){function e(t){Oj(this,e),this[_j]=void 0,this[_j]=t}return Ej(e,[{key:"target",get:function e(){var t=this[_j]._target;if(!t)return null;var n=t.node,r=t.detail,o=t.instance,i;return{node:RO.create(n),detail:r,instance:o}}},{key:"onChange",value:function e(t){return t?this[_j].onChange((function(e){var n=e.node,r=e.detail,o=e.instance,i=RO.create(n),a;t({node:i,detail:r,instance:o})})):function(){}}},{key:"track",value:function e(t){this[_j].track(t[uy])}}])}();function xj(e){return(xj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Nj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Cj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lj(r.key),r)}}function Tj(e,t,n){return t&&Cj(e.prototype,t),n&&Cj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Lj(e){var t=Aj(e,"string");return"symbol"==xj(t)?t:t+""}function Aj(e,t){if("object"!=xj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Rj=function(){function e(t){Nj(this,e),this[Ly]=void 0,this[Ly]=t}return Tj(e,[{key:"pluginName",get:function e(){return this[Ly].name}},{key:"dep",get:function e(){return this[Ly].dep}},{key:"disabled",get:function e(){return this[Ly].disabled},set:function e(t){this[Ly].setDisabled(t)}},{key:"meta",get:function e(){return this[Ly].meta}}])}();function Mj(e){return(Mj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Dj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ij(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vj(r.key),r)}}function Bj(e,t,n){return t&&Ij(e.prototype,t),n&&Ij(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Vj(e){var t=Fj(e,"string");return"symbol"==Mj(t)?t:t+""}function Fj(e,t){if("object"!=Mj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Mj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Gj=function(){function e(t){Dj(this,e),this[By]=void 0,this[Vy]=void 0,this[By]=t,this[Vy]=this[By].innerPlugins._getLowCodePluginContext({pluginName:t.editorWindow+t.viewName})}return Bj(e,[{key:"toProxy",value:function e(){return new Proxy(this,{get:function e(t,n,r){return t[Vy][n]?Reflect.get(t[Vy],n,r):Reflect.get(t,n,r)}})}},{key:"viewName",get:function e(){return this[By].viewName}},{key:"viewType",get:function e(){return this[By].viewType}}])}();function Hj(e){return(Hj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Uj(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Uj=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Hj(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Hj(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function zj(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function Wj(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){zj(i,r,o,a,u,"next",e)}function u(e){zj(i,r,o,a,u,"throw",e)}a(void 0)}))}}function $j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xj(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qj(r.key),r)}}function Yj(e,t,n){return t&&Xj(e.prototype,t),n&&Xj(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qj(e){var t=Kj(e,"string");return"symbol"==Hj(t)?t:t+""}function Kj(e,t){if("object"!=Hj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Hj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var Jj=function(){function e(t){$j(this,e),this[Ty]=void 0,this[Ty]=t}return Yj(e,[{key:"id",get:function e(){var t;return null===(t=this[Ty])||void 0===t?void 0:t.id}},{key:"title",get:function e(){return this[Ty].title}},{key:"icon",get:function e(){return this[Ty].icon}},{key:"resource",get:function e(){return new gj(this[Ty].resource)}},{key:"importSchema",value:function e(t){this[Ty].importSchema(t)}},{key:"changeViewType",value:function e(t){this[Ty].changeViewName(t,!1)}},{key:"onChangeViewType",value:function e(t){return this[Ty].onChangeViewType(t)}},{key:"save",value:function(){var e=Wj(Uj().mark((function e(){return Uj().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this[Ty].save();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function e(t){return this[Ty].onSave(t)}},{key:"currentEditorView",get:function e(){return this[Ty]._editorView?new Gj(this[Ty]._editorView).toProxy():null}},{key:"editorViews",get:function e(){return Array.from(this[Ty].editorViews.values()).map((function(e){return new Gj(e).toProxy()}))}}])}();function Qj(e){return(Qj="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zj(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nE(r.key),r)}}function tE(e,t,n){return t&&eE(e.prototype,t),n&&eE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nE(e){var t=rE(e,"string");return"symbol"==Qj(t)?t:t+""}function rE(e,t){if("object"!=Qj(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Qj(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var oE=function(){function e(){Zj(this,e),this[My]=void 0,this[My]=Gr}return tE(e,[{key:"setData",value:function e(t){this[My].setData(t)}},{key:"waitPasteData",value:function e(t,n){this[My].waitPasteData(t,n)}}])}();function iE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function aE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?iE(Object(n),!0).forEach((function(t){uE(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function uE(e,t,n){return(t=cE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cE(e){var t=sE(e,"string");return"symbol"==lE(t)?t:t+""}function sE(e,t){if("object"!=lE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=lE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function lE(e){return(lE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fE(e,t,n,r,i){var a;return e?a=e:(a={},t&&!r||(a={label:n},n=void 0)),(t||n)&&("object"!==lE(a)||Object(o.isValidElement)(a)||Object(l.I)(a)?(Object(o.isValidElement)(a)&&("svg"===a.type||a.type.getIcon)&&(t||(t=a),r?(a=n,n=null):a=void 0),a={label:a,icon:t,tip:n}):a=aE(aE({},a),{},{icon:t,tip:n})),Object(l.ab)(a)&&i&&(Object(o.isValidElement)(a)||(a.icon=void 0)),a}var pE=n(119);function dE(e){return(dE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function hE(e,t,n){return(t=gE(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vE(e){throw new TypeError('"'+e+'" is read-only')}function yE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mE(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gE(r.key),r)}}function bE(e,t,n){return t&&mE(e.prototype,t),n&&mE(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gE(e){var t=wE(e,"string");return"symbol"==dE(t)?t:t+""}function wE(e,t){if("object"!=dE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=dE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function OE(e,t,n){return t=SE(t),jE(e,kE()?Reflect.construct(t,n||[],SE(e).constructor):t.apply(e,n))}function jE(e,t){if(t&&("object"==dE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return EE(e)}function EE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function kE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(kE=function t(){return!!e})()}function SE(e){return(SE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&PE(e,t)}function PE(e,t){return(PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var xE=function(e){function t(e){var n;return yE(this,t),(n=OE(this,t,[e])).startDrag=void 0,n.canDrag=void 0,n.offset=void 0,n.currentOffset=void 0,n.offEvent=void 0,n.offDragEvent=void 0,n.startOffset=void 0,n.shell=null,n.startDrag=!1,n.canDrag=!1,n.offset=0,n.currentOffset=0,n}return _E(t,e),bE(t,[{key:"componentDidMount",value:function e(){this.offEvent=this.initEvent()}},{key:"componentWillUnmount",value:function e(){this.offEvent&&this.offEvent()}},{key:"onSelectStart",value:function e(t){this.startDrag&&t.preventDefault()}},{key:"onStartMove",value:function e(t){var n=this.props.onDragStart;this.startDrag||n&&n(),this.startDrag=!0,this.canDrag=!0,this.currentOffset=0,this.offDragEvent=this.initDragEvent(),this.startOffset=this.getClientPosition(t)}},{key:"onEndMove",value:function e(){var t=this.props.onDragEnd;this.startDrag&&(this.offDragEvent&&this.offDragEvent(),this.startDrag=!1,this.offset=this.currentOffset),t&&t()}},{key:"onDrag",value:function e(t){var n=this.props,r=n.position,e=n.onDrag,o=n.maxIncrement,i=void 0===o?100:o,a=n.maxDecrement,u=void 0===a?0:a;this.startDrag&&(this.currentOffset="left"===r||"top"===r?this.offset+this.startOffset-this.getClientPosition(t):this.offset+this.getClientPosition(t)-this.startOffset,this.currentOffset<-u?this.currentOffset=-u:this.currentOffset>i&&(this.currentOffset=i),e(this.currentOffset,t))}},{key:"getClientPosition",value:function e(t){var n=this.props.position;return"left"===n||"right"===n?t.clientX:t.clientY}},{key:"initEvent",value:function e(){var t=this.onSelectStart.bind(this);return document.addEventListener("selectstart",t),function(){return document.removeEventListener("selectstart",t)}}},{key:"initDragEvent",value:function e(){var t=this.onDrag.bind(this),n=this.onEndMove.bind(this);return document.addEventListener("mousemove",t),document.addEventListener("mouseup",n),function(){document.removeEventListener("mousemove",t),document.removeEventListener("mouseup",n)}}},{key:"getParent",value:function e(){var t;return null===(t=this.shell)||void 0===t?void 0:t.parentElement}},{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=void 0===r?"":r,i=n.position;return React.createElement("div",{ref:function e(n){t.shell=n},className:Yo()("left"===i||"right"===i?"lc-draggable-line-vertical":"lc-draggable-line-horizontal",hE({},o,!!o)),onMouseDown:function e(n){return t.onStartMove(n)}})}}])}(o.Component);function NE(){return(NE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function CE(e){var t={width:13,height:13};return React.createElement(l.f,NE({viewBox:"0 0 1024 1024"},e,t),React.createElement("path",{d:"M750.848 28.928l245.248 242.944a66.048 66.048 0 1 1-93.184 93.184l-25.6-19.456-249.6 353.792 78.336 78.336a66.048 66.048 0 0 1-93.184 92.672l-460.8-464.64a66.048 66.048 0 0 1 93.184-93.184l76.8 78.336 354.048-249.856-18.176-18.944a66.048 66.048 0 1 1 93.184-93.184zM380.672 732.416l-91.904-90.88c-74.24 89.6-191.488 219.904-212.736 247.04a419.84 419.84 0 0 0-70.656 128 419.84 419.84 0 0 0 128-70.144c27.136-21.248 157.44-138.496 246.528-214.016z"}))}function TE(){return(TE=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function LE(e){return React.createElement(l.f,TE({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M160.256 816.64C116.224 872.448 102.4 921.6 102.4 921.6s49.152-13.824 104.96-57.856c22.016-17.408 128-112.64 200.704-174.08l-73.728-73.728c-61.44 72.704-157.184 178.688-174.08 200.704zM648.704 209.408L442.368 355.328l226.304 226.304 145.92-206.336 15.872 15.872c20.992 20.992 54.784 20.992 75.776 0s20.992-54.784 0-75.776l-197.12-197.12c-20.992-20.992-54.784-20.992-75.776 0-20.992 20.992-20.992 54.784 0 75.776l15.36 15.36zM247.808 334.848c-9.728 2.048-18.944 6.656-26.624 14.336-20.992 20.992-20.992 54.784 0 75.776l377.856 377.856c20.992 20.992 54.784 20.992 75.776 0 7.68-7.68 12.288-16.896 14.336-26.624L247.808 334.848z"}),React.createElement("path",{d:"M840.704 879.104c-9.728 0-19.456-3.584-27.136-11.264L155.648 210.432c-14.848-14.848-14.848-39.424 0-54.272 14.848-14.848 39.424-14.848 54.272 0L867.84 814.08c14.848 14.848 14.848 39.424 0 54.272-7.168 7.168-16.896 10.752-27.136 10.752z"}))}function AE(e){return(AE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RE(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ME(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IE(r.key),r)}}function DE(e,t,n){return t&&ME(e.prototype,t),n&&ME(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function IE(e){var t=BE(e,"string");return"symbol"==AE(t)?t:t+""}function BE(e,t){if("object"!=AE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function VE(e,t,n){return t=UE(t),FE(e,HE()?Reflect.construct(t,n||[],UE(e).constructor):t.apply(e,n))}function FE(e,t){if(t&&("object"==AE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return GE(e)}function GE(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HE(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(HE=function t(){return!!e})()}function UE(e){return(UE=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function zE(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&WE(e,t)}function WE(e,t){return(WE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}xE.displayName="DraggableLine",xE.defaultProps={onDrag:function e(){},position:"right",className:"",maxIncrement:100,maxDecrement:0},CE.displayName="Fix",LE.displayName="Float";var $E=function(e){function t(e){var n;return RE(this,t),n=VE(this,t,[e]),Object(u.makeObservable)(n),n}return zE(t,e),DE(t,[{key:"setDisplay",value:function e(){var t=this.props.panel,n;t&&t.skeleton.toggleFloatStatus(t)}},{key:"render",value:function e(){var t,n,r,i,a=this.props.panel,u;if("rightArea"===(null===(t=this.props.panel.config)||void 0===t?void 0:t.area))return null;var c=!0;!1===(null==a||null===(n=a.config.props)||void 0===n?void 0:n.canSetFixed)&&(c=!1);var s=null==a||null===(r=a.config.props)||void 0===r?void 0:r.hideTitleBar,l=null==a||null===(i=a.parent)||void 0===i?void 0:i.name,f=a.skeleton[l];return React.createElement(o.Fragment,null,!s&&React.createElement(o.Fragment,null,c&&React.createElement(_i.Button,{text:!0,className:"lc-pane-icon-fix",onClick:this.setDisplay.bind(this)},"leftFloatArea"===l?React.createElement(CE,null):React.createElement(LE,null)),React.createElement(_i.Button,{text:!0,className:"lc-pane-icon-close",onClick:function e(){f&&f.setVisible(!1)}},React.createElement(_i.Icon,{type:"close"}))))}}])}(o.Component);Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[]),Object(s.d)("design:returntype",void 0)],$E.prototype,"setDisplay",null);var XE=n(120),YE=["dock","className","onClick"];function qE(e){return(qE="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KE(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function JE(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?KE(Object(n),!0).forEach((function(t){lk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):KE(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function QE(e,t){if(null==e)return{};var n,r,o=ZE(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function ZE(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function ek(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function tk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fk(r.key),r)}}function nk(e,t,n){return t&&tk(e.prototype,t),n&&tk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function rk(e,t,n){return t=uk(t),ok(e,ak()?Reflect.construct(t,n||[],uk(e).constructor):t.apply(e,n))}function ok(e,t){if(t&&("object"==qE(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ik(e)}function ik(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ak(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ak=function t(){return!!e})()}function uk(e){return(uk=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ck(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&sk(e,t)}function sk(e,t){return(sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function lk(e,t,n){return(t=fk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fk(e){var t=pk(e,"string");return"symbol"==qE(t)?t:t+""}function pk(e,t){if("object"!=qE(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qE(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dk(e){var t=e.title,n=e.icon,r=e.description,o=e.size,i=e.className,a=e.onClick;return React.createElement(u.Title,{title:fE(t,n,r),className:Yo()("lc-dock",i,lk({},"lc-dock-".concat(o),o)),onClick:a})}var hk=function(e){function t(){var e;ek(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=rk(this,t,[].concat(r))).lastActived=!1,e}return ck(t,e),nk(t,[{key:"componentDidMount",value:function e(){this.checkActived()}},{key:"componentDidUpdate",value:function e(){this.checkActived()}},{key:"checkActived",value:function e(){var t=this.props.dock;t.actived!==this.lastActived&&(this.lastActived=t.actived,this.lastActived?t.skeleton.postEvent(HS.PANEL_DOCK_ACTIVE,t.name,t):t.skeleton.postEvent(HS.PANEL_DOCK_UNACTIVE,t.name,t))}},{key:"render",value:function e(){var t=this.props,n=t.dock,r=t.className,o=t.onClick,i;return dk(JE(JE({},QE(t,YE)),{},{className:Yo()(r,{actived:n.actived}),onClick:function e(){o&&o(),n.togglePanel()}}))}}])}(o.Component);hk=Object(s.b)([u.observer],hk);var vk=function(e){function t(){return ek(this,t),rk(this,t,arguments)}return ck(t,e),nk(t)}(o.Component),yk=function(e){function t(){var e;ek(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=rk(this,t,[].concat(r))).shell=void 0,e.defaultWidth=void 0,e}return ck(t,e),nk(t,[{key:"getDefaultWidth",value:function e(){var t,n,r,o=null===(t=this.props.panel)||void 0===t||null===(n=t.config.props)||void 0===n?void 0:n.width;if(o)return o;if(this.defaultWidth)return this.defaultWidth;var i=null===(r=this.shell)||void 0===r?void 0:r.getParent();return i?(this.defaultWidth=i.offsetWidth,this.defaultWidth):300}},{key:"onDrag",value:function e(t){var n,r,o=this.getDefaultWidth()+t,i=null===(n=this.shell)||void 0===n?void 0:n.getParent();i&&(i.style.width="".concat(o,"px"));var a=this.props.panel.skeleton.editor;null==a||a.eventBus.emit("dockpane.drag",o)}},{key:"onDragChange",value:function e(t){var n=this.props.panel.skeleton.editor;null==n||n.eventBus.emit("dockpane.dragchange",t),null==n||n.eventBus.emit("designer.builtinSimulator.disabledEvents","start"===t)}},{key:"render",value:function e(){var t,n,r,o,i=this,a=null===(t=this.props.panel.config.props)||void 0===t?void 0:t.enableDrag,u;return"rightArea"===(null===(n=this.props.panel.config)||void 0===n?void 0:n.area)||!a||"leftFixedArea"===(null===(r=this.props.panel)||void 0===r||null===(o=r.parent)||void 0===o?void 0:o.name)?null:React.createElement(xE,{ref:function e(t){i.shell=t},position:"right",className:"lc-engine-slate-draggable-line-right",onDrag:function e(t){return i.onDrag(t)},onDragStart:function e(){return i.onDragChange("start")},onDragEnd:function e(){return i.onDragChange("end")},maxIncrement:500,maxDecrement:0})}}])}(o.Component),mk=function(e){function t(){var e;ek(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=rk(this,t,[].concat(r))).lastVisible=!1,e}return ck(t,e),nk(t,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(HS.PANEL_SHOW,t.name,t):t.skeleton.postEvent(HS.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area;if(!r.inited)return null;var i=r.skeleton.editor,a=o?"".concat(o,"-").concat(r.name):r.name;return null==i||i.eventBus.emit("skeleton.panel.toggle",{name:a||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Yo()("lc-titled-panel",{hidden:!r.visible}),id:a,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},React.createElement($E,{panel:r}),React.createElement(wk,{panel:r}),React.createElement("div",{className:"lc-panel-body"},r.body),React.createElement(yk,{panel:r}))}}])}(o.Component);mk=Object(s.b)([u.observer],mk);var bk=function(e){function t(){var e;ek(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=rk(this,t,[].concat(r))).lastVisible=!1,e}return ck(t,e),nk(t,[{key:"componentDidMount",value:function e(){this.checkVisible()}},{key:"componentDidUpdate",value:function e(){this.checkVisible()}},{key:"checkVisible",value:function e(){var t=this.props.panel,n=t.inited&&t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible?t.skeleton.postEvent(HS.PANEL_SHOW,t.name,t):t.skeleton.postEvent(HS.PANEL_HIDE,t.name,t))}},{key:"render",value:function e(){var t,n=this.props,r=n.panel,o=n.area,i=n.hideOperationRow,a=n.hideDragLine;if(!r.inited)return null;var u=r.skeleton.editor,c=o?"".concat(o,"-").concat(r.name):r.name;return null==u||u.eventBus.emit("skeleton.panel.toggle",{name:c||"",status:r.visible?"show":"hide"}),React.createElement("div",{className:Yo()("lc-panel",{hidden:!r.visible}),id:c,"data-keep-visible-while-dragging":null===(t=r.config.props)||void 0===t?void 0:t.keepVisibleWhileDragging},!i&&React.createElement($E,{panel:r}),r.body,!a&&React.createElement(yk,{panel:r}))}}])}(o.Component);bk=Object(s.b)([u.observer],bk);var gk=function(e){function t(){return ek(this,t),rk(this,t,arguments)}return ck(t,e),nk(t,[{key:"render",value:function e(){var t=this.props.container,n=[],r=[];return this.props.shouldHideSingleTab&&1===t.items.length?r.push(React.createElement(bk,{key:t.items[0].id,panel:t.items[0],hideOperationRow:!0,hideDragLine:!0})):t.items.forEach((function(e){n.push(React.createElement(wk,{key:e.id,panel:e,className:"lc-tab-title"})),r.push(React.createElement(bk,{key:e.id,panel:e,hideOperationRow:!0,hideDragLine:!0}))})),n.length?React.createElement("div",{className:"lc-tabs"},React.createElement("div",{className:"lc-tabs-title",onClick:function e(n){for(var r=n.currentTarget,o=n.target,i=r.firstElementChild;i&&!i.contains(o);)i=i.nextElementSibling;i&&t.active(i.dataset.name)}},n),React.createElement("div",{className:"lc-tabs-content"},r)):r}}])}(o.Component);gk=Object(s.b)([u.observer],gk);var wk=function(e){function t(){return ek(this,t),rk(this,t,arguments)}return ck(t,e),nk(t,[{key:"render",value:function e(){var t=this.props,n=t.panel,r=t.className;return React.createElement("div",{className:Yo()("lc-panel-title",r,{actived:n.actived}),"data-name":n.name},React.createElement(u.Title,{title:n.title||n.name}),n.help?React.createElement(u.HelpTip,{help:n.help}):null)}}])}(o.Component);wk=Object(s.b)([u.observer],wk);var Ok=function(e){function t(){var e;ek(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=rk(this,t,[].concat(r))).lastVisible=!1,e.lastDisabled=!1,e}return ck(t,e),nk(t,[{key:"componentDidMount",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"componentDidUpdate",value:function e(){this.checkVisible(),this.checkDisabled()}},{key:"checkVisible",value:function e(){var t=this.props.widget,n=t.visible;n!==this.lastVisible&&(this.lastVisible=n,this.lastVisible,t.skeleton.postEvent(HS.WIDGET_SHOW,t.name,t))}},{key:"checkDisabled",value:function e(){var t=this.props.widget,n=t.disabled;n!==this.lastDisabled&&(this.lastDisabled=n,this.lastDisabled?t.skeleton.postEvent(HS.WIDGET_DISABLE,t.name,t):t.skeleton.postEvent(HS.WIDGET_ENABLE,t.name,t))}},{key:"render",value:function e(){var t=this.props.widget;return t.visible?t.disabled?React.createElement("div",{className:"lc-widget-disabled"},t.body):t.body:null}}])}(o.Component);function jk(e){return(jk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ek(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function kk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ek(Object(n),!0).forEach((function(t){Sk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ek(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Sk(e,t,n){return(t=Nk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Pk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Nk(r.key),r)}}function xk(e,t,n){return t&&Pk(e.prototype,t),n&&Pk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nk(e){var t=Ck(e,"string");return"symbol"==jk(t)?t:t+""}function Ck(e,t){if("object"!=jk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=jk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Ok=Object(s.b)([u.observer],Ok);var Tk=function(){function e(t,n){_k(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.isPanelDock=!0,this.id=void 0,this.name=void 0,this.align=void 0,this.inited=!1,this._body=void 0,this._shell=null,this._visible=!0,this.panelName=void 0,this._panel=void 0,this._disabled=!1,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var r=n.content,o=n.contentProps,i=n.panelProps,a=n.name,c=n.props;if(this.name=a,this.id=Object(l.ib)("dock:".concat(a,"$")),this.panelName=n.panelName||a,this.align=null==c?void 0:c.align,r){var s=kk({},i);null==s.title&&c&&(s.title=fE(c.title,void 0,c.description,!0,!0)),this._panel=this.skeleton.add({type:"Panel",name:this.panelName,props:s,contentProps:o,content:r,area:null==i?void 0:i.area})}null!=c&&c.onInit&&c.onInit.call(this,this)}return xk(e,[{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config.props;return this._body=Object(o.createElement)(hk,kk(kk({},t),{},{dock:this})),this._body}},{key:"content",get:function e(){var t=this;return Object(o.createElement)(Ok,{widget:this,ref:function e(n){t._shell=n},key:this.id})}},{key:"visible",get:function e(){return this._visible}},{key:"actived",get:function e(){var t;return(null===(t=this.panel)||void 0===t?void 0:t.visible)||!1}},{key:"panel",get:function e(){return this._panel||this.skeleton.getPanel(this.panelName)}},{key:"getDOMNode",value:function e(){return this._shell?Object(a.findDOMNode)(this._shell):null}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"togglePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.toggle()}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hidePanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!1)}},{key:"showPanel",value:function e(){var t;null===(t=this.panel)||void 0===t||t.setActive(!0)}},{key:"onActiveChange",value:function e(t){var n;return null===(n=this.panel)||void 0===n?void 0:n.onActiveChange(t)}}])}(),Lk;function Ak(e){return e&&e.isPanelDock}function Rk(e){return(Rk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Mk(Object(n),!0).forEach((function(t){Ik(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Mk(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ik(e,t,n){return(t=Gk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Bk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Vk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Gk(r.key),r)}}function Fk(e,t,n){return t&&Vk(e.prototype,t),n&&Vk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Gk(e){var t=Hk(e,"string");return"symbol"==Rk(t)?t:t+""}function Hk(e,t){if("object"!=Rk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Rk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Tk.prototype,"_visible",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Boolean),Object(s.d)("design:paramtypes",[])],Tk.prototype,"actived",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Tk.prototype,"_disabled",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],Tk.prototype,"panel",null);var Uk=function(){function e(t,n){var r=this;Bk(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.name=void 0,this.id=void 0,this.inited=!1,this._actived=!1,this.emitter=Object(u.createModuleEventBus)("Panel"),this.isPanel=!0,this.title=void 0,this.help=void 0,this.plain=!1,this.container=void 0,this.parent=void 0,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var o=n.name,i=n.content,a=n.props,c=void 0===a?{}:a,s=c.hideTitleBar,f=c.title,p=c.icon,d=c.description,h=c.help;this.name=o,this.id=Object(l.ib)("pane:".concat(o,"$")),this.title=fE(f||o,p,d),this.plain=s||!f,this.help=h,Array.isArray(i)&&(this.container=this.skeleton.createContainer(o,(function(e){return zk(e)?e:r.skeleton.createPanel(e)}),!0,(function(){return r.visible}),!0),i.forEach((function(e){return r.add(e)}))),c.onInit&&c.onInit.call(this,this),"string"!=typeof i&&i&&i.onInit&&i.onInit.call(this,this)}return Fk(e,[{key:"actived",get:function e(){return this._actived}},{key:"visible",get:function e(){if(!this.parent||this.parent.visible){var t=this.config.props;return null!=t&&t.condition?t.condition(this):this._actived}return!1}},{key:"body",get:function e(){if(this.container)return Object(o.createElement)(gk,{container:this.container,shouldHideSingleTab:!0});var t=this.config,n=t.content,r=t.contentProps;return Object(l.n)(n,Dk(Dk({},r),{},{editor:Jm(this.skeleton.editor),config:this.config,panel:this,pane:this}))}},{key:"content",get:function e(){var t,n,r=(null===(t=this.config)||void 0===t?void 0:t.area)||(null===(n=this.parent)||void 0===n?void 0:n.name);return this.plain?Object(o.createElement)(bk,{panel:this,key:this.id,area:r}):Object(o.createElement)(mk,{panel:this,key:this.id,area:r})}},{key:"setParent",value:function e(t){t!==this.parent&&(this.parent&&this.parent.remove(this),this.parent=t)}},{key:"add",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.add(t)}},{key:"getPane",value:function e(t){var n;return(null===(n=this.container)||void 0===n?void 0:n.get(t))||null}},{key:"remove",value:function e(t){var n;return null===(n=this.container)||void 0===n?void 0:n.remove(t)}},{key:"active",value:function e(t){var n;t?null===(n=this.container)||void 0===n||n.active(t):this.setActive(!0)}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"isChildOfFloatArea",value:function e(){var t;return"leftFloatArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"isChildOfFixedArea",value:function e(){var t;return"leftFixedArea"===(null===(t=this.parent)||void 0===t?void 0:t.name)}},{key:"setActive",value:function e(t){var n;if(t!==this._actived)if(t)this.isChildOfFloatArea()?this.skeleton.leftFixedArea.container.unactiveAll():this.isChildOfFixedArea()&&this.skeleton.leftFloatArea.container.unactiveAll(),this._actived=!0,null===(n=this.parent)||void 0===n||n.active(this),this.inited||(this.inited=!0),this.emitter.emit("activechange",!0);else if(this.inited){var r,o;null!==(r=this.parent)&&void 0!==r&&r.name&&this.name.startsWith(this.parent.name)&&(this.inited=!1),this._actived=!1,null===(o=this.parent)||void 0===o||o.unactive(this),this.emitter.emit("activechange",!1)}}},{key:"toggle",value:function e(){this.setActive(!this._actived)}},{key:"hide",value:function e(){this.setActive(!1)}},{key:"disable",value:function e(){}},{key:"enable",value:function e(){}},{key:"show",value:function e(){this.setActive(!0)}},{key:"getAssocDocks",value:function e(){var t=this;return this.skeleton.widgets.filter((function(e){return Ak(e)&&e.panelName===t.name}))}},{key:"getSupportedPositions",value:function e(){return["default"]}},{key:"getCurrentPosition",value:function e(){return"default"}},{key:"setPosition",value:function e(){}},{key:"onActiveChange",value:function e(t){var n=this;return this.emitter.on("activechange",t),function(){n.emitter.removeListener("activechange",t)}}}])}();function zk(e){return e&&e.isPanel}function Wk(e){return(Wk="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xk(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$k(Object(n),!0).forEach((function(t){Yk(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Yk(e,t,n){return(t=Qk(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qk(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Kk(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Qk(r.key),r)}}function Jk(e,t,n){return t&&Kk(e.prototype,t),n&&Kk(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qk(e){var t=Zk(e,"string");return"symbol"==Wk(t)?t:t+""}function Zk(e,t){if("object"!=Wk(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Wk(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Uk.prototype,"inited",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],Uk.prototype,"_actived",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Boolean),Object(s.d)("design:paramtypes",[])],Uk.prototype,"actived",null),Object(s.b)([u.computed,Object(s.d)("design:type",Boolean),Object(s.d)("design:paramtypes",[])],Uk.prototype,"visible",null),Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(Lk=void 0!==ty&&ty)?Lk:Object)],Uk.prototype,"parent",void 0);var eS=function(){function e(t,n){qk(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(l.ib)("widget"),this.name=void 0,this.align=void 0,this._visible=!0,this.inited=!1,this._disabled=!1,this._body=void 0,this.title=void 0,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,this.title=o.title||i,o.onInit&&o.onInit.call(this,this)}return Jk(e,[{key:"visible",get:function e(){return this._visible}},{key:"body",get:function e(){if(this.inited)return this._body;this.inited=!0;var t=this.config,n=t.content,r=t.contentProps;return this._body=Object(l.n)(n,Xk(Xk({},r),{},{config:this.config,editor:Jm(this.skeleton.editor)})),this._body}},{key:"content",get:function e(){return Object(o.createElement)(Ok,{widget:this,key:this.id})}},{key:"getId",value:function e(){return this.id}},{key:"getName",value:function e(){return this.name}},{key:"getContent",value:function e(){return this.content}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}}])}();function tS(e){return e&&e.isWidget}function nS(e){return(nS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function oS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rS(Object(n),!0).forEach((function(t){iS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function iS(e,t,n){return(t=sS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sS(r.key),r)}}function cS(e,t,n){return t&&uS(e.prototype,t),n&&uS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sS(e){var t=lS(e,"string");return"symbol"==nS(t)?t:t+""}function lS(e,t){if("object"!=nS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=nS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],eS.prototype,"_visible",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],eS.prototype,"inited",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],eS.prototype,"_disabled",void 0);var fS=function(){function e(t,n){aS(this,e),this.skeleton=void 0,this.config=void 0,this.isWidget=!0,this.id=Object(l.ib)("dock"),this.name=void 0,this.align=void 0,this._visible=!0,this._disabled=!1,this.inited=!1,this._body=void 0,this.skeleton=t,this.config=n,Object(u.makeObservable)(this);var r=n.props,o=void 0===r?{}:r,i=n.name;this.name=i,this.align=o.align,o.onInit&&o.onInit.call(this,this)}return cS(e,[{key:"visible",get:function e(){return this._visible}},{key:"content",get:function e(){return Object(o.createElement)(Ok,{widget:this,key:this.id})}},{key:"body",get:function e(){if(this.inited)return this._body;var t=this.config,n=t.props,r=t.content,i=t.contentProps;return this._body=r?Object(l.n)(r,oS(oS({},i),{},{config:this.config,editor:Jm(this.skeleton.editor)})):Object(o.createElement)(dk,n),this.inited=!0,this._body}},{key:"setVisible",value:function e(t){t!==this._visible&&(t?this._visible=!0:this.inited&&(this._visible=!1))}},{key:"setDisabled",value:function e(t){this._disabled!==t&&(this._disabled=t)}},{key:"disable",value:function e(){this.setDisabled(!0)}},{key:"enable",value:function e(){this.setDisabled(!1)}},{key:"disabled",get:function e(){return this._disabled}},{key:"getContent",value:function e(){return this.content}},{key:"getName",value:function e(){return this.name}},{key:"hide",value:function e(){this.setVisible(!1)}},{key:"show",value:function e(){this.setVisible(!0)}},{key:"toggle",value:function e(){this.setVisible(!this._visible)}}])}();function pS(e){return(pS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function dS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function hS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,yS(r.key),r)}}function vS(e,t,n){return t&&hS(e.prototype,t),n&&hS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function yS(e){var t=mS(e,"string");return"symbol"==pS(t)?t:t+""}function mS(e,t){if("object"!=pS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=pS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function bS(e,t,n){return t=jS(t),gS(e,OS()?Reflect.construct(t,n||[],jS(e).constructor):t.apply(e,n))}function gS(e,t){if(t&&("object"==pS(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return wS(e)}function wS(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function OS(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(OS=function t(){return!!e})()}function jS(e){return(jS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ES(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kS(e,t)}function kS(e,t){return(kS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],fS.prototype,"_visible",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],fS.prototype,"_disabled",void 0);var SS=function(e){function t(e,n){var r;return dS(this,t),(r=bS(this,t,[e,n])).isRoot=void 0,r.previous=void 0,r.refer=void 0,r.isRoot=n.isRoot||!1,r}return ES(t,e),vS(t,[{key:"setPrevious",value:function e(t){this.previous=t}},{key:"getPrevious",value:function e(){return this.previous}},{key:"hasBack",value:function e(){return!(!this.previous||this.isRoot)}},{key:"setRefer",value:function e(t,n){this.refer={stage:t,direction:n}}},{key:"setReferRight",value:function e(t){this.setRefer(t,"right")}},{key:"setReferLeft",value:function e(t){this.setRefer(t,"left")}},{key:"getRefer",value:function e(){var t=this.refer;return this.refer=void 0,t}}])}(eS),_S=["dialogProps","balloonProps","panelProps","linkProps"],PS=["content"],xS,NS;function CS(e){return(CS="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TS(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function LS(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TS(Object(n),!0).forEach((function(t){AS(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TS(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function AS(e,t,n){return(t=VS(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RS(e,t){if(null==e)return{};var n,r,o=MS(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function MS(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function DS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function IS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,VS(r.key),r)}}function BS(e,t,n){return t&&IS(e.prototype,t),n&&IS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function VS(e){var t=FS(e,"string");return"symbol"==CS(t)?t:t+""}function FS(e,t){if("object"!=CS(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CS(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var GS=new l.e({level:"warn",bizName:"skeleton"}),HS;!function(e){e.PANEL_DOCK_ACTIVE="skeleton.panel-dock.active",e.PANEL_DOCK_UNACTIVE="skeleton.panel-dock.unactive",e.PANEL_SHOW="skeleton.panel.show",e.PANEL_HIDE="skeleton.panel.hide",e.WIDGET_SHOW="skeleton.widget.show",e.WIDGET_HIDE="skeleton.widget.hide",e.WIDGET_DISABLE="skeleton.widget.disable",e.WIDGET_ENABLE="skeleton.widget.enable"}(HS||(HS={}));var US=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";DS(this,e),this.editor=void 0,this.viewName=void 0,this.panels=new Map,this.configTransducers=[],this.containers=new Map,this.leftArea=void 0,this.topArea=void 0,this.subTopArea=void 0,this.toolbar=void 0,this.leftFixedArea=void 0,this.leftFloatArea=void 0,this.rightArea=void 0,this.mainArea=void 0,this.bottomArea=void 0,this.stages=void 0,this.widgets=[],this.focusTracker=new u.FocusTracker,this.editor=t,this.viewName=r,Object(u.makeObservable)(this),this.leftArea=new ad(this,"leftArea",(function(e){return tS(e)?e:n.createWidget(e)}),!1),this.topArea=new ad(this,"topArea",(function(e){return tS(e)?e:n.createWidget(e)}),!1),this.subTopArea=new ad(this,"subTopArea",(function(e){return tS(e)?e:n.createWidget(e)}),!1),this.toolbar=new ad(this,"toolbar",(function(e){return tS(e)?e:n.createWidget(e)}),!1),this.leftFixedArea=new ad(this,"leftFixedArea",(function(e){return zk(e)?e:n.createPanel(e)}),!0),this.leftFloatArea=new ad(this,"leftFloatArea",(function(e){return zk(e)?e:n.createPanel(e)}),!0),this.rightArea=new ad(this,"rightArea",(function(e){return zk(e)?e:n.createPanel(e)}),!1,!0),this.mainArea=new ad(this,"mainArea",(function(e){return tS(e)?e:n.createWidget(e)}),!0,!0),this.bottomArea=new ad(this,"bottomArea",(function(e){return zk(e)?e:n.createPanel(e)}),!0),this.stages=new ad(this,"stages",(function(e){return tS(e)?e:new SS(n,e)})),this.setupPlugins(),this.setupEvents(),this.focusTracker.mount(window)}return BS(e,[{key:"setupEvents",value:function e(){var t=this;this.editor.eventBus.on(HS.PANEL_SHOW,(function(e,n){var r,o="".concat(e,"-pinned-status-isFloat"),i,a,c,s;(null===(r=u.engineConfig.getPreference())||void 0===r?void 0:r.contains(o,"skeleton"))&&((null===(a=u.engineConfig.getPreference())||void 0===a?void 0:a.get(o,"skeleton"))!==(null==n?void 0:n.isChildOfFloatArea())&&t.toggleFloatStatus(n))}))}},{key:"toggleFloatStatus",value:function e(t){var n,r="leftFloatArea"===(null==t||null===(n=t.parent)||void 0===n?void 0:n.name);r?(this.leftFloatArea.remove(t),this.leftFixedArea.add(t),this.leftFixedArea.container.active(t)):(this.leftFixedArea.remove(t),this.leftFloatArea.add(t),this.leftFloatArea.container.active(t)),u.engineConfig.getPreference().set("".concat(t.name,"-pinned-status-isFloat"),!r,"skeleton")}},{key:"buildFromConfig",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t&&this.editor.init(t,n),this.setupPlugins()}},{key:"setupPlugins",value:function e(){var t=this,n=this.editor,r=n.config,o=n.components,i=void 0===o?{}:o;if(r){var a=r.plugins;a&&Object.keys(a).forEach((function(e){a[e].forEach((function(n){var r=n.pluginKey,o=n.type,a=n.props,u=void 0===a?{}:a,c=n.pluginProps,s={area:e,type:"Widget",name:r,contentProps:c},l=u.dialogProps,f=u.balloonProps,p=u.panelProps,d=u.linkProps,h=RS(u,_S);s.props=h,l&&(s.dialogProps=l),f&&(s.balloonProps=f),p&&(s.panelProps=p),d&&(s.linkProps=d),"TabPanel"===o?s.type="Panel":/Icon$/.test(o)&&(s.type=o.replace("Icon","Dock")),r in i&&(s.content=i[r]),t.add(s)}))}))}}},{key:"postEvent",value:function e(t){for(var n,r=arguments.length,o=new Array(r>1?r-1:0),i=1;i<r;i++)o[i-1]=arguments[i];(n=this.editor.eventBus).emit.apply(n,[t].concat(o))}},{key:"createWidget",value:function e(t){return tS(t)?t:(n=zv(t=this.parseConfig(t))?Xv(t)?new Tk(this,t):new fS(this,t):Uv(t)?new eS(this,LS(LS({},t),{},{type:"Widget",content:_i.Divider})):$v(t)?this.createPanel(t):new eS(this,t),this.widgets.push(n),n);var n}},{key:"getWidget",value:function e(t){return this.widgets.find((function(e){return e.name===t}))}},{key:"createPanel",value:function e(t){var n=this.parseConfig(t),r=new Uk(this,n);return this.panels.set(r.name,r),GS.debug("Panel created with name: ".concat(r.name," \nconfig:"),t,"\n current panels: ",this.panels),r}},{key:"getPanel",value:function e(t){return this.panels.get(t)}},{key:"getStage",value:function e(t){return this.stages.container.get(t)}},{key:"createStage",value:function e(t){var n,r=this.add(LS({name:Object(l.ib)("stage"),area:"stages"},t));return null==r||null===(n=r.getName)||void 0===n?void 0:n.call(r)}},{key:"createContainer",value:function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){return!0},i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=new ty(t,n,r,o,i);return this.containers.set(t,a),a}},{key:"parseConfig",value:function e(t){if(t.parsed)return t;var n=t.content,r=RS(t,PS);return n&&(Object(l.R)(n)&&!Object(o.isValidElement)(n)?Object.keys(n).forEach((function(e){/props$/i.test(e)&&r[e]?r[e]=LS(LS({},r[e]),n[e]):r[e]=n[e]})):r.content=n),r.pluginKey=r.name,r.parsed=!0,r}},{key:"registerConfigTransducer",value:function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2?arguments[2]:void 0;t.level=n,t.id=r;var o=this.configTransducers.findIndex((function(e){return null!=e.level&&e.level>n}));o<0?this.configTransducers.push(t):this.configTransducers.splice(o,0,t)}},{key:"getRegisteredConfigTransducers",value:function e(){return this.configTransducers}},{key:"add",value:function e(t,n){var r,o=this.getRegisteredConfigTransducers().reduce((function(e,t){return t(e)}),LS(LS({},this.parseConfig(t)),n)),i=o.area;switch(i||(i="Panel"===o.type?"leftFloatArea":"Widget"===o.type?"mainArea":"leftArea"),i){case"leftArea":case"left":return this.leftArea.add(o);case"rightArea":case"right":return this.rightArea.add(o);case"topArea":case"top":return this.topArea.add(o);case"subTopArea":return this.subTopArea.add(o);case"toolbar":return this.toolbar.add(o);case"mainArea":case"main":case"center":case"centerArea":return this.mainArea.add(o);case"bottomArea":case"bottom":return this.bottomArea.add(o);case"leftFixedArea":return this.leftFixedArea.add(o);case"leftFloatArea":return this.leftFloatArea.add(o);case"stages":return this.stages.add(o)}}}])}();Object(s.b)([u.obx,Object(s.d)("design:type","function"==typeof(xS=void 0!==ad&&ad)?xS:Object)],US.prototype,"mainArea",void 0),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",["function"==typeof(NS=void 0!==Uk&&Uk)?NS:Object]),Object(s.d)("design:returntype",void 0)],US.prototype,"toggleFloatStatus",null);var zS=n(121),WS;function $S(e){return($S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XS(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */XS=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==$S(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError($S(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function YS(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function qS(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){YS(i,r,o,a,u,"next",e)}function u(e){YS(i,r,o,a,u,"throw",e)}a(void 0)}))}}function KS(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function JS(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ZS(r.key),r)}}function QS(e,t,n){return t&&JS(e.prototype,t),n&&JS(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ZS(e){var t=e_(e,"string");return"symbol"==$S(t)?t:t+""}function e_(e,t){if("object"!=$S(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$S(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function t_(e){return e.map((function(e){return e.id})).sort().join(",")}var n_=function(){function e(t){KS(this,e),this.editor=void 0,this.emitter=Object(u.createModuleEventBus)("SettingsMain"),this._sessionId="",this._settings=void 0,this.disposeListener=void 0,this.designer=void 0,this.editor=t,Object(u.makeObservable)(this),this.init()}return QS(e,[{key:"length",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.nodes.length}},{key:"componentMeta",get:function e(){var t;return null===(t=this._settings)||void 0===t?void 0:t.componentMeta}},{key:"settings",get:function e(){return this._settings}},{key:"init",value:function(){var e=qS(XS().mark((function e(){var t=this,n,r;return XS().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return n=function e(n){n?t.setup(n.getNodes()):t.setup([])},this.editor.eventBus.on("designer.selection.change",n),this.disposeListener=function(){t.editor.removeListener("designer.selection.change",n)},o.next=5,this.editor.onceGot("designer");case 5:r=o.sent,this.designer=r,n(r.currentSelection);case 8:case"end":return o.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setup",value:function e(t){var n=t_(t);n!==this._sessionId&&(this._sessionId=n,t.length<1?this._settings=void 0:(this.designer||(this.designer=t[0].document.designer),1===t.length?this._settings=t[0].settingEntry:this._settings=this.designer.createSettingEntry(t)))}},{key:"purge",value:function e(){this.disposeListener(),this.emitter.removeAllListeners()}}])}();Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(WS=void 0!==hl&&hl)?WS:Object)],n_.prototype,"_settings",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],n_.prototype,"length",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],n_.prototype,"componentMeta",null),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],n_.prototype,"settings",null),Object(s.b)([u.action,Object(s.d)("design:type",Function),Object(s.d)("design:paramtypes",[Array]),Object(s.d)("design:returntype",void 0)],n_.prototype,"setup",null);var r_=n(52),o_=n(122);function i_(e){return(i_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a_(e){return l_(e)||s_(e)||c_(e)||u_()}function u_(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c_(e,t){if(e){if("string"==typeof e)return f_(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f_(e,t):void 0}}function s_(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function l_(e){if(Array.isArray(e))return f_(e)}function f_(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function p_(e,t,n){return t=y_(t),d_(e,v_()?Reflect.construct(t,n||[],y_(e).constructor):t.apply(e,n))}function d_(e,t){if(t&&("object"==i_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h_(e)}function h_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(v_=function t(){return!!e})()}function y_(e){return(y_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b_(e,t)}function b_(e,t){return(b_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function g_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w_(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g_(Object(n),!0).forEach((function(t){O_(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function O_(e,t,n){return(t=S_(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function j_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S_(r.key),r)}}function k_(e,t,n){return t&&E_(e.prototype,t),n&&E_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S_(e){var t=__(e,"string");return"symbol"==i_(t)?t:t+""}function __(e,t){if("object"!=i_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var P_=Object(o.createContext)({}),x_=function(){function e(){j_(this,e),this.emitter=Object(u.createModuleEventBus)("PopupPipe"),this.currentId=void 0}return k_(e,[{key:"create",value:function e(t){var n=this,r=null,o=null,i=Object(l.ib)("popup");return{send:function e(a,u){r=a,o=u,n.currentId===i&&n.popup(w_(w_({},t),{},{content:a,title:u}))},show:function e(a,u){n.currentId=i,n.popup(w_(w_({},t),{},{actionKey:u,content:r,title:o}),a)}}}},{key:"popup",value:function e(t,n){var r=this;Promise.resolve().then((function(){r.emitter.emit("popupchange",t,n)}))}},{key:"onPopupChange",value:function e(t){var n=this;return this.emitter.on("popupchange",t),function(){n.emitter.removeListener("popupchange",t)}}},{key:"purge",value:function e(){this.emitter.removeAllListeners()}}])}(),N_=function(e){function t(){var e;j_(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=p_(this,t,[].concat(r))).popupPipe=e.props.popupPipe||new x_,e}return m_(t,e),k_(t,[{key:"componentWillUnmount",value:function e(){this.popupPipe.purge()}},{key:"render",value:function e(){var t=this.props,n=t.children,r=t.actionKey,o=t.safeId,i=t.popupContainer;return React.createElement(P_.Provider,{value:this.popupPipe},n,React.createElement(C_,{key:"pop".concat(r),safeId:o,popupContainer:i}))}}])}(o.Component),C_=function(e){function t(){var e;j_(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=p_(this,t,[].concat(r))).popupContainerId=Object(l.ib)("popupContainer"),e.state={visible:!1,offsetX:-300},e.dispose=e.context.onPopupChange((function(t,n){var r=w_(w_({},t),{},{visible:!0});if(n){var o=n.getBoundingClientRect();r.pos={top:o.top,height:o.height}}e.setState(r)})),e.onClose=function(){e.setState({visible:!1})},e}return m_(t,e),k_(t,[{key:"componentDidMount",value:function e(){var t;(document.documentElement.clientWidth||document.body.clientWidth)>=1860&&this.setState({offsetX:-400})}},{key:"componentWillUnmount",value:function e(){this.dispose()}},{key:"render",value:function e(){var t=this,n=this.state,r=n.content,o=n.visible,i=n.title,a=n.actionKey,u=n.pos,c=n.offsetX,s=n.width,f=void 0===s?360:s,p=n.hasMask,d=void 0!==p&&p,h=n.canCloseByOutSideClick,v=void 0===h||h,y=n.safeNode,m=void 0===y?[]:y;if(!o)return null;var b=!0;setTimeout((function(){b=!1}),10);var g=Object(l.ib)("ball");return React.createElement(_i.Drawer,{width:f,visible:o,offset:[c,0],hasMask:d,onVisibleChange:function e(n,r){b||n||"closeClick"!==r||t.setState({visible:!1})},trigger:React.createElement("div",{className:"lc-popup-placeholder",style:u}),triggerType:"click",canCloseByOutSideClick:v,animation:!1,onClose:this.onClose,id:this.props.safeId,safeNode:[g].concat(a_(m)),closeable:!0,container:this.props.popupContainer},React.createElement("div",{className:"lc-ballon-title"},i),React.createElement("div",{className:"lc-ballon-content"},React.createElement(N_,{actionKey:a,safeId:g,popupContainer:this.popupContainerId},React.createElement(_i.ConfigProvider,{popupContainer:this.popupContainerId},r))),React.createElement("div",{id:this.popupContainerId}),React.createElement("div",{id:"engine-variable-setter-dialog"}),React.createElement("div",{id:"engine-popup-container"}))}}])}(o.PureComponent);function T_(e){return(T_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function L_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M_(r.key),r)}}function R_(e,t,n){return t&&A_(e.prototype,t),n&&A_(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function M_(e){var t=D_(e,"string");return"symbol"==T_(t)?t:t+""}function D_(e,t){if("object"!=T_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=T_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function I_(e,t,n){return t=G_(t),B_(e,F_()?Reflect.construct(t,n||[],G_(e).constructor):t.apply(e,n))}function B_(e,t){if(t&&("object"==T_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return V_(e)}function V_(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F_(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(F_=function t(){return!!e})()}function G_(e){return(G_=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H_(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&U_(e,t)}function U_(e,t){return(U_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}C_.contextType=P_;var z_=function(e){function t(){return L_(this,t),I_(this,t,arguments)}return H_(t,e),R_(t,[{key:"render",value:function e(){var t=this.props,n=t.position,r=t.theme,i=t.children;return o.createElement("div",{style:{display:"none"},"data-role":"tip","data-position":n,"data-theme":r},i)}}])}(o.Component);z_.displayName="InlineTip",z_.defaultProps={position:"auto",theme:"black"};var W_=n(63),$_=n(64),X_=Object(u.createIntl)({"en-US":W_,"zh-CN":$_}),Y_=X_.intl,q_=X_.intlNode,K_=X_.getLocale,J_=X_.setLocale;function Q_(e){return(Q_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z_(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nP(r.key),r)}}function tP(e,t,n){return t&&eP(e.prototype,t),n&&eP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nP(e){var t=rP(e,"string");return"symbol"==Q_(t)?t:t+""}function rP(e,t){if("object"!=Q_(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Q_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function oP(e,t,n){return t=cP(t),iP(e,uP()?Reflect.construct(t,n||[],cP(e).constructor):t.apply(e,n))}function iP(e,t){if(t&&("object"==Q_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return aP(e)}function aP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(uP=function t(){return!!e})()}function cP(e){return(cP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function sP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lP(e,t)}function lP(e,t){return(lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var fP=new l.e({level:"warn",bizName:"skeleton:field"}),pP=function(e){function t(e){var n;return Z_(this,t),(n=oP(this,t,[e])).state={collapsed:n.props.collapsed,display:n.props.defaultDisplay||"inline",hasError:!1},n.body=null,n.dispose=void 0,n.toggleExpand=function(){var e=n.props.onExpandChange,t=!n.state.collapsed;n.setState({collapsed:t}),e&&e(!t)},n.handleClear=n.handleClear.bind(n),n.clickHandler=n.clickHandler.bind(n),n}return sP(t,e),tP(t,[{key:"deployBlockTesting",value:function e(){var t=this;this.dispose&&this.dispose();var n=this.body;if(n){var r=function e(){var r=n.firstElementChild;r&&r.classList.contains("lc-block-setter")?t.setState({display:"block"}):t.setState({display:"inline"})},o=new MutationObserver(r);r(),o.observe(n,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]}),this.dispose=function(){return o.disconnect()}}}},{key:"handleClear",value:function e(t){t.stopPropagation(),this.props.onClear&&this.props.onClear()}},{key:"componentDidMount",value:function e(){var t=this.props.defaultDisplay;t&&"inline"!==t||this.deployBlockTesting()}},{key:"componentWillUnmount",value:function e(){this.dispose&&this.dispose()}},{key:"componentDidCatch",value:function e(t,n){fP.error("".concat(this.props.title," has error"),t,n)}},{key:"getTipContent",value:function e(t,n){var r=React.createElement("div",null,React.createElement("div",null,Y_("Attribute: "),t));return Object(po.isObject)(n)?r=React.createElement("div",null,React.createElement("div",null,Y_("Attribute: "),t),React.createElement("div",null,Y_("Description: "),n.content)):n&&(r=React.createElement("div",null,React.createElement("div",null,Y_("Attribute: "),t),React.createElement("div",null,Y_("Description: "),n))),r}},{key:"clickHandler",value:function e(t){var n=this.props,r=n.editor,o=n.name,i=n.title,a=n.meta;null==r||r.eventBus.emit("setting.setter.field.click",{name:o,title:i,meta:a,event:t})}},{key:"render",value:function e(){var t=this,n;if(this.state.hasError)return null;var r=this.props,o=r.className,i=r.children,a=r.meta,c=r.title,s=r.valueState,l=r.name,f=r.tip,p=this.state,d=p.display,h=p.collapsed,v="accordion"===d,y="";"object"===Q_(a)?y="".concat((null==a?void 0:a.package)||"","-").concat(a.componentName||""):"string"==typeof a&&(y=a);var m="".concat(y,"-").concat(l||c["en-US"]||c["zh-CN"]),b=this.getTipContent(l,f);return React.createElement("div",{className:Yo()("lc-field lc-".concat(d,"-field"),o,{"lc-field-is-collapsed":v&&h}),id:m},"plain"!==d&&React.createElement("div",{className:"lc-field-head",onClick:v?this.toggleExpand:void 0},React.createElement("div",{className:"lc-field-title"},(this.handleClear,null),React.createElement(u.Title,{title:c||"",onClick:this.clickHandler}),React.createElement(z_,{position:"top"},b)),v&&React.createElement(_i.Icon,{className:"lc-field-icon",type:"arrow-up",size:"xs"})),React.createElement("div",{key:"body",ref:function e(n){t.body=n},className:"lc-field-body"},i))}}],[{key:"getDerivedStateFromError",value:function e(){return{hasError:!0}}}])}(o.Component);function dP(){return null}var hP=function(e){function t(){var e;Z_(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=oP(this,t,[].concat(r))).pipe=void 0,e}return sP(t,e),tP(t,[{key:"render",value:function e(){var t=this,n=this.props,r=n.className,o=n.children,i=n.title,a=n.width;this.pipe||(this.pipe=this.context.create({width:a}));var c=i&&React.createElement("div",{className:"lc-field-title"},React.createElement(u.Title,{title:i}));return this.pipe.send(React.createElement("div",{className:"lc-field-body"},o),c),React.createElement("div",{className:Yo()("lc-field lc-popup-field",r)},i&&React.createElement("div",{className:"lc-field-head",onClick:function e(n){t.pipe.show(n.target)}},React.createElement("div",{className:"lc-field-title"},React.createElement(u.Title,{title:i})),React.createElement(_i.Icon,{className:"lc-field-icon",type:"arrow-left",size:"xs"})))}}])}(o.Component);hP.contextType=P_,hP.defaultProps={width:300};var vP=function(e){function t(){return Z_(this,t),oP(this,t,arguments)}return sP(t,e),tP(t,[{key:"render",value:function e(){var t=this.props,n=t.title,r=t.className,o=t.stageName,i=Yo()("lc-field","lc-entry-field",r);return React.createElement("div",{className:i},React.createElement("div",{className:"lc-field-head","data-stage-target":o},React.createElement("div",{className:"lc-field-title"},React.createElement(u.Title,{title:n||""})),React.createElement(_i.Icon,{className:"lc-field-icon",type:"arrow-right",size:"xs"})))}}])}(o.Component),yP=function(e){function t(){return Z_(this,t),oP(this,t,arguments)}return sP(t,e),tP(t,[{key:"render",value:function e(){var t=this.props,n=t.className,r=t.children;return React.createElement("div",{className:Yo()("lc-field lc-plain-field",n)},React.createElement("div",{className:"lc-field-body"},r))}}])}(o.Component),mP,bP,gP,wP;function OP(e){return(OP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function EP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?jP(Object(n),!0).forEach((function(t){kP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):jP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function kP(e,t,n){return(t=SP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function SP(e){var t=_P(e,"string");return"symbol"==OP(t)?t:t+""}function _P(e,t){if("object"!=OP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function PP(e,t,n){return"popup"===n?Object(o.createElement)(hP,e,t):"entry"===n?Object(o.createElement)(vP,e,t):"plain"!==n&&e.title?Object(o.createElement)(pP,EP(EP({},e),{},{defaultDisplay:n}),t):Object(o.createElement)(yP,e,t)}function xP(e){return(xP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function NP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CP(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?NP(Object(n),!0).forEach((function(t){TP(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):NP(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function TP(e,t,n){return(t=MP(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MP(r.key),r)}}function RP(e,t,n){return t&&AP(e.prototype,t),n&&AP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MP(e){var t=DP(e,"string");return"symbol"==xP(t)?t:t+""}function DP(e,t){if("object"!=xP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=xP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function IP(e,t,n){return t=GP(t),BP(e,FP()?Reflect.construct(t,n||[],GP(e).constructor):t.apply(e,n))}function BP(e,t){if(t&&("object"==xP(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return VP(e)}function VP(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FP(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FP=function t(){return!!e})()}function GP(e){return(GP=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HP(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UP(e,t)}function UP(e,t){return(UP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zP(e){return!!e&&null==e.prototype;var t}function WP(e){return Object(l.L)(e)?!1!==e.visible&&Array.isArray(e.value)&&e.value.length>0:null!=e}var $P=((mP=function(e){function t(e){var n,r;LP(this,t),(r=IP(this,t,[e])).stageName=void 0,r.setters=void 0;var i=r.props.field,a,c=i.extraProps.display,s=null===(n=i.designer)||void 0===n?void 0:n.editor,l,f,p=((null==s?void 0:s.get("skeleton"))||{}).stages,d;return r.setters=null==s?void 0:s.get("setters"),"entry"===c&&Object(u.runInAction)((function(){var e;d="".concat(i.getNode().id,"_").concat(null===(e=i.name)||void 0===e?void 0:e.toString()),p.container.remove(d),p.add({type:"Widget",name:d,content:React.createElement(o.Fragment,null,i.items.map((function(e,t){return YP(e,i,t)}))),props:{title:i.title}})})),r.stageName=d,r}return HP(t,e),RP(t,[{key:"field",get:function e(){return this.props.field}},{key:"visible",get:function e(){var t,n=this.field.extraProps.condition;try{return"function"!=typeof n||!1!==n(this.field.internalToShellField())}catch(e){console.error("exception when condition (hidden) is excuted",e)}return!0}},{key:"ignoreDefaultValue",get:function e(){var t,n=this.field.extraProps.ignoreDefaultValue;try{return"function"==typeof n&&n(this.field.internalToShellField())}catch(e){console.error("exception when ignoreDefaultValue is excuted",e)}return!1}},{key:"setterInfo",get:function e(){var t,n=this.field,r=n.extraProps,o=n.componentMeta,i=r.defaultValue,a=this.field.setter,c={},s,f=null;Array.isArray(a)?(s="MixedSetter",c={setters:a}):Object(l.X)(a)?(s=a.componentName,a.props&&"function"==typeof(c=a.props)&&(c=c(this.field.internalToShellField())),null!=a.initialValue&&(f=a.initialValue)):a&&(s=a),null==i||"defaultValue"in c||(c.defaultValue=i,null==f&&(f=i)),-1===this.field.valueState&&(c.multiValue=!0,"placeholder"in c||(c.placeholder=Y_("Multiple Value")));var p=null===(t=this.field.extraProps)||void 0===t?void 0:t.supportVariable,d=u.engineConfig.get("supportVariableGlobally",!1)&&zP(o),h;return!1===Object(l.gb)(p,d)||("MixedSetter"===s?Array.isArray(c.setters)&&!c.setters.includes("VariableSetter")&&c.setters.push("VariableSetter"):(s="MixedSetter",c={setters:[a,"VariableSetter"]})),{setterProps:c,initialValue:f,setterType:s}}},{key:"value",get:function e(){return-1===this.field.valueState?null:this.field.getValue()}},{key:"initDefaultValue",value:function e(){var t,n=this.setterInfo.initialValue;if(!(null!==(t=this.state)&&void 0!==t&&t.fromOnChange||!WP(n)||this.ignoreDefaultValue||void 0!==this.value)){var r="function"==typeof n?n(this.field.internalToShellField()):n;this.field.setValue(r)}}},{key:"componentDidMount",value:function e(){this.initDefaultValue()}},{key:"render",value:function e(){var t,n,r,o,i,a=this,c=this.field,s=c.extraProps,l;if(!this.visible)return null;var f=this.setterInfo,p=f.setterProps,d=void 0===p?{}:p,h=f.setterType,v=f.initialValue,y=void 0===v?null:v,m=this.value,b=null==s?void 0:s.onChange,g=this.stageName;return PP(CP({meta:(null==c||null===(t=c.componentMeta)||void 0===t?void 0:t.npm)||(null==c||null===(n=c.componentMeta)||void 0===n?void 0:n.componentName)||"",title:c.title,collapsed:!c.expanded,valueState:c.isRequired?10:c.valueState,onExpandChange:function e(t){return c.setExpanded(t)},onClear:function e(){return c.clearValue()},stageName:g},s),!g&&(null===(r=this.setters)||void 0===r?void 0:r.createSetterContent(h,CP(CP({},Object(u.shallowIntl)(d)),{},{forceInline:s.forceInline,key:c.id,prop:c.internalToShellField(),selected:null===(o=c.top)||void 0===o||null===(i=o.getNode())||void 0===i?void 0:i.internalToShellNode(),field:c.internalToShellField(),value:m,initialValue:y,onChange:function e(t){a.setState({fromOnChange:!0,value:t}),c.setValue(t,!0),b&&b(t,c.internalToShellField())},onInitial:function e(){if(null!=y){var t="function"==typeof y?y(c.internalToShellField()):y;a.setState({value:t}),c.setValue(t,!0)}},removeProp:function e(){c.name&&c.parent.clearPropValue(c.name)}}))),s.forceInline?"plain":s.display)}}])}(o.Component)).contextType=Pv,mP);$P=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],$P);var XP=((bP=function(e){function t(e){var n,r;LP(this,t),(r=IP(this,t,[e])).stageName=void 0;var i=r.props.field,a,c=i.extraProps.display,s=null===(n=r.props.field.designer)||void 0===n?void 0:n.editor,l,f=(null==s?void 0:s.get("skeleton")).stages,p;return"entry"===c&&Object(u.runInAction)((function(){var e;p="".concat(i.getNode().id,"_").concat(null===(e=i.name)||void 0===e?void 0:e.toString()),f.container.remove(p),f.add({type:"Widget",name:p,content:React.createElement(o.Fragment,null,i.items.map((function(e,t){return YP(e,i,t)}))),props:{title:i.title}})})),r.stageName=p,r}return HP(t,e),RP(t,[{key:"render",value:function e(){var t,n,r=this.props.field,o=r.extraProps,i=o.condition,a=o.display,u;return!r.isSingle||"function"!=typeof i||!1!==i(r.internalToShellField())?PP({meta:(null===(t=r.componentMeta)||void 0===t?void 0:t.npm)||(null===(n=r.componentMeta)||void 0===n?void 0:n.componentName)||"",title:r.title,collapsed:!r.expanded,onExpandChange:function e(t){return r.setExpanded(t)},stageName:this.stageName},r.items.map((function(e,t){return YP(e,r,t)})),a):null}}])}(o.Component)).contextType=Pv,bP);function YP(e,t,n){return al(e)?e.isGroup?React.createElement(XP,{field:e,key:e.id}):React.createElement($P,{field:e,key:e.id}):Object(l.n)(e,{key:n,field:t})}XP=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],XP);var qP=((gP=function(e){function t(){var e;LP(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=IP(this,t,[].concat(r))).currentStage=void 0,e.popupPipe=new x_,e.pipe=e.popupPipe.create(),e.handleClick=function(t){var n=e.props.usePopup,r;if(void 0===n||n){var o=t.currentTarget,i=c(t.target);if(i){var a=e.context;if(a&&a.stages){var u=a.stages.container.get(i);u&&(e.currentStage&&u.setPrevious(e.currentStage),e.currentStage=u)}}}function c(e){if(!o.contains(e)||"A"===e.nodeName&&e.getAttribute("href"))return null;var t=e.dataset?e.dataset.stageTarget:null;return t||c(e.parentNode)}},e}return HP(t,e),RP(t,[{key:"popStage",value:function e(){var t;this.currentStage=null===(t=this.currentStage)||void 0===t?void 0:t.getPrevious()}},{key:"render",value:function e(){var t=this.props.target,n=t.items;return React.createElement("div",{className:"lc-settings-pane",onClick:this.handleClick},React.createElement(N_,{popupPipe:this.popupPipe},React.createElement("div",{className:"lc-settings-content"},n.map((function(e,n){return YP(e,t,n)})))))}}])}(o.Component)).contextType=Pv,gP);function KP(e){return(KP="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JP(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QP(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ex(r.key),r)}}function ZP(e,t,n){return t&&QP(e.prototype,t),n&&QP(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ex(e){var t=tx(e,"string");return"symbol"==KP(t)?t:t+""}function tx(e,t){if("object"!=KP(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KP(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx,Object(s.d)("design:type","function"==typeof(wP=void 0!==SS&&SS)?wP:Object)],qP.prototype,"currentStage",void 0),qP=Object(s.b)([u.observer],qP);var nx=function(){function e(t){JP(this,e),this.emitter=void 0,this.stage=void 0,this.emitter=Object(u.createModuleEventBus)("StageChain"),this.stage=t}return ZP(e,[{key:"stagePush",value:function e(t){t&&(t.setPrevious(this.stage),t.setReferLeft(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBack",value:function e(){var t=this.stage.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"stageBackToRoot",value:function e(){for(var t=this.stage.getPrevious();t&&!t.isRoot;)t=t.getPrevious();t&&(t.setReferRight(this.stage),this.stage=t,this.emitter.emit("stagechange"))}},{key:"getCurrentStage",value:function e(){return this.stage}},{key:"onStageChange",value:function e(t){var n=this;return this.emitter.on("stagechange",t),function(){n.emitter.removeListener("stagechange",t)}}}])}();function rx(){return(rx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function ox(e){return React.createElement(l.f,rx({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function ix(){return(ix=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function ax(e){return React.createElement(l.f,ix({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M723.872 478.4l-81.12-81.152L688 352l135.776 135.776L846.4 510.4 688 668.8l-45.248-45.28 81.12-81.12H384v-64h339.872zM576 896H256.192A64.16 64.16 0 0 1 192 831.84V192.16c0-35.424 28.704-64.16 64.192-64.16H576v64H288.224A31.968 31.968 0 0 0 256 223.744v576.512C256 817.44 270.4 832 288.224 832H576v64z"}))}function ux(e){return(ux="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function sx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,fx(r.key),r)}}function lx(e,t,n){return t&&sx(e.prototype,t),n&&sx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fx(e){var t=px(e,"string");return"symbol"==ux(t)?t:t+""}function px(e,t){if("object"!=ux(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ux(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function dx(e,t,n){return t=mx(t),hx(e,yx()?Reflect.construct(t,n||[],mx(e).constructor):t.apply(e,n))}function hx(e,t){if(t&&("object"==ux(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return vx(e)}function vx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(yx=function t(){return!!e})()}function mx(e){return(mx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function bx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gx(e,t)}function gx(e,t){return(gx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}ox.displayName="Arrow",ax.displayName="Exit";var wx={current:!1},Ox=function(e){function t(){var e;cx(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=dx(this,t,[].concat(r))).timer=void 0,e.additionClassName=void 0,e.shell=void 0,e}return bx(t,e),lx(t,[{key:"componentDidMount",value:function e(){this.doSkate()}},{key:"componentDidUpdate",value:function e(){this.doSkate()}},{key:"componentWillUnmount",value:function e(){window.clearTimeout(this.timer)}},{key:"doSkate",value:function e(){var t=this;window.clearTimeout(this.timer),this.additionClassName&&(this.timer=window.setTimeout((function(){var e=t.shell;e&&(t.props.current?e.classList.remove(t.additionClassName):e.classList.add(t.additionClassName),t.additionClassName=null)}),15))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.stage,o=n.current,a=n.direction,u=null==r?void 0:r.getContent(),c=r.title,s=Object(l.ab)(c)?c.label:c;o?a&&(this.additionClassName="skeleton-stagebox-stagein-".concat(a)):a&&(this.additionClassName="skeleton-stagebox-stageout-".concat(a));var f=Yo()("skeleton-stagebox-stage",{"skeleton-stagebox-refer":!o},this.additionClassName),p=null!=r&&r.hasBack()?i.a.createElement("div",{className:"skeleton-stagebox-stagebacker"},i.a.createElement(ox,{className:"skeleton-stagebox-stage-arrow",size:"medium","data-stage-target":"stageback"}),i.a.createElement("span",{className:"skeleton-stagebox-stage-title"},s),i.a.createElement(ax,{className:"skeleton-stagebox-stage-exit",size:"medium","data-stage-target":"stageexit"})):null;return i.a.createElement("div",{ref:function e(n){t.shell=n},className:f},p,i.a.createElement("div",{className:"skeleton-stagebox-stage-content"},u))}}])}(o.Component),jx;function Ex(e){return(Ex="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Sx(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Px(r.key),r)}}function _x(e,t,n){return t&&Sx(e.prototype,t),n&&Sx(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Px(e){var t=xx(e,"string");return"symbol"==Ex(t)?t:t+""}function xx(e,t){if("object"!=Ex(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Ex(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Nx(e,t,n){return t=Ax(t),Cx(e,Lx()?Reflect.construct(t,n||[],Ax(e).constructor):t.apply(e,n))}function Cx(e,t){if(t&&("object"==Ex(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Tx(e)}function Tx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Lx=function t(){return!!e})()}function Ax(e){return(Ax=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Rx(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Mx(e,t)}function Mx(e,t){return(Mx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Ox.defaultProps=wx;var Dx={},Ix=((jx=function(e){function t(e){var n;kx(this,t),(n=Nx(this,t,[e])).stageChain=void 0,n.willDetach=[],n.shell=void 0,n.popupPipe=new x_,n.pipe=n.popupPipe.create();var r=n.props,o=r.stageChain,i=r.children,a=r.skeleton;if(o)n.stageChain=o;else{var u=a.createStage({content:i,isRoot:!0});n.stageChain=new nx(a.getStage(u))}return n.willDetach.push(n.stageChain.onStageChange((function(){return n.forceUpdate()}))),n}return Rx(t,e),_x(t,[{key:"componentDidMount",value:function e(){var t=this,n=this.shell,r=function e(t){if(!t||null==n||!n.contains(t)||"A"===t.nodeName&&t.getAttribute("href"))return null;var o=t.dataset?t.dataset.stageTarget:null;return o||r(t.parentNode)},o=function e(n){var o=r(n.target);if(o)if("stageback"===o)t.stageChain.stageBack();else if("stageexit"===o)t.stageChain.stageBackToRoot();else{var i=t.props.skeleton;t.stageChain.stagePush(i.getStage(o))}};null==n||n.addEventListener("click",o,!1),this.willDetach.push((function(){return null==n?void 0:n.removeEventListener("click",o,!1)}))}},{key:"componentWillUnmount",value:function e(){this.willDetach&&this.willDetach.forEach((function(e){return e()}))}},{key:"render",value:function e(){var t=this,n=Yo()("skeleton-stagebox",this.props.className),r=this.stageChain.getCurrentStage(),o=null==r?void 0:r.getRefer(),a=null,u=null,c;o?(a=i.a.createElement(Ox,{key:r.getId(),stage:r,direction:o.direction,current:!0}),u=i.a.createElement(Ox,{key:null==o||null===(c=o.stage)||void 0===c?void 0:c.getId(),stage:null==o?void 0:o.stage,direction:o.direction})):a=i.a.createElement(Ox,{key:r.getId(),stage:r,current:!0});return i.a.createElement("div",{ref:function e(n){t.shell=n},className:n},i.a.createElement(N_,{popupPipe:this.popupPipe},u,a))}}])}(o.Component)).defaultProps=Dx,jx.displayName="StageBox",jx),Bx=Ix=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],Ix),Vx=n(123);function Fx(e){return(Fx="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Gx(){return(Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function Hx(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Hx=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==Fx(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Fx(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function Ux(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function zx(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){Ux(i,r,o,a,u,"next",e)}function u(e){Ux(i,r,o,a,u,"throw",e)}a(void 0)}))}}function Wx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Yx(r.key),r)}}function Xx(e,t,n){return t&&$x(e.prototype,t),n&&$x(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Yx(e){var t=qx(e,"string");return"symbol"==Fx(t)?t:t+""}function qx(e,t){if("object"!=Fx(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Fx(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function Kx(e,t,n){return t=eN(t),Jx(e,Zx()?Reflect.construct(t,n||[],eN(e).constructor):t.apply(e,n))}function Jx(e,t){if(t&&("object"==Fx(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Qx(e)}function Qx(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Zx(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(Zx=function t(){return!!e})()}function eN(e){return(eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tN(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nN(e,t)}function nN(e,t){return(nN=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var rN=function(e){function t(e){var n;return Wx(this,t),(n=Kx(this,t,[e])).state={shouldIgnoreRoot:!1},n.main=new n_(n.props.engineEditor),n._activeKey=void 0,Object(u.makeObservable)(n),n}return tN(t,e),Xx(t,[{key:"componentDidMount",value:function e(){var t=this,n;this.setShouldIgnoreRoot(),this.props.engineEditor.eventBus.on("designer.selection.change",(function(){u.engineConfig.get("stayOnTheSameSettingTab",!1)||(t._activeKey=null)}))}},{key:"setShouldIgnoreRoot",value:function(){var e=zx(Hx().mark((function e(){var t;return Hx().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,u.globalContext.get("editor").get("designMode");case 2:t=n.sent,this.setState({shouldIgnoreRoot:"live"===t});case 4:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this.main.purge()}},{key:"renderBreadcrumb",value:function e(){var t,n,r,o,a=this.main,c=a.settings,s=a.editor,f=this.state.shouldIgnoreRoot,p;if(!c)return null;if(c.isMultiple)return i.a.createElement("div",{className:"lc-settings-navigator"},Object(l.p)(null===(p=c.componentMeta)||void 0===p?void 0:p.icon,{className:"lc-settings-navigator-icon"}),i.a.createElement("div",{style:{marginLeft:"5px"}},i.a.createElement(u.Title,{title:c.componentMeta.title}),i.a.createElement("span",null," x ",c.nodes.length)));for(var d=s.get("designer"),h=null==d||null===(t=d.currentSelection)||void 0===t||null===(n=t.getNodes())||void 0===n?void 0:n[0],v=c.first,y=null===(r=v.document)||void 0===r?void 0:r.focusNode,m=[],b=3,g=function e(){var t=v;if(f&&v.isRoot())return 1;y&&v.contains(y)&&(b=0);var n=2===b?{}:{onMouseOver:oN.bind(null,t,!0),onMouseOut:oN.bind(null,t,!1),onClick:function e(){if(t){iN.call(null,t);var n=function e(t){var n,r,o=null==t||null===(n=t.componentMeta)||void 0===n?void 0:n.npm;return[null==o?void 0:o.package,null==o?void 0:o.componentName].filter((function(e){return!!e})).join("-")||(null==t||null===(r=t.componentMeta)||void 0===r?void 0:r.componentName)||""},r=n(h),o=n(t);null==s||s.eventBus.emit("skeleton.settingsPane.Breadcrumb",{selected:r,target:o})}}};m.unshift(i.a.createElement(_i.Breadcrumb.Item,Gx({},n,{key:v.id}),i.a.createElement(u.Title,{title:v.title}))),v=v.parent};b-- >0&&v&&!g(););return i.a.createElement("div",{className:"lc-settings-navigator"},Object(l.p)(null===(o=this.main.componentMeta)||void 0===o?void 0:o.icon,{className:"lc-settings-navigator-icon",class:"lc-settings-navigator-icon"}),i.a.createElement(_i.Breadcrumb,{className:"lc-settings-node-breadcrumb"},m))}},{key:"render",value:function e(){var t=this,n=this.main.settings,r=this.props.engineEditor;if(!n)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,Y_("Please select a node in canvas"))));if(n.isLocked&&!u.engineConfig.get("enableLockedNodeSetting",!1))return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,Y_("Current node is locked"))));if(Array.isArray(n.items)&&0===n.items.length)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,Y_("No config found for this type of component"))));if(!n.isSameComponent)return i.a.createElement("div",{className:"lc-settings-main"},i.a.createElement("div",{className:"lc-settings-notice"},i.a.createElement("p",null,Y_("Please select same kind of components"))));var o=n.items;if(o.length>5||o.some((function(e){return!al(e)||!e.isGroup})))return i.a.createElement("div",{className:"lc-settings-main"},this.renderBreadcrumb(),i.a.createElement("div",{className:"lc-settings-body"},i.a.createElement(Pv.Consumer,null,(function(e){return e?i.a.createElement(Bx,{skeleton:e,target:n,key:n.id},i.a.createElement(qP,{target:n,usePopup:!1})):null}))));var a=!1,c=o.map((function(e){return t._activeKey===e.name&&(a=!0),i.a.createElement(_i.Tab.Item,{className:"lc-settings-tab-item",title:i.a.createElement(u.Title,{title:e.title}),key:e.name,onClick:function t(){null==r||r.eventBus.emit("skeleton.settingsPane.change",{name:e.name,title:e.title})}},i.a.createElement(Pv.Consumer,null,(function(t){return t?i.a.createElement(Bx,{skeleton:t,target:e,key:e.id},i.a.createElement(qP,{target:e,key:e.id,usePopup:!1})):null})))})),s=a?this._activeKey:o[0].name,l=Yo()("lc-settings-main",{"lc-settings-hide-tabs":1===o.length&&u.engineConfig.get("hideSettingsTabsWhenOnlyOneItem",!1)});return i.a.createElement("div",{className:l},this.renderBreadcrumb(),i.a.createElement(_i.Tab,{activeKey:s,onChange:function e(n){t._activeKey=n},navClassName:"lc-settings-tabs",animation:!1,excessMode:"dropdown",contentClassName:"lc-settings-tabs-content"},c))}}])}(o.Component);function oN(e,t){e.hover(t)}function iN(e){null==e||e.select()}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],rN.prototype,"_activeKey",void 0),rN=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],rN);var aN=/^function/,uN=/^\w+\s*\(/,cN=Object(l.t)({level:"warn",bizName:"skeleton:transducers"});function sN(e){if("string"!=typeof e)return e;var t;uN.test(e)&&!aN.test(e)&&(e="function ".concat(e));var n="\n    return function() {\n      const self = this;\n      try {\n        return (".concat(e,").apply(self, arguments);\n      } catch(e) {\n        console.warn('call function which parsed by lowcode failed: ', e);\n        return e.message;\n      }\n    };\n  ");try{t=new Function(n)()}catch(t){cN.error(e),cN.error(t.message)}return t}function lN(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e&&Object.keys(e).forEach((function(n){var r=e[n];Object(l.K)(r)?e[n]=sN(r.value):Array.isArray(r)?r.forEach((function(e){return lN(e,t)})):Object(l.R)(r)&&lN(r,t)}))}var fN=function(e){return lN(e,!1),e};function pN(e){return yN(e)||vN(e)||hN(e)||dN()}function dN(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hN(e,t){if(e){if("string"==typeof e)return mN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?mN(e,t):void 0}}function vN(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function yN(e){if(Array.isArray(e))return mN(e)}function mN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function bN(e){return(bN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function gN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function wN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gN(Object(n),!0).forEach((function(t){ON(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ON(e,t,n){return(t=jN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jN(e){var t=EN(e,"string");return"symbol"==bN(t)?t:t+""}function EN(e,t){if("object"!=bN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=bN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function kN(e){var t=e.name,n=e.description,r;return wN(wN({title:{label:{type:"i18n","en-US":t,"zh-CN":(null==n?void 0:n.slice(0,10))||t},tip:n?"".concat(t," | ").concat(n):void 0}},e),{},{setter:e.setter?e.setter:SN(e.propType)})}function SN(e){var t,n=!1;switch("string"==typeof e?t=e:"object"===bN(e)?(t=e.type,n=e.isRequired):t="string",t){case"string":return{componentName:"StringSetter",isRequired:n,initialValue:""};case"number":return{componentName:"NumberSetter",isRequired:n,initialValue:0};case"bool":return{componentName:"BoolSetter",isRequired:n,initialValue:!1};case"oneOf":var r=(e.value||[]).map((function(e,t){var n=bN(e);return{label:"string"===n||"number"===n||"boolean"===n?String(e):"value ".concat(t),value:e}})),o;return{componentName:r.length>=4?"SelectSetter":"RadioGroupSetter",props:{dataSource:r,options:r},isRequired:n,initialValue:r[0]?r[0].value:null};case"element":case"node":return{componentName:"SlotSetter",props:{mode:t},isRequired:n,initialValue:{type:"JSSlot",value:[]}};case"shape":case"exact":var i=(e.value||[]).map((function(e){return kN(e)}));return{componentName:"ObjectSetter",props:{config:{items:i,extraSetter:"shape"===t?SN("any"):null}},isRequired:n,initialValue:function e(t){var n={};return i.forEach((function(e){var r=e.defaultValue;null==r&&e.setter&&"object"===bN(e.setter)&&(r=e.setter.initialValue),n[e.name]=r?"function"==typeof r?r(t):r:null})),n}};case"object":case"objectOf":return{componentName:"ObjectSetter",props:{config:{extraSetter:SN("objectOf"===t?e.value:"any")}},isRequired:n,initialValue:{}};case"array":case"arrayOf":return{componentName:"ArraySetter",props:{itemSetter:SN("arrayOf"===t?e.value:"any")},isRequired:n,initialValue:[]};case"func":return{componentName:"FunctionSetter",isRequired:n};case"color":return{componentName:"ColorSetter",isRequired:n};case"oneOfType":return{componentName:"MixedSetter",props:{setters:e.value.map((function(e){return SN(e)}))},isRequired:n}}return{componentName:"MixedSetter",isRequired:n,props:{}}}var _N=/^on|after|before[A-Z][\w]*$/,PN=function(e){var t=e.configure,n=void 0===t?{}:t,r=null;if(n.props){if(Array.isArray(n.props))return e;var o=n.props,i=o.isExtends,a=o.override,u=void 0===a?[]:a;if(!i)return wN(wN({},e),{},{configure:wN(wN({},n),{},{props:pN(u)})});r={},u.forEach((function(e){r[e.name]=e}))}if(!e.props)return wN(wN({},e),{},{configure:wN(wN({},n),{},{props:[]})});var c=n.component,s=void 0===c?{}:c,l=n.supports,f=void 0===l?{}:l,p=f.events?null:[],d=[];return e.props.forEach((function(e){var t=e,n=t.name,o=t.propType,i=t.description;if("children"===n&&(s.isContainer||"node"===o||"element"===o||"any"===o)&&!1!==s.isContainer)return s.isContainer=!0,void d.push(kN(e));!_N.test(n)||"func"!==o&&"any"!==o?"className"!==n||"string"!==o&&"any"!==o?"style"!==n||"object"!==o&&"any"!==o?(r&&n in r&&(e=r[n]),d.push(kN(e))):null==f.style&&(f.style=!0):null==f.className&&(f.className=!0):p&&(p.push({name:n,description:i}),f.events=p)})),wN(wN({},e),{},{configure:wN(wN({},n),{},{props:d,supports:f,component:s})})};function xN(){return(xN=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function NN(e){return React.createElement(l.f,xN({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M682.325333 135.509333V204.8H819.2v613.376h-614.741333V204.8h136.874666v-69.290667h-206.165333v752.298667h754.346667V135.509333z",c:"Q29weXJpZ2h0IChjKSAyMDIwLXByZXNlbnQgQWxpYmFiYSBJbmMu"}),React.createElement("path",{d:"M512 512m-170.325333 0a170.325333 170.325333 0 1 0 340.650666 0 170.325333 170.325333 0 1 0-340.650666 0Z"}))}function CN(e){return(CN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function TN(e){return MN(e)||RN(e)||AN(e)||LN()}function LN(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function AN(e,t){if(e){if("string"==typeof e)return DN(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?DN(e,t):void 0}}function RN(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function MN(e){if(Array.isArray(e))return DN(e)}function DN(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function IN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function BN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?IN(Object(n),!0).forEach((function(t){VN(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function VN(e,t,n){return(t=FN(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FN(e){var t=GN(e,"string");return"symbol"==CN(t)?t:t+""}function GN(e,t){if("object"!=CN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=CN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}NN.displayName="IconSlot";var HN=function(e){var t=e.componentName,n=e.configure,r=void 0===n?{}:n;if(r.combined)return e;if("Leaf"===t)return BN(BN({},e),{},{configure:BN(BN({},r),{},{combined:[{name:"children",title:{type:"i18n","zh-CN":"\u5185\u5bb9\u8bbe\u7f6e","en-US":"Content"},setter:{componentName:"MixedSetter",props:{setters:[{componentName:"StringSetter",props:{multiline:!0},initialValue:""},{componentName:"ExpressionSetter",initialValue:{type:"JSExpression",value:""}}]}}}]})});var o=r.props,i=r.supports,a=void 0===i?{}:i,u="Page"===t||"Component"===t,c=[],s=a.lifecycles||null;s&&c.push({type:"lifeCycleEvent",title:"\u751f\u547d\u5468\u671f",list:s.map((function(e){return"string"==typeof e?{name:e}:e}))}),a.events&&c.push({type:"events",title:"\u4e8b\u4ef6",list:(a.events||[]).map((function(e){return"string"==typeof e?{name:e}:e}))});var l=o?TN(o):[],f={};"Slot"===t&&(r.component?"object"===CN(r.component)&&(r.component.isContainer=!0):r.component={isContainer:!0},f.icon=NN,l=[{name:q("title"),title:{type:"i18n","en-US":"Slot Title","zh-CN":"\u63d2\u69fd\u6807\u9898"},setter:"StringSetter",defaultValue:"\u63d2\u69fd\u5bb9\u5668"}]);var p=[],d=[];if(l)for(var h=l.length;h-- >0;){var v=l[h],y;if("__style__"===v.name||"style"===v.name||"containerStyle"===v.name||"pageStyle"===v.name)l.splice(h,1),p.push(v),null!==(y=v.extraProps)&&void 0!==y&&y.defaultCollapsed&&"containerStyle"!==v.name&&(v.extraProps.defaultCollapsed=!1)}var m=[{title:{type:"i18n","zh-CN":"\u5c5e\u6027","en-US":"Props"},name:"#props",items:l}];return a.className&&p.push({name:"className",title:{type:"i18n","zh-CN":"\u7c7b\u540d\u7ed1\u5b9a","en-US":"ClassName"},setter:"ClassNameSetter"}),a.style&&p.push({name:"style",title:{type:"i18n","zh-CN":"\u884c\u5185\u6837\u5f0f","en-US":"Style"},setter:"StyleSetter",extraProps:{display:"block"}}),p.length>0&&m.push({name:"#styles",title:{type:"i18n","zh-CN":"\u6837\u5f0f","en-US":"Styles"},items:p}),c.length>0&&m.push({name:"#events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6","en-US":"Events"},items:[{name:"__events",title:{type:"i18n","zh-CN":"\u4e8b\u4ef6\u8bbe\u7f6e","en-US":"Events"},setter:{componentName:"EventsSetter",props:{definition:c}},getValue:function e(t,n){return n},setValue:function e(t,n){var r=n.eventDataList,o=n.eventList;Array.isArray(o)&&o.map((function(e){return t.parent.clearPropValue(e.name),e})),Array.isArray(r)&&r.map((function(e){return t.parent.setPropValue(e.name,{type:"JSFunction",value:"function(){return this.".concat(e.relatedEventName,".apply(this,Array.prototype.slice.call(arguments).concat([").concat(e.paramStr?e.paramStr:"","])) }")}),e}))}}]}),u||(!1!==a.condition&&d.push({name:q("condition"),title:{type:"i18n","zh-CN":"\u662f\u5426\u6e32\u67d3","en-US":"Condition"},defaultValue:!0,setter:[{componentName:"BoolSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}}),!1!==a.loop&&d.push({name:"#loop",title:{type:"i18n","zh-CN":"\u5faa\u73af","en-US":"Loop"},items:[{name:q("loop"),title:{type:"i18n","zh-CN":"\u5faa\u73af\u6570\u636e","en-US":"Loop Data"},setter:[{componentName:"JsonSetter",props:{label:{type:"i18n","zh-CN":"\u7f16\u8f91\u6570\u636e","en-US":"Edit Data"},defaultValue:"[]"}},{componentName:"VariableSetter"}]},{name:q("loopArgs.0"),title:{type:"i18n","zh-CN":"\u8fed\u4ee3\u53d8\u91cf\u540d","en-US":"Loop Item"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: item","en-US":"Defaults: item"}}}},{name:q("loopArgs.1"),title:{type:"i18n","zh-CN":"\u7d22\u5f15\u53d8\u91cf\u540d","en-US":"Loop Index"},setter:{componentName:"StringSetter",props:{placeholder:{type:"i18n","zh-CN":"\u9ed8\u8ba4\u4e3a: index","en-US":"Defaults: index"}}}},{name:"key",title:{type:"i18n","zh-CN":"\u5faa\u73af Key","en-US":"Loop Key"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}]}],extraProps:{display:"accordion"}}),!1===a.condition&&!1===a.loop||d.push({name:"key",title:{label:{type:"i18n","zh-CN":"\u6e32\u67d3\u552f\u4e00\u6807\u8bc6 (key)","en-US":"Render unique identifier (key)"},tip:{type:"i18n","zh-CN":"\u642d\u914d\u300c\u6761\u4ef6\u6e32\u67d3\u300d\u6216\u300c\u5faa\u73af\u6e32\u67d3\u300d\u65f6\u4f7f\u7528\uff0c\u548c react \u7ec4\u4ef6\u4e2d\u7684 key \u539f\u7406\u76f8\u540c\uff0c\u70b9\u51fb\u67e5\u770b\u5e2e\u52a9","en-US":"Used with \u300cConditional Rendering\u300dor\u300cCycle Rendering\u300d, the same principle as the key in the react component, click to view the help"},docUrl:"https://www.yuque.com/lce/doc/qm75w3"},setter:[{componentName:"StringSetter"},{componentName:"VariableSetter"}],extraProps:{display:"block"}})),d.length>0&&m.push({name:"#advanced",title:{type:"i18n","zh-CN":"\u9ad8\u7ea7","en-US":"Advanced"},items:d}),BN(BN(BN({},e),f),{},{configure:BN(BN({},r),{},{combined:m})})},UN=function e(t){var n=t.material;return{init:function e(){n.registerMetadataTransducer(fN,1,"parse-func"),n.registerMetadataTransducer(PN,5,"parse-props"),n.registerMetadataTransducer(HN,10,"combine-props")}}};function zN(e){return(zN="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WN(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,YN(r.key),r)}}function XN(e,t,n){return t&&$N(e.prototype,t),n&&$N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function YN(e){var t=qN(e,"string");return"symbol"==zN(t)?t:t+""}function qN(e,t){if("object"!=zN(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=zN(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function KN(e,t,n){return t=eC(t),JN(e,ZN()?Reflect.construct(t,n||[],eC(e).constructor):t.apply(e,n))}function JN(e,t){if(t&&("object"==zN(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return QN(e)}function QN(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ZN(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(ZN=function t(){return!!e})()}function eC(e){return(eC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function tC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nC(e,t)}function nC(e,t){return(nC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}UN.pluginName="___register_defaults___";var rC=function(e){function t(){return WN(this,t),KN(this,t,arguments)}return tC(t,e),XN(t,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName;return n.isEmpty()?null:React.createElement("div",{className:Yo()("lc-workspace-sub-top-area lc-sub-top-area engine-actionpane",{"lc-area-visible":n.visible})},React.createElement(iC,{area:n,itemClassName:r}))}}])}(o.Component),oC=rC=Object(s.b)([u.observer],rC),iC=function(e){function t(){return WN(this,t),KN(this,t,arguments)}return tC(t,e),XN(t,[{key:"render",value:function e(){var t=this.props,n=t.area,r=t.itemClassName,i=[],a=[],u=[];n.container.items.slice().sort((function(e,t){var n,r,o=(null===(n=e.config)||void 0===n?void 0:n.index)||0,i=(null===(r=t.config)||void 0===r?void 0:r.index)||0;return o===i?0:o>i?1:-1})).forEach((function(e){var t=React.createElement("div",{className:r||"",key:"top-area-".concat(e.name)},e.content);"center"===e.align?a.push(t):"left"===e.align?i.push(t):u.push(t)}));var c=[];return i&&i.length&&c.push(React.createElement("div",{className:"lc-workspace-sub-top-area-left lc-sub-top-area-left"},i)),a&&a.length&&c.push(React.createElement("div",{className:"lc-workspace-sub-top-area-center lc-sub-top-area-center"},a)),u&&u.length&&c.push(React.createElement("div",{className:"lc-workspace-sub-top-area-right lc-sub-top-area-right"},u)),React.createElement(o.Fragment,null,c)}}])}(o.Component);function aC(e){return(aC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */uC=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==aC(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(aC(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function cC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function sC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){cC(i,r,o,a,u,"next",e)}function u(e){cC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function lC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pC(r.key),r)}}function fC(e,t,n){return t&&lC(e.prototype,t),n&&lC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pC(e){var t=dC(e,"string");return"symbol"==aC(t)?t:t+""}function dC(e,t){if("object"!=aC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}iC=Object(s.b)([u.observer],iC);var vC=fC((function e(t,n,r,o){hC(this,e),this.registerLevel=void 0,this.editorWindow=void 0,this.skeleton=void 0,this.plugins=void 0,this.project=void 0,this.setters=void 0,this.material=void 0,this.common=void 0,this.config=void 0,this.event=void 0,this.logger=void 0,this.hotkey=void 0,this.innerProject=void 0,this.editor=void 0,this.designer=void 0,this.registerInnerPlugins=void 0,this.innerSetters=void 0,this.innerSkeleton=void 0,this.innerHotkey=void 0,this.innerPlugins=void 0,this.canvas=void 0,this.pluginEvent=void 0,this.preference=void 0,this.workspace=void 0,this.registerLevel=r,this.editorWindow=o;var i=new u.Editor(n,!0),a=new US(i,n);i.set("skeleton",a);var s=new Af({editor:i,viewName:n,shellModelFactory:null==t?void 0:t.shellModelFactory});i.set("designer",s);var f=s.project,p=new cw(t),d=new u.Hotkey(n),h=new ib(d,!0),v=new u.Setters(n),y=new Og(v,!0),m=new xb(i,!0),b=new fg(f,!0),g=u.engineConfig,w=new Km(u.commonEvent,{prefix:"common"}),O=Object(l.t)({level:"warn",bizName:"common"}),j=new Fg(a,"any",!0),E=new Qg(i,!0),k=new kw(i),S=new u.Command;i.set("setters",y),i.set("project",b),i.set("material",m),i.set("hotkey",h),i.set("innerHotkey",d),this.innerSetters=v,this.innerSkeleton=a,this.skeleton=j,this.innerProject=f,this.project=b,this.setters=y,this.material=m,this.config=g,this.event=w,this.logger=O,this.hotkey=h,this.innerHotkey=d,this.editor=i,this.designer=s,this.canvas=E;var _=new Gm(i,a),P;this.common=_;var x,N=new Qp({assembleApis:function e(t,n,s){t.workspace=p,t.hotkey=h,t.project=b,t.skeleton=new Fg(a,n,!0),t.setters=y,t.material=m;var l=(null==s?void 0:s.eventPrefix)||"common",f=null==s?void 0:s.commandScope;t.event=new Km(u.commonEvent,{prefix:l}),t.config=g,t.common=_,t.plugins=P,t.logger=new db({level:"warn",bizName:"plugin:".concat(n)}),t.canvas=E,t.commonUI=k,o&&(t.editorWindow=new Jj(o)),t.command=new Aw(S,t,{commandScope:f}),t.registerLevel=r,t.isPluginRegisteredInWorkspace=r===c.h.Workspace,i.set("pluginContext",t)}},n);this.innerPlugins=N,P=new Vb(N,!0).toProxy(),i.set("plugins",P),i.set("innerPlugins",N),this.plugins=P,this.registerInnerPlugins=function(){var e=sC(uC().mark((function e(){return uC().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,null==t?void 0:t.registryInnerPlugin(s,i,P);case 2:case"end":return n.stop()}}),e)})));function n(){return e.apply(this,arguments)}return n}()})),yC=n(7);function mC(e){return React.createElement("div",{className:"lc-designer lowcode-plugin-designer"},React.createElement("div",{className:"lc-project"},React.createElement("div",{className:"lc-simulator-shell"},React.createElement("iframe",{name:"webview-view-".concat(e.viewName),className:"lc-simulator-content-frame",style:{height:"100%",width:"100%"},src:e.url}))))}function bC(e,t){function n(n){var r=n.skeleton;return{init:function o(){r.add({area:"mainArea",name:"designer",type:"Widget",content:mC,contentProps:{ctx:n,url:e,viewName:t}})}}}return n.pluginName="___webview_plugin___",n}function gC(e){return(gC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function OC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){wC(i,r,o,a,u,"next",e)}function u(e){wC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function jC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */jC=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==gC(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(gC(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function EC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function kC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,_C(r.key),r)}}function SC(e,t,n){return t&&kC(e.prototype,t),n&&kC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _C(e){var t=PC(e,"string");return"symbol"==gC(t)?t:t+""}function PC(e,t){if("object"!=gC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=gC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function xC(e,t,n){return t=LC(t),NC(e,TC()?Reflect.construct(t,n||[],LC(e).constructor):t.apply(e,n))}function NC(e,t){if(t&&("object"==gC(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return CC(e)}function CC(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function TC(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(TC=function t(){return!!e})()}function LC(e){return(LC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function AC(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&RC(e,t)}function RC(e,t){return(RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var MC=function(e){function t(e,n,r,o){var i;return EC(this,t),(i=xC(this,t,[e,r.viewName,c.h.EditorView,n])).workspace=void 0,i.editorWindow=void 0,i.editorView=void 0,i.viewName="editor-view",i.instance=void 0,i.viewType=void 0,i._activate=!1,i.isInit=!1,i.init=Object(yC.flow)(jC().mark((function e(){var t,n,r,o,i;return jC().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if("webview"!==this.viewType){a.next=8;break}return a.next=3,null===(r=this.instance)||void 0===r||null===(o=r.url)||void 0===o?void 0:o.call(r);case 3:return i=a.sent,a.next=6,this.plugins.register(bC(i,this.viewName));case 6:a.next=10;break;case 8:return a.next=10,this.registerInnerPlugins();case 10:return a.next=12,null===(t=this.instance)||void 0===t||null===(n=t.init)||void 0===n?void 0:n.call(t);case 12:return a.next=14,this.innerPlugins.init();case 14:this.isInit=!0;case 15:case"end":return a.stop()}}),e,this)}))),i.onSimulatorRendererReady=function(){return new Promise((function(e){i.project.onSimulatorRendererReady((function(){e()}))}))},i.setActivate=function(e){i._activate=e,i.innerHotkey.activate(i._activate)},i.workspace=e,i.editorWindow=n,i.editorView=r,i.viewType=r.viewType||"editor",i.viewName=r.viewName,i.instance=r(i.innerPlugins._getLowCodePluginContext({pluginName:"any"}),o),Object(u.makeObservable)(i),i}return AC(t,e),SC(t,[{key:"active",get:function e(){return this._activate}},{key:"save",value:function(){var e=OC(jC().mark((function e(){var t,n;return jC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=this.instance)||void 0===t||null===(n=t.save)||void 0===n?void 0:n.call(t);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}])}(vC),DC,IC,BC;function VC(e){return(VC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function FC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */FC=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==VC(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(VC(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function GC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function HC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){GC(i,r,o,a,u,"next",e)}function u(e){GC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function UC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zC(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,$C(r.key),r)}}function WC(e,t,n){return t&&zC(e.prototype,t),n&&zC(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $C(e){var t=XC(e,"string");return"symbol"==VC(t)?t:t+""}function XC(e,t){if("object"!=VC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=VC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx,Object(s.d)("design:type",Object)],MC.prototype,"_activate",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Boolean)],MC.prototype,"isInit",void 0),Object(s.b)([u.computed,Object(s.d)("design:type",Object),Object(s.d)("design:paramtypes",[])],MC.prototype,"active",null),function(e){e.sleep="sleep",e.active="active",e.inactive="inactive",e.destroyed="destroyed"}(BC||(BC={}));var YC=function(){function e(t,n,r){var o=this;UC(this,e),this.resource=void 0,this.workspace=void 0,this.config=void 0,this.id=Object(l.ib)("window"),this.icon=void 0,this.emitter=Object(u.createModuleEventBus)("Project"),this.title=void 0,this.url=void 0,this._editorView=void 0,this.editorViews=new Map,this.initReady=!1,this.sleep=void 0,this.initViewTypes=HC(FC().mark((function e(){var t,n,r;return FC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(t=o.resource.editorViews){i.next=3;break}return i.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){i.next=12;break}return r=t[n].viewName,i.next=8,o.initViewType(r);case 8:o._editorView||o.changeViewName(r);case 9:n++,i.next=4;break;case 12:case"end":return i.stop()}}),e)}))),this.execViewTypesInit=HC(FC().mark((function e(){var t,n,r,i;return FC().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(t=o.resource.editorViews){a.next=3;break}return a.abrupt("return");case 3:n=0;case 4:if(!(n<t.length)){a.next=12;break}return i=t[n].viewName,o.changeViewName(i),a.next=9,null===(r=o.editorViews.get(i))||void 0===r?void 0:r.init();case 9:n++,a.next=4;break;case 12:case"end":return a.stop()}}),e)}))),this.setDefaultViewName=function(){var e;o.changeViewName(null!==(e=o.config.viewName)&&void 0!==e?e:o.resource.defaultViewName)},this.initViewType=function(){var e=HC(FC().mark((function e(t){var n,r;return FC().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(n=o.resource.getEditorView(t),!o.editorViews.get(t)){i.next=3;break}return i.abrupt("return");case 3:r=new MC(o.workspace,o,n,o.config.options),o.editorViews.set(t,r);case 5:case"end":return i.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.changeViewName=function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];null===(t=o._editorView)||void 0===t||t.setActivate(!1),o._editorView=o.editorViews.get(e),o._editorView&&(o._editorView.setActivate(!0),n||(o.emitter.emit("window.change.view.type",e),o.id===o.workspace.window.id&&o.workspace.emitChangeActiveEditorView()))},this.resource=t,this.workspace=n,this.config=r,Object(u.makeObservable)(this),this.title=r.title,this.icon=t.icon,this.sleep=r.sleep,r.sleep&&this.updateState(BC.sleep)}return WC(e,[{key:"editorView",get:function e(){return this._editorView?this._editorView:this.editorViews.values().next().value}},{key:"updateState",value:function e(t){var n,r;switch(t){case BC.active:null===(n=this._editorView)||void 0===n||n.setActivate(!0);break;case BC.inactive:null===(r=this._editorView)||void 0===r||r.setActivate(!1);break;case BC.destroyed:}}},{key:"importSchema",value:function(){var e=HC(FC().mark((function e(t){var n=this,r;return FC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.resource.import(t);case 2:if(r=o.sent){o.next=5;break}return o.abrupt("return");case 5:Object.keys(r).forEach((function(e){var t=n.editorViews.get(e);null==t||t.project.importSchema(r[e])}));case 6:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=HC(FC().mark((function e(){var t,n,r,o,i,a,u;return FC().wrap((function e(c){for(;;)switch(c.prev=c.next){case 0:if(t={},n=this.resource.editorViews){c.next=4;break}return c.abrupt("return");case 4:r=0;case 5:if(!(r<n.length)){c.next=14;break}return i=n[r].viewName,c.next=9,null===(o=this.editorViews.get(i))||void 0===o?void 0:o.save();case 9:a=c.sent,t[i]=a;case 11:r++,c.next=5;break;case 14:return c.next=16,this.resource.save(t);case 16:return u=c.sent,this.emitter.emit("handle.save"),c.abrupt("return",u);case 19:case"end":return c.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onSave",value:function e(t){var n=this;return this.emitter.on("handle.save",t),function(){n.emitter.off("handle.save",t)}}},{key:"init",value:function(){var e=HC(FC().mark((function e(){var t=this;return FC().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.initViewTypes();case 2:return n.next=4,this.execViewTypesInit();case 4:return Promise.all(Array.from(this.editorViews.values()).map((function(e){return e.onSimulatorRendererReady()}))).then((function(){t.workspace.emitWindowRendererReady()})),n.next=7,this.resource.url();case 7:this.url=n.sent,this.setDefaultViewName(),this.initReady=!0,this.workspace.checkWindowQueue(),this.sleep=!1,this.updateState(BC.active);case 13:case"end":return n.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onChangeViewType",value:function e(t){var n=this;return this.emitter.on("window.change.view.type",t),function(){n.emitter.off("window.change.view.type",t)}}},{key:"resourceType",get:function e(){return this.resource.resourceType.type}},{key:"project",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.project}},{key:"innerProject",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerProject}},{key:"innerSkeleton",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSkeleton}},{key:"innerSetters",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerSetters}},{key:"innerHotkey",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerHotkey}},{key:"editor",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.editor}},{key:"designer",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.designer}},{key:"plugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.plugins}},{key:"innerPlugins",get:function e(){var t;return null===(t=this.editorView)||void 0===t?void 0:t.innerPlugins}}])}();function qC(e){return(qC="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function KC(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */KC=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==qC(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(qC(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function JC(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function QC(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){JC(i,r,o,a,u,"next",e)}function u(e){JC(i,r,o,a,u,"throw",e)}a(void 0)}))}}function ZC(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nT(r.key),r)}}function tT(e,t,n){return t&&eT(e.prototype,t),n&&eT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function nT(e){var t=rT(e,"string");return"symbol"==qC(t)?t:t+""}function rT(e,t){if("object"!=qC(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=qC(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}Object(s.b)([u.obx.ref,Object(s.d)("design:type","function"==typeof(DC=void 0!==MC&&MC)?DC:Object)],YC.prototype,"_editorView",void 0),Object(s.b)([u.obx,Object(s.d)("design:type","function"==typeof(IC="undefined"!=typeof Map&&Map)?IC:Object)],YC.prototype,"editorViews",void 0),Object(s.b)([u.obx,Object(s.d)("design:type",Object)],YC.prototype,"initReady",void 0);var oT=new l.e({level:"warn",bizName:"workspace:resource"}),iT=function(){function e(t,n,r){var o=this,i,a;ZC(this,e),this.resourceData=void 0,this.resourceType=void 0,this.workspace=void 0,this.context=void 0,this.resourceTypeInstance=void 0,this.editorViewMap=new Map,this.children=void 0,this.resourceData=t,this.resourceType=n,this.workspace=r,this.context=new vC(r,"resource-".concat(t.resourceName||n.name),c.h.Resource),this.resourceTypeInstance=n.resourceTypeModel(this.context.innerPlugins._getLowCodePluginContext({pluginName:""}),this.options),this.init(),this.resourceTypeInstance.editorViews&&this.resourceTypeInstance.editorViews.forEach((function(e){o.editorViewMap.set(e.viewName,e)})),n||oT.error("resourceType[".concat(n,"] is unValid.")),this.children=(null===(i=this.resourceData)||void 0===i||null===(a=i.children)||void 0===a?void 0:a.map((function(t){return new e(t,o.workspace.getResourceType(t.resourceName||o.resourceType.name),o.workspace)})))||[]}return tT(e,[{key:"name",get:function e(){return this.resourceType.name}},{key:"viewName",get:function e(){return this.resourceData.viewName||this.resourceData.viewType||this.defaultViewName}},{key:"description",get:function e(){var t;return null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.description}},{key:"icon",get:function e(){var t;return this.resourceData.icon||(null===(t=this.resourceTypeInstance)||void 0===t?void 0:t.icon)}},{key:"type",get:function e(){return this.resourceType.type}},{key:"title",get:function e(){return this.resourceData.title||this.resourceTypeInstance.defaultTitle}},{key:"id",get:function e(){return this.resourceData.id}},{key:"options",get:function e(){return this.resourceData.options}},{key:"category",get:function e(){var t;return null===(t=this.resourceData)||void 0===t?void 0:t.category}},{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"config",get:function e(){return this.resourceData.config}},{key:"init",value:function(){var e=QC(KC().mark((function e(){var t,n;return KC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).init)||void 0===t?void 0:t.call(n);case 2:return r.next=4,this.context.innerPlugins.init();case 4:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"import",value:function(){var e=QC(KC().mark((function e(t){var n,r;return KC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).import)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"url",value:function(){var e=QC(KC().mark((function e(){var t,n;return KC().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,null===(t=(n=this.resourceTypeInstance).url)||void 0===t?void 0:t.call(n);case 2:return r.abrupt("return",r.sent);case 3:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=QC(KC().mark((function e(t){var n,r;return KC().wrap((function e(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,null===(n=(r=this.resourceTypeInstance).save)||void 0===n?void 0:n.call(r,t);case 2:return o.abrupt("return",o.sent);case 3:case"end":return o.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"editorViews",get:function e(){return this.resourceTypeInstance.editorViews}},{key:"defaultViewName",get:function e(){return this.resourceTypeInstance.defaultViewName||this.resourceTypeInstance.defaultViewType}},{key:"getEditorView",value:function e(t){return this.editorViewMap.get(t)}}])}();function aT(e){return(aT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lT(r.key),r)}}function sT(e,t,n){return t&&cT(e.prototype,t),n&&cT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lT(e){var t=fT(e,"string");return"symbol"==aT(t)?t:t+""}function fT(e,t){if("object"!=aT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var pT=function(){function e(t){uT(this,e),this.resourceTypeModel=void 0,this.resourceTypeModel=t}return sT(e,[{key:"name",get:function e(){return this.resourceTypeModel.resourceName}},{key:"type",get:function e(){return this.resourceTypeModel.resourceType}}])}(),dT;function hT(e){return(hT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vT(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */vT=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==hT(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(hT(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function yT(e){return wT(e)||gT(e)||bT(e)||mT()}function mT(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function bT(e,t){if(e){if("string"==typeof e)return OT(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?OT(e,t):void 0}}function gT(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function wT(e){if(Array.isArray(e))return OT(e)}function OT(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function jT(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function ET(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){jT(i,r,o,a,u,"next",e)}function u(e){jT(i,r,o,a,u,"throw",e)}a(void 0)}))}}function kT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ST(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PT(r.key),r)}}function _T(e,t,n){return t&&ST(e.prototype,t),n&&ST(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PT(e){var t=xT(e,"string");return"symbol"==hT(t)?t:t+""}function xT(e,t){if("object"!=hT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=hT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.CHANGE_WINDOW="change_window",e.CHANGE_ACTIVE_WINDOW="change_active_window",e.WINDOW_RENDER_READY="window_render_ready",e.CHANGE_ACTIVE_EDITOR_VIEW="change_active_editor_view"}(dT||(dT={}));var NT="resource.list.change",CT=function(){function e(t,n){kT(this,e),this.registryInnerPlugin=void 0,this.shellModelFactory=void 0,this.context=void 0,this.enableAutoOpenFirstWindow=void 0,this.resourceTypeMap=new Map,this.emitter=Object(u.createModuleEventBus)("workspace"),this._isActive=!1,this.resourceList=[],this.windows=[],this.editorWindowMap=new Map,this.window=void 0,this.windowQueue=[],this.registryInnerPlugin=t,this.shellModelFactory=n,this.context=new vC(this,"",c.h.Workspace),this.context.innerHotkey.activate(!0),Object(u.makeObservable)(this)}return _T(e,[{key:"skeleton",get:function e(){return this.context.innerSkeleton}},{key:"plugins",get:function e(){return this.context.innerPlugins}},{key:"isActive",get:function e(){return this._isActive}},{key:"defaultResourceType",get:function e(){return this.resourceTypeMap.size>=1?Array.from(this.resourceTypeMap.values())[0]:null}},{key:"checkWindowQueue",value:function e(){if(this.windowQueue&&this.windowQueue.length){var t=this.windowQueue.shift();t instanceof iT?this.openEditorWindowByResource(t):t&&this.openEditorWindow(t.name,t.title,t.options,t.viewName)}}},{key:"initWindow",value:function(){var e=ET(vT().mark((function e(){var t,n;return vT().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:if(this.defaultResourceType&&!1!==this.enableAutoOpenFirstWindow){r.next=2;break}return r.abrupt("return");case 2:return t=this.defaultResourceType.name,n=new iT({resourceName:t,options:{}},this.defaultResourceType,this),this.window=new YC(n,this,{title:n.title}),r.next=7,this.window.init();case 7:this.editorWindowMap.set(this.window.id,this.window),this.windows=[].concat(yT(this.windows),[this.window]),this.emitChangeWindow(),this.emitChangeActiveWindow();case 11:case"end":return r.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActive",value:function e(t){this._isActive=t}},{key:"registerResourceType",value:function(){var e=ET(vT().mark((function e(t){var n;return vT().wrap((function e(r){for(;;)switch(r.prev=r.next){case 0:n=new pT(t),this.resourceTypeMap.set(t.resourceName,n),!this.window&&this.defaultResourceType&&this._isActive&&this.initWindow();case 3:case"end":return r.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getResourceList",value:function e(){return this.resourceList}},{key:"setResourceList",value:function e(t){var n=this;this.resourceList=t.map((function(e){return new iT(e,n.getResourceType(e.resourceName),n)})),this.emitter.emit(NT,t)}},{key:"onResourceListChange",value:function e(t){var n=this;return this.emitter.on(NT,t),function(){n.emitter.off(NT,t)}}},{key:"onWindowRendererReady",value:function e(t){var n=this;return this.emitter.on(dT.WINDOW_RENDER_READY,t),function(){n.emitter.off(dT.WINDOW_RENDER_READY,t)}}},{key:"emitWindowRendererReady",value:function e(){this.emitter.emit(dT.WINDOW_RENDER_READY)}},{key:"getResourceType",value:function e(t){return this.resourceTypeMap.get(t)}},{key:"removeResourceType",value:function e(t){this.resourceTypeMap.has(t)&&this.resourceTypeMap.delete(t)}},{key:"removeEditorWindowById",value:function e(t){var n=this.windows.findIndex((function(e){return e.id===t}));this.remove(n)}},{key:"remove",value:function(){var e=ET(vT().mark((function e(t){var n,r,o,i;return vT().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:if(!(t<0)){a.next=2;break}return a.abrupt("return");case 2:if(o=this.windows[t],this.windows.splice(t,1),null===(n=this.window)||void 0===n||n.updateState(BC.destroyed),this.window!==o){a.next=11;break}if(this.window=this.windows[t]||this.windows[t+1]||this.windows[t-1],null===(i=this.window)||void 0===i||!i.sleep){a.next=10;break}return a.next=10,this.window.init();case 10:this.emitChangeActiveWindow();case 11:this.emitChangeWindow(),null===(r=this.window)||void 0===r||r.updateState(BC.active);case 13:case"end":return a.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"removeEditorWindow",value:function e(t,n){var r=this.windows.findIndex((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&(e.title===n||e.resource.id===n)}));this.remove(r)}},{key:"removeEditorWindowByResource",value:function e(t){var n=this.windows.findIndex((function(e){var n;return(null===(n=e.resource)||void 0===n?void 0:n.id)===t.id}));this.remove(n)}},{key:"openEditorWindowById",value:function(){var e=ET(vT().mark((function e(t){var n,r,o;return vT().wrap((function e(i){for(;;)switch(i.prev=i.next){case 0:if(o=this.editorWindowMap.get(t),null===(n=this.window)||void 0===n||n.updateState(BC.inactive),!o){i.next=8;break}if(this.window=o,!o.sleep){i.next=7;break}return i.next=7,o.init();case 7:this.emitChangeActiveWindow();case 8:null===(r=this.window)||void 0===r||r.updateState(BC.active);case 9:case"end":return i.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditorWindowByResource",value:function(){var e=ET(vT().mark((function e(t){var n,r,o,i,a,u,c,s=arguments;return vT().wrap((function e(l){for(;;)switch(l.prev=l.next){case 0:if(i=s.length>1&&void 0!==s[1]&&s[1],!this.window||this.window.sleep||null!==(n=this.window)&&void 0!==n&&n.initReady||i){l.next=4;break}return this.windowQueue.push(t),l.abrupt("return");case 4:if(null===(r=this.window)||void 0===r||r.updateState(BC.inactive),!(a=this.windows.filter((function(e){var n;return(null===(n=e.resource)||void 0===n?void 0:n.id)===t.id})))||!a.length){l.next=17;break}if(this.window=a[0],i||!this.window.sleep){l.next=13;break}return l.next=11,this.window.init();case 11:l.next=14;break;case 13:this.checkWindowQueue();case 14:return this.emitChangeActiveWindow(),null===(u=this.window)||void 0===u||u.updateState(BC.active),l.abrupt("return");case 17:if(c=new YC(t,this,{title:t.title,options:t.options,viewName:t.viewName,sleep:i}),this.windows=[].concat(yT(this.windows),[c]),this.editorWindowMap.set(c.id,c),!i){l.next=23;break}return this.emitChangeWindow(),l.abrupt("return");case 23:return this.window=c,l.next=26,this.window.init();case 26:this.emitChangeWindow(),this.emitChangeActiveWindow(),null===(o=this.window)||void 0===o||o.updateState(BC.active);case 29:case"end":return l.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"openEditorWindow",value:function(){var e=ET(vT().mark((function e(t,n,r,o,i){var a,u,c,s,l,f,p,d;return vT().wrap((function e(h){for(;;)switch(h.prev=h.next){case 0:if(!this.window||this.window.sleep||null!==(a=this.window)&&void 0!==a&&a.initReady||i){h.next=3;break}return this.windowQueue.push({name:t,title:n,options:r,viewName:o}),h.abrupt("return");case 3:if(s=this.resourceTypeMap.get(t)){h.next=7;break}return console.error("".concat(t," resourceType is not available")),h.abrupt("return");case 7:if(null===(u=this.window)||void 0===u||u.updateState(BC.inactive),!(l=this.windows.filter((function(e){var r;return(null===(r=e.resource)||void 0===r?void 0:r.name)===t&&e.resource.title==n||e.resource.id==n})))||!l.length){h.next=20;break}if(this.window=l[0],i||!this.window.sleep){h.next=16;break}return h.next=14,this.window.init();case 14:h.next=17;break;case 16:this.checkWindowQueue();case 17:return this.emitChangeActiveWindow(),null===(f=this.window)||void 0===f||f.updateState(BC.active),h.abrupt("return");case 20:if(p=new iT({resourceName:t,title:n,options:r,id:null==n?void 0:n.toString()},s,this),d=new YC(p,this,{title:n,options:r,viewName:o,sleep:i}),this.windows=[].concat(yT(this.windows),[d]),this.editorWindowMap.set(d.id,d),!i){h.next=27;break}return this.emitChangeWindow(),h.abrupt("return");case 27:return this.window=d,h.next=30,this.window.init();case 30:this.emitChangeWindow(),this.emitChangeActiveWindow(),null===(c=this.window)||void 0===c||c.updateState(BC.active);case 33:case"end":return h.stop()}}),e,this)})));function t(t,n,r,o,i){return e.apply(this,arguments)}return t}()},{key:"onChangeWindows",value:function e(t){var n=this;return this.emitter.on(dT.CHANGE_WINDOW,t),function(){n.emitter.removeListener(dT.CHANGE_WINDOW,t)}}},{key:"onChangeActiveEditorView",value:function e(t){var n=this;return this.emitter.on(dT.CHANGE_ACTIVE_EDITOR_VIEW,t),function(){n.emitter.removeListener(dT.CHANGE_ACTIVE_EDITOR_VIEW,t)}}},{key:"emitChangeActiveEditorView",value:function e(){this.emitter.emit(dT.CHANGE_ACTIVE_EDITOR_VIEW)}},{key:"emitChangeWindow",value:function e(){this.emitter.emit(dT.CHANGE_WINDOW)}},{key:"emitChangeActiveWindow",value:function e(){this.emitter.emit(dT.CHANGE_ACTIVE_WINDOW),this.emitChangeActiveEditorView()}},{key:"onChangeActiveWindow",value:function e(t){var n=this;return this.emitter.on(dT.CHANGE_ACTIVE_WINDOW,t),function(){n.emitter.removeListener(dT.CHANGE_ACTIVE_WINDOW,t)}}}])}();function TT(e){return(TT="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function LT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,MT(r.key),r)}}function RT(e,t,n){return t&&AT(e.prototype,t),n&&AT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MT(e){var t=DT(e,"string");return"symbol"==TT(t)?t:t+""}function DT(e,t){if("object"!=TT(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=TT(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function IT(e,t,n){return t=GT(t),BT(e,FT()?Reflect.construct(t,n||[],GT(e).constructor):t.apply(e,n))}function BT(e,t){if(t&&("object"==TT(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return VT(e)}function VT(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function FT(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(FT=function t(){return!!e})()}function GT(e){return(GT=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function HT(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&UT(e,t)}function UT(e,t){return(UT=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}Object(s.b)([u.obx.ref,Object(s.d)("design:type",Array)],CT.prototype,"windows",void 0),Object(s.b)([u.obx.ref,Object(s.d)("design:type",Object)],CT.prototype,"window",void 0);var zT=function(e){function t(){return LT(this,t),IT(this,t,arguments)}return HT(t,e),RT(t,[{key:"render",value:function e(){var t=this.props.active,n=this.props.editorView,r=n.innerSkeleton;if(!n.isInit){var o=u.engineConfig.get("loadingComponent",Wu);return React.createElement(o,null)}return React.createElement(Gv,{skeleton:r,className:t?"active engine-editor-view":"engine-editor-view",topAreaItemClassName:"engine-actionitem"})}}])}(o.PureComponent);zT=Object(s.b)([u.observer],zT);var WT=n(124);function $T(e){return($T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XT(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YT(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KT(r.key),r)}}function qT(e,t,n){return t&&YT(e.prototype,t),n&&YT(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KT(e){var t=JT(e,"string");return"symbol"==$T(t)?t:t+""}function JT(e,t){if("object"!=$T(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$T(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function QT(e,t,n){return t=nL(t),ZT(e,tL()?Reflect.construct(t,n||[],nL(e).constructor):t.apply(e,n))}function ZT(e,t){if(t&&("object"==$T(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eL(e)}function eL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tL=function t(){return!!e})()}function nL(e){return(nL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oL(e,t)}function oL(e,t){return(oL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var iL=function(e){function t(){return XT(this,t),QT(this,t,arguments)}return rL(t,e),qT(t,[{key:"render",value:function e(){var t=this.props.resource.skeleton,n=this.props.window.editorViews;return React.createElement("div",{className:"workspace-resource-view"},React.createElement(Od,{area:t.topArea,itemClassName:"engine-actionitem"}),React.createElement("div",{className:"workspace-editor-body"},Array.from(n.values()).map((function(e){return React.createElement(zT,{key:e.name,active:e.active,editorView:e})}))))}}])}(o.PureComponent);function aL(e){return(aL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function uL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,lL(r.key),r)}}function sL(e,t,n){return t&&cL(e.prototype,t),n&&cL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lL(e){var t=fL(e,"string");return"symbol"==aL(t)?t:t+""}function fL(e,t){if("object"!=aL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=aL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function pL(e,t,n){return t=yL(t),dL(e,vL()?Reflect.construct(t,n||[],yL(e).constructor):t.apply(e,n))}function dL(e,t){if(t&&("object"==aL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return hL(e)}function hL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function vL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(vL=function t(){return!!e})()}function yL(e){return(yL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function mL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&bL(e,t)}function bL(e,t){return(bL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}iL=Object(s.b)([u.observer],iL);var gL=function(e){function t(){return uL(this,t),pL(this,t,arguments)}return mL(t,e),sL(t,[{key:"render",value:function e(){var t=this.props.active,n=this.props.window,r=n.resource,o=n.initReady,i=n.url;if(!o){var a=u.engineConfig.get("loadingComponent",Wu);return React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(a,null))}return"webview"===r.type&&i?React.createElement(mC,{url:i,viewName:r.name}):React.createElement("div",{className:"workspace-engine-main ".concat(t?"active":"")},React.createElement(iL,{resource:r,window:this.props.window}))}}])}(o.PureComponent);gL=Object(s.b)([u.observer],gL);var wL=Object(o.createContext)({});function OL(e){return(OL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function EL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,SL(r.key),r)}}function kL(e,t,n){return t&&EL(e.prototype,t),n&&EL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function SL(e){var t=_L(e,"string");return"symbol"==OL(t)?t:t+""}function _L(e,t){if("object"!=OL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=OL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function PL(e,t,n){return t=TL(t),xL(e,CL()?Reflect.construct(t,n||[],TL(e).constructor):t.apply(e,n))}function xL(e,t){if(t&&("object"==OL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return NL(e)}function NL(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CL(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CL=function t(){return!!e})()}function TL(e){return(TL=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LL(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AL(e,t)}function AL(e,t){return(AL=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var RL=function(e){function t(e){var n;jL(this,t);var r=(n=PL(this,t,[e])).props,o=r.config,i=r.components,a,c;return r.workspace.skeleton.buildFromConfig(o,i),u.engineConfig.onGot("theme",(function(e){n.setState({theme:e})})),u.engineConfig.onGot("workspaceEmptyComponent",(function(e){n.setState({workspaceEmptyComponent:e})})),n.state={workspaceEmptyComponent:u.engineConfig.get("workspaceEmptyComponent"),theme:u.engineConfig.get("theme")},n}return LL(t,e),kL(t,[{key:"render",value:function e(){var t=this.props,n=t.workspace,r=t.className,o=t.topAreaItemClassName,i=n.skeleton,a=this.state,c=a.workspaceEmptyComponent,s=a.theme;return React.createElement("div",{className:Yo()("lc-workspace-workbench",r,s)},React.createElement(wL.Provider,{value:i},React.createElement(Od,{className:"lc-workspace-top-area",area:i.topArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-body"},React.createElement(Id,{className:"lc-workspace-left-area lc-left-area",area:i.leftArea}),React.createElement(vh,{area:i.leftFloatArea}),React.createElement(Zd,{area:i.leftFixedArea}),React.createElement("div",{className:"lc-workspace-workbench-center"},React.createElement("div",{className:"lc-workspace-workbench-center-content"},React.createElement(oC,{area:i.subTopArea,itemClassName:o}),React.createElement("div",{className:"lc-workspace-workbench-window"},n.windows.map((function(e){var t;return React.createElement(gL,{active:e.id===(null===(t=n.window)||void 0===t?void 0:t.id),window:e,key:e.id})})),!n.windows.length&&c?React.createElement(c,null):null)),React.createElement(Xh,{area:i.mainArea}),React.createElement(cv,{area:i.bottomArea}))),React.createElement(u.TipContainer,null)))}}])}(o.Component);function ML(e,t){var n=e.getProp(t,!1);if(!n||n.isUnset())return null;var r=n.getValue();return Object(l.J)(r)&&(r=r.mock),null==r?null:"literal"===n.type?r:Symbol.for("not-literal")}function DL(e){var t=e.node,n,r=e.event.target;if(!Array.from(r.childNodes).every((function(e){return e.nodeType===Node.TEXT_NODE})))return null;var o=r.innerText,i=["title","label","text","content","children"].find((function(e){return IL(ML(t,e),o)}));return i?{propElement:r,propTarget:i}:null}function IL(e,t){return"string"==typeof e&&e.trim()===t}RL=Object(s.b)([u.observer,Object(s.d)("design:paramtypes",[Object])],RL);var BL={condition:function e(t){return"expression"===t.type},onSaveContent:function e(t,n){var r=n.getValue(),o=r;Object(l.J)(r)&&(o=r.mock),o=t,Object(l.J)(r)?n.setValue({type:"JSExpression",value:r.value,mock:o}):n.setValue(o)}};oo.addLiveEditingSpecificRule(DL),oo.addLiveEditingSaveHandler(BL);var VL={projectSymbol:ny,documentSymbol:iy,nodeSymbol:uy,nodeChildrenSymbol:sy,skeletonSymbol:oy,editorSymbol:ay,designerSymbol:ry,settingPropEntrySymbol:fy,settingTopEntrySymbol:py,designerCabinSymbol:Sy,editorCabinSymbol:_y,skeletonCabinSymbol:Py,propSymbol:ly,simulatorHostSymbol:Oy,skeletonItemSymbol:Fy,simulatorRenderSymbol:jy},FL=function e(t){var n=function e(n){return{init:function e(){var r=n.material;r.onChangeAssets((function(){var e,n=r.getAssets().components,o=void 0===n?[]:n;t.buildComponentMetasMap(o)}))}}};return n.pluginName="___component_meta_parser___",n},GL=function e(t){return{init:function e(){var r,o;if(!t.config.get("disableDefaultSetters")){var i=null===(r=n(125))||void 0===r?void 0:r.setters;i&&t.setters.registerSetter(i)}}}};GL.pluginName="___setter_registry___";var HL=n(126);function UL(e){return(UL="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zL(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */zL=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==UL(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(UL(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function WL(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function $L(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){WL(i,r,o,a,u,"next",e)}function u(e){WL(i,r,o,a,u,"throw",e)}a(void 0)}))}}function XL(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KL(r.key),r)}}function qL(e,t,n){return t&&YL(e.prototype,t),n&&YL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KL(e){var t=JL(e,"string");return"symbol"==UL(t)?t:t+""}function JL(e,t){if("object"!=UL(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UL(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function QL(e,t,n){return t=nA(t),ZL(e,tA()?Reflect.construct(t,n||[],nA(e).constructor):t.apply(e,n))}function ZL(e,t){if(t&&("object"==UL(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eA(e)}function eA(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tA(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tA=function t(){return!!e})()}function nA(e){return(nA=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rA(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oA(e,t)}function oA(e,t){return(oA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var iA=Object(l.t)({level:"warn",bizName:"plugin:plugin-designer"}),aA=function(e){function t(e){var n;return XL(this,t),(n=QL(this,t,[e])).state={componentMetadatas:null,library:null,extraEnvironment:null,renderEnv:"default",device:"default",locale:"",designMode:"live",deviceClassName:"",simulatorUrl:null,requestHandlersMap:null},n._mounted=!0,n.handleDesignerMount=function(e){var t=n.props.engineEditor;t.set("designer",e),t.eventBus.emit("designer.ready",e),t.onGot("schema",(function(t){e.project.open(t)}))},n.setupAssets(),n}return rA(t,e),qL(t,[{key:"setupAssets",value:function(){var e=$L(zL().mark((function e(){var t=this,n,r,o,i,a,c,s,l,f,p,d,h,v,y;return zL().wrap((function e(m){for(;;)switch(m.prev=m.next){case 0:return n=this.props.engineEditor,m.prev=1,m.next=4,n.onceGot("assets");case 4:if(r=m.sent,o=u.engineConfig.get("renderEnv")||n.get("renderEnv"),i=u.engineConfig.get("device")||n.get("device"),a=u.engineConfig.get("locale")||n.get("locale"),c=u.engineConfig.get("designMode")||n.get("designMode"),s=u.engineConfig.get("deviceClassName")||n.get("deviceClassName"),l=u.engineConfig.get("simulatorUrl")||n.get("simulatorUrl"),f=u.engineConfig.get("requestHandlersMap")||n.get("requestHandlersMap"),this._mounted){m.next=14;break}return m.abrupt("return");case 14:u.engineConfig.onGot("locale",(function(e){t.setState({locale:e})})),u.engineConfig.onGot("requestHandlersMap",(function(e){t.setState({requestHandlersMap:e})})),u.engineConfig.onGot("device",(function(e){t.setState({device:e})})),p=r.components,d=r.packages,h=r.extraEnvironment,v=r.utils,y={componentMetadatas:p||[],library:d||[],utilsMetadata:v||[],extraEnvironment:h,renderEnv:o,device:i,designMode:c,deviceClassName:s,simulatorUrl:l,requestHandlersMap:f,locale:a},this.setState(y),m.next=25;break;case 22:m.prev=22,m.t0=m.catch(1),iA.error(m.t0);case 25:case"end":return m.stop()}}),e,this,[[1,22]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"componentWillUnmount",value:function e(){this._mounted=!1}},{key:"render",value:function e(){var t=this.props.engineEditor,n=this.state,r=n.componentMetadatas,o=n.utilsMetadata,a=n.library,u=n.extraEnvironment,c=n.renderEnv,s=n.device,l=n.designMode,f=n.deviceClassName,p=n.simulatorUrl,d=n.requestHandlersMap,h=n.locale;return a&&r?i.a.createElement(dp,{onMount:this.handleDesignerMount,className:"lowcode-plugin-designer",editor:t,name:t.viewName,designer:t.get("designer"),componentMetadatas:r,simulatorProps:{library:a,utilsMetadata:o,extraEnvironment:u,renderEnv:c,device:s,locale:h,designMode:l,deviceClassName:f,simulatorUrl:p,requestHandlersMap:d}}):null}}])}(o.PureComponent);function uA(e){return(uA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function sA(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?cA(Object(n),!0).forEach((function(t){lA(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cA(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lA(e,t,n){return(t=fA(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fA(e){var t=pA(e,"string");return"symbol"==uA(t)?t:t+""}function pA(e,t){if("object"!=uA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=uA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}aA.displayName=void 0;var dA=function e(t){var n=function e(n){return{init:function e(){var r=n.skeleton,o=n.config;r.add({area:"mainArea",name:"designer",type:"Widget",content:React.createElement(aA,{engineConfig:o,engineEditor:t})}),o.get("disableDefaultSettingPanel")||r.add({area:"rightArea",name:"settingsPane",type:"Panel",content:React.createElement(rN,{engineEditor:t}),props:{ignoreRoot:!0},panelProps:sA({},o.get("defaultSettingPanelProps")||{})})}}};return n.pluginName="___default_panel___",n},hA=dA;function vA(e){return(vA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yA(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mA(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gA(r.key),r)}}function bA(e,t,n){return t&&mA(e.prototype,t),n&&mA(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function gA(e){var t=wA(e,"string");return"symbol"==vA(t)?t:t+""}function wA(e,t){if("object"!=vA(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=vA(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var OA,jA=new(function(){function e(){yA(this,e)}return bA(e,[{key:"createNode",value:function e(t){return RO.create(t)}},{key:"createSettingField",value:function e(t){return fO.create(t)}}])}());function EA(e,t,n){var r=t;Object(l.P)(r)&&r.isSlotNode&&(r=r.exportSchema(c.i.Clone));var o=null,i,a,u;Object(l.P)(r)?(o=r,null===(i=e.children)||void 0===i||i.insert(o,n)):(o=(null===(a=e.document)||void 0===a?void 0:a.createNode(r))||null)&&(null===(u=e.children)||void 0===u||u.insert(o,n));return o||null}function kA(e,t,n){for(var r=n,o,i=[];o=t.pop();)o=EA(e,o,r),i.push(o),r=o.index;return i}function SA(e,t){var n,r,o,i=e.project,a=e.material,u=i.currentDocument;if(!u)return null;if(Array.isArray(t)&&Object(l.Q)(t[0])&&null!==(n=a.getComponentMeta(t[0].componentName))&&void 0!==n&&n.isModal)return u.root?{target:u.root}:null;var c=u.focusNode,s,f=u.selection.getNodes().find((function(e){return c.contains(e)})),p,d;return f&&f!==c?null!==(r=f.componentMeta)&&void 0!==r&&r.isContainer?p=f:(p=f.parent,d=f.index+1):p=c,!p||!t||null!==(o=p.componentMeta)&&void 0!==o&&o.checkNestingDown(p,t)?{target:p,index:d}:null}function _A(e,t,n){if(e){if(!t)return e;var r;if(e.isContainerNode){var o=e.children;if(o&&!o.isEmptyNode&&(r=_A(o.get(0))))return r}if(r=_A(e.nextSibling))return r}return n?_A(n.nextSibling,!1,null==n?void 0:n.parent):null}function PA(e,t,n){if(e){var r;if(!t&&e.isContainerNode){var o=e.children,i;if(r=PA(o&&!o.isEmptyNode?o.get(o.size-1):null))return r}if(!t)return e;if(r=PA(e.prevSibling))return r}return n||null}function xA(e,t,n){var r,o=e.document;if(!o)return null;var i={type:c.g.Node,nodes:[t]},a=null==o?void 0:o.focusNode;if(null!=t&&null!==(r=t.componentMeta)&&void 0!==r&&r.isModal)return{container:a,ref:n};if(!n&&a&&e.contains(a))return o.checkNesting(a,i)?{container:a}:null;if(e.isRootNode&&e.children){var u=e.children.filter((function(e){return!!e.isContainerNode&&!!o.checkNesting(e,i)}))[0];return u?{container:u,ref:n}:o.checkNesting(e,i)?{container:e,ref:n}:null}return e.isContainerNode&&o.checkNesting(e,i)?{container:e,ref:n}:e.parent?xA(e.parent,t,{index:e.index}):null}var NA=function e(t){return{init:function e(){var n=t.hotkey,r=t.project,o=t.logger,i=t.canvas,a=i.clipboard;n.bind(["backspace","del"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.H)(e)&&n){e.preventDefault();var a=n.selection,u;a.getTopNodes().forEach((function(e){null!=e&&e.canPerformAction("remove")&&e&&n.removeNode(e)})),a.clear()}}})),n.bind("escape",(function(e,t){var n;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var a=null===(n=r.currentDocument)||void 0===n?void 0:n.selection;!Object(l.H)(e)&&a&&(e.preventDefault(),a.clear())}})),n.bind(["command+c","ctrl+c","command+x","ctrl+x"],(function(e,t){var n,u;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var s=r.currentDocument;if(!Object(l.H)(e)&&s){var f=null===(n=document.getSelection())||void 0===n||null===(u=n.anchorNode)||void 0===u?void 0:u.nodeValue;if(!f||"string"!=typeof f){e.preventDefault();var p=s.selection.getTopNodes(!0);if((p=p.filter((function(e){return null==e?void 0:e.canPerformAction("copy")})))&&!(p.length<1)){var d,h,v={type:"nodeSchema",componentsMap:{},componentsTree:p.map((function(e){return null==e?void 0:e.exportSchema(c.i.Clone)}))},y;a.setData(v),t&&t.indexOf("x")>0&&p.forEach((function(e){var t=null==e?void 0:e.parent;null==t||t.select(),null==e||e.remove()}))}}}}})),n.bind(["command+v","ctrl+v"],(function(e,n){if(o.info("action ".concat(n," is triggered")),!i.isInLiveEditing){var u=null==r?void 0:r.currentDocument;!Object(l.H)(e)&&u&&a.waitPasteData(e,(function(e){var n=e.componentsTree;if(n){var r=SA(t,n)||{},o=r.target,a=r.index;if(!o)return;var s=n.filter((function(e){var t={type:c.g.Node,nodes:[e]};return u.checkNesting(o,t)}));if(0===s.length)return;var l=kA(o,s,a);l&&(u.selection.selectAll(l.map((function(e){return e.id}))),setTimeout((function(){var e;return null===(e=i.activeTracker)||void 0===e?void 0:e.track(l[0])}),10))}}))}})),n.bind(["command+z","ctrl+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(l.H)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,s=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.back(),null==c||c.selectAll(s)}}})),n.bind(["command+y","ctrl+y","command+shift+z"],(function(e,t){var n,a;if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var u=null===(n=r.currentDocument)||void 0===n?void 0:n.history;if(!Object(l.H)(e)&&u){e.preventDefault();var c=null===(a=r.currentDocument)||void 0===a?void 0:a.selection,s=(null==c?void 0:c.selected)&&Array.from(null==c?void 0:c.selected);u.forward(),null==c||c.selectAll(s)}}})),n.bind(["left","right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.H)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c="left"===t?null==u?void 0:u.prevSibling:null==u?void 0:u.nextSibling;null==c||c.select()}}}})),n.bind(["up","down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.H)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0];if("down"===t){var c=_A(u,!0,null==u?void 0:u.parent);null==c||c.select()}else if("up"===t){var s=PA(u,!0,null==u?void 0:u.parent);null==s||s.select()}}}}})),n.bind(["option+left","option+right"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.H)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=t&&/(left)$/.test(t),f=s?u.prevSibling:u.nextSibling;f&&(s?c.insertBefore(u,f,!0):c.insertAfter(u,f,!0),null==u||u.select())}}}}})),n.bind(["option+up"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.currentDocument;if(!Object(l.H)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=u.prevSibling;if(s){if(s.isContainerNode){var f=xA(s,u,null);s.insertAfter(u,f.ref,!0)}else c.insertBefore(u,s,!0);null==u||u.select()}else{var p=xA(c,u,null),d;if(p)p.container.internalToShellNode().insertBefore(u,p.ref),null==u||u.select()}}}}}})),n.bind(["option+down"],(function(e,t){if(o.info("action ".concat(t," is triggered")),!i.isInLiveEditing){var n=r.getCurrentDocument();if(!Object(l.H)(e)&&n){e.preventDefault();var a=n.selection.getTopNodes(!0);if(a&&!(a.length<1)){var u=a[0],c=null==u?void 0:u.parent;if(c){var s=u.nextSibling;if(s)s.isContainerNode?s.insertBefore(u,void 0):c.insertAfter(u,s,!0),null==u||u.select();else{var f=xA(c,u,null),p;if(f)f.container.internalToShellNode().insertAfter(u,f.ref,!0),null==u||u.select()}}}}}}))}}};NA.pluginName="___builtin_hotkey___";var CA=n(41),TA=n(31),LA=(null===u.createIntl||void 0===u.createIntl?void 0:Object(u.createIntl)({"en-US":CA,"zh-CN":TA}))||{intl:function e(t){return TA[t]}},AA=LA.intl,RA=LA.getLocale;function MA(e){return(MA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function DA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */DA=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==MA(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(MA(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function IA(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function BA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){IA(i,r,o,a,u,"next",e)}function u(e){IA(i,r,o,a,u,"throw",e)}a(void 0)}))}}function VA(e){var t,n;return{type:"nodeSchema",componentsMap:{},componentsTree:e.map((function(e){return null==e?void 0:e.exportSchema(c.i.Clone)}))}}function FA(){return GA.apply(this,arguments)}function GA(){return(GA=BA(DA().mark((function e(){return DA().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(e,t){navigator.clipboard.readText().then((function(n){try{var r=JSON.parse(n);Object(l.U)(r)?e(r.componentsTree):(_i.Message.error(AA("NotValidNodeData")),t(new Error(AA("NotValidNodeData"))))}catch(e){_i.Message.error(AA("NotValidNodeData")),t(e)}}),(function(e){t(e)}))})));case 1:case"end":return t.stop()}}),e)})))).apply(this,arguments)}var HA=function e(t){var n=t.material,r=t.canvas,o=t.common,i=r.clipboard,a=o.utils.intl;return{init:function e(){n.addContextMenuOption({name:"selectComponent",title:AA("SelectComponents"),condition:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 1===t.length},items:[{name:"nodeTree",type:c.f.NODE_TREE}]}),n.addContextMenuOption({name:"copyAndPaste",title:AA("CopyAndPaste"),disabled:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(null==t?void 0:t.filter((function(e){return!(null!=e&&e.canPerformAction("copy"))})).length)>0},condition:function e(t){return 1===(null==t?void 0:t.length)},action:function e(t){var n=null==t?void 0:t[0];if(n){var r=n.document,o=n.parent,a=n.index,u=VA(t);if(i.setData(u),o){var c=null==r?void 0:r.insertNode(o,n,(null!=a?a:0)+1,!0);null==c||c.select()}}}}),n.addContextMenuOption({name:"copy",title:AA("Copy"),disabled:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(null==t?void 0:t.filter((function(e){return!(null!=e&&e.canPerformAction("copy"))})).length)>0},condition:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(null==t?void 0:t.length)>0},action:function e(t){if(t&&!(t.length<1)){var n=VA(t);i.setData(n)}}}),n.addContextMenuOption({name:"pasteToBottom",title:AA("PasteToTheBottom"),condition:function e(t){return 1===(null==t?void 0:t.length)},action:function e(t){return BA(DA().mark((function e(){var n,r,o,i,u,s,l;return DA().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:if(t&&!(t.length<1)){f.next=2;break}return f.abrupt("return");case 2:return n=t[0],r=n.document,o=n.parent,i=n.index,f.prev=4,f.next=7,FA();case 7:if(0!==(u=f.sent).length){f.next=10;break}return f.abrupt("return");case 10:if(!o){f.next=18;break}if(0!==(s=u.filter((function(e){var t={type:c.g.NodeData,data:e};return null==r?void 0:r.checkNesting(o,t)}))).length){f.next=15;break}return _i.Message.error("".concat(u.map((function(e){return a(e.title||e.componentName)})).join(","),"\u7b49\u7ec4\u4ef6\u65e0\u6cd5\u653e\u7f6e\u5230").concat(a(o.title||o.componentName),"\u5185")),f.abrupt("return");case 15:l=[],s.forEach((function(e,t){var n=null==r?void 0:r.insertNode(o,e,(null!=i?i:0)+1+t,!0);n&&l.push(n)})),null==r||r.selection.selectAll(l.map((function(e){return null==e?void 0:e.id})));case 18:f.next=23;break;case 20:f.prev=20,f.t0=f.catch(4),console.error(f.t0);case 23:case"end":return f.stop()}}),e,null,[[4,20]])})))()}}),n.addContextMenuOption({name:"pasteToInner",title:AA("PasteToTheInside"),condition:function e(t){return 1===(null==t?void 0:t.length)},disabled:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=null==t?void 0:t[0];return!n.isContainerNode},action:function e(t){return BA(DA().mark((function e(){var n,r,o,i,u,s,l;return DA().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:if(n=null==t?void 0:t[0]){f.next=3;break}return f.abrupt("return");case 3:return r=n.document,f.prev=4,f.next=7,FA();case 7:if(i=f.sent,u=(null===(o=n.children)||void 0===o?void 0:o.size)||0,0!==i.length){f.next=11;break}return f.abrupt("return");case 11:if(0!==(s=i.filter((function(e){var t={type:c.g.NodeData,data:e};return null==r?void 0:r.checkNesting(n,t)}))).length){f.next=15;break}return _i.Message.error("".concat(i.map((function(e){return a(e.title||e.componentName)})).join(","),"\u7b49\u7ec4\u4ef6\u65e0\u6cd5\u653e\u7f6e\u5230").concat(a(n.title||n.componentName),"\u5185")),f.abrupt("return");case 15:l=[],i.forEach((function(e,t){var o=null==r?void 0:r.insertNode(n,e,(null!=u?u:0)+1+t,!0);o&&l.push(o)})),null==r||r.selection.selectAll(l.map((function(e){return null==e?void 0:e.id}))),f.next=23;break;case 20:f.prev=20,f.t0=f.catch(4),console.error(f.t0);case 23:case"end":return f.stop()}}),e,null,[[4,20]])})))()}}),n.addContextMenuOption({name:"delete",title:AA("Delete"),disabled:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(null==t?void 0:t.filter((function(e){return!(null!=e&&e.canPerformAction("remove"))})).length)>0},condition:function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t.length>0},action:function e(t){null==t||t.forEach((function(e){e.remove()}))}})}}};HA.pluginName="___default_context_menu___";var UA={type:"shape",value:[{name:"id",propType:"string"},{name:"componentName",propType:{type:"string",isRequired:!0}},{name:"props",propType:"object"},{name:"condition",propType:"any"},{name:"loop",propType:"any"},{name:"loopArgs",propType:"any"},{name:"children",propType:"any"}]},zA={type:"shape",value:[UA.value[0],UA.value[1],{name:"props",propType:{type:"objectOf",value:{type:"oneOfType",value:["any",{type:"shape",value:[{name:"type",propType:{type:"oneOf",value:["JSExpression"]}},{name:"value",propType:"string"}]},{type:"shape",value:[{name:"type",propType:{type:"oneOf",value:["JSFunction"]}},{name:"value",propType:"string"}]},{type:"shape",value:[{name:"type",propType:{type:"oneOf",value:["JSSlot"]}},{name:"value",propType:{type:"oneOfType",value:[UA,{type:"arrayOf",value:UA}]}}]}]}}},{name:"condition",propType:{type:"oneOfType",value:["bool",{type:"shape",value:[{name:"type",propType:{type:"oneOf",value:["JSExpression"]}},{name:"value",propType:"string"}]}]}},{name:"loop",propType:{type:"oneOfType",value:["array",{type:"shape",value:[{name:"type",propType:{type:"oneOf",value:["JSExpression"]}},{name:"value",propType:"string"}]}]}},{name:"loopArgs",propType:{type:"oneOfType",value:[{type:"arrayOf",value:{type:"oneOfType",value:["any",{type:"shape",value:[{name:"type",propType:{type:"oneOf",value:["JSExpression"]}},{name:"value",propType:"string"}]}]}},{type:"shape",value:[{name:"type",propType:{type:"oneOf",value:["JSExpression"]}},{name:"value",propType:"string"}]}]}},{name:"children",propType:{type:"arrayOf",value:UA}}]},WA=function e(t){var n=t.command,r=t.project;return{init:function e(){n.registerCommand({name:"add",description:"Add a node to the canvas.",handler:function e(n){var r,o,i,a=n.parentNodeId,u=n.nodeSchema,c=n.index,s=t.project,f=null===(r=s.currentDocument)||void 0===r?void 0:r.getNodeById(a);if(!f)throw new Error("Can not find node '".concat(a,"'."));if(!f.isContainerNode)throw new Error("Node '".concat(a,"' is not a container node."));if(!Object(l.Q)(u))throw new Error("Invalid node.");if(c<0||c>((null===(o=f.children)||void 0===o?void 0:o.size)||0))throw new Error("Invalid index '".concat(c,"'."));null===(i=s.currentDocument)||void 0===i||i.insertNode(f,u,c)},parameters:[{name:"parentNodeId",propType:"string",description:"The id of the parent node."},{name:"nodeSchema",propType:zA,description:"The node to be added."},{name:"index",propType:"number",description:"The index of the node to be added."}]}),n.registerCommand({name:"move",description:"Move a node to another node.",handler:function e(t){var n,o,i,a,u,c=t.nodeId,s=t.targetNodeId,l=t.index,f=void 0===l?0:l;if(!c)throw new Error("Invalid node id.");if(!s)throw new Error("Invalid target node id.");var p=null===(n=r.currentDocument)||void 0===n?void 0:n.getNodeById(c),d=null===(o=r.currentDocument)||void 0===o?void 0:o.getNodeById(s);if(!p)throw new Error("Can not find node '".concat(c,"'."));if(!d)throw new Error("Can not find node '".concat(s,"'."));if(!d.isContainerNode)throw new Error("Node '".concat(s,"' is not a container node."));if(f<0||f>((null===(i=d.children)||void 0===i?void 0:i.size)||0))throw new Error("Invalid index '".concat(f,"'."));null===(a=r.currentDocument)||void 0===a||a.removeNode(p),null===(u=r.currentDocument)||void 0===u||u.insertNode(d,p,f)},parameters:[{name:"nodeId",propType:{type:"string",isRequired:!0},description:"The id of the node to be moved."},{name:"targetNodeId",propType:{type:"string",isRequired:!0},description:"The id of the target node."},{name:"index",propType:"number",description:"The index of the node to be moved."}]}),n.registerCommand({name:"remove",description:"Remove a node from the canvas.",handler:function e(t){var n,o,i=t.nodeId,a=null===(n=r.currentDocument)||void 0===n?void 0:n.getNodeById(i);if(!a)throw new Error("Can not find node '".concat(i,"'."));null===(o=r.currentDocument)||void 0===o||o.removeNode(a)},parameters:[{name:"nodeId",propType:"string",description:"The id of the node to be removed."}]}),n.registerCommand({name:"update",description:"Update a node.",handler:function e(t){var n,o=t.nodeId,i=t.nodeSchema,a=null===(n=r.currentDocument)||void 0===n?void 0:n.getNodeById(o);if(!a)throw new Error("Can not find node '".concat(o,"'."));if(!Object(l.Q)(i))throw new Error("Invalid node.");a.importSchema(i)},parameters:[{name:"nodeId",propType:"string",description:"The id of the node to be updated."},{name:"nodeSchema",propType:zA,description:"The node to be updated."}]}),n.registerCommand({name:"updateProps",description:"Update the properties of a node.",handler:function e(t){var n,o=t.nodeId,i=t.props,a=null===(n=r.currentDocument)||void 0===n?void 0:n.getNodeById(o);if(!a)throw new Error("Can not find node '".concat(o,"'."));Object.keys(i).forEach((function(e){a.setPropValue(e,i[e])}))},parameters:[{name:"nodeId",propType:"string",description:"The id of the node to be updated."},{name:"props",propType:"object",description:"The properties to be updated."}]}),n.registerCommand({name:"removeProps",description:"Remove the properties of a node.",handler:function e(t){var n,o=t.nodeId,i=t.propNames,a=null===(n=r.currentDocument)||void 0===n?void 0:n.getNodeById(o);if(!a)throw new Error("Can not find node '".concat(o,"'."));i.forEach((function(e){var t,n;null===(t=a.props)||void 0===t||null===(n=t.getProp(e))||void 0===n||n.remove()}))},parameters:[{name:"nodeId",propType:"string",description:"The id of the node to be updated."},{name:"propNames",propType:"array",description:"The properties to be removed."}]})},destroy:function e(){n.unregisterCommand("node:add"),n.unregisterCommand("node:move"),n.unregisterCommand("node:remove"),n.unregisterCommand("node:update"),n.unregisterCommand("node:updateProps"),n.unregisterCommand("node:removeProps")}}};WA.pluginName="___node_command___",WA.meta={commandScope:"node"};var $A=function e(t){var n=t.command,r=t.project;return{init:function e(){n.registerCommand({name:"undo",description:"Undo the last operation.",handler:function e(){var t,n,o,i;if(!!!(1&((null===(t=r.currentDocument)||void 0===t?void 0:t.history.getState())||0)))throw new Error("Can not undo.");null===(n=r.currentDocument)||void 0===n||n.history.back()}}),n.registerCommand({name:"redo",description:"Redo the last operation.",handler:function e(){var t,n,o,i;if(!!!(2&((null===(t=r.currentDocument)||void 0===t?void 0:t.history.getState())||0)))throw new Error("Can not redo.");null===(n=r.currentDocument)||void 0===n||n.history.forward()}})},destroy:function e(){n.unregisterCommand("history:undo"),n.unregisterCommand("history:redo")}}};function XA(e){return(XA="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function YA(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */YA=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==XA(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(XA(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function qA(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function KA(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){qA(i,r,o,a,u,"next",e)}function u(e){qA(i,r,o,a,u,"throw",e)}a(void 0)}))}}$A.pluginName="___history_command___",$A.meta={commandScope:"history"};var JA=function e(t){var n=t.plugins;return{init:function e(){return KA(YA().mark((function e(){return YA().wrap((function e(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.register(WA,{},{autoInit:!0});case 2:return t.next=4,n.register($A,{},{autoInit:!0});case 4:case"end":return t.stop()}}),e)})))()},destroy:function e(){n.delete(WA.pluginName),n.delete($A.pluginName)}}};JA.pluginName="___default_command___",JA.meta={commandScope:"common"};var QA=JA;function ZA(){return(ZA=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function eR(e){return React.createElement(l.f,ZA({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM540 701v53c0 4.4-3.6 8-8 8h-40c-4.4 0-8-3.6-8-8v-53c-12.1-8.7-20-22.9-20-39 0-26.5 21.5-48 48-48s48 21.5 48 48c0 16.1-7.9 30.3-20 39z m152-237H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224z"}))}function tR(){return(tR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function nR(e){return React.createElement(l.f,tR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32z m-40 376H232V536h560v304z"}),React.createElement("path",{d:"M484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53c12.1-8.7 20-22.9 20-39 0-26.5-21.5-48-48-48s-48 21.5-48 48c0 16.1 7.9 30.3 20 39z"}))}function rR(){return(rR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function oR(e){return React.createElement(l.f,rR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.002047 771.904425c-10.152221 0.518816-20.442588-2.800789-28.202319-10.598382L77.902254 315.937602c-14.548344-14.618952-14.548344-38.318724 0-52.933583 14.544251-14.614859 38.118156-14.614859 52.662407 0l381.437385 418.531212L893.432269 263.004019c14.544251-14.614859 38.125319-14.614859 52.662407 0 14.552437 14.614859 14.552437 38.314631 0 52.933583L540.205389 761.307066C532.451798 769.103636 522.158361 772.424264 512.002047 771.904425z"}))}function iR(){return(iR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function aR(e){return React.createElement(l.f,iR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M479.552 276.544l296.896 2.752v75.712L960 249.024l-183.552-106.048v92.48h-271.36l-46.656-2.752-190.784 203.648 30.976 30.976 180.928-190.784z m296.896 484.928l-253.056-2.816-262.976-263.04H64v43.904h175.296l262.912 262.976 274.176 2.816v75.712L960 774.976l-183.616-105.984 0.064 92.48z"}))}function uR(){return(uR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function cR(e){return React.createElement(l.f,uR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512.7 700.9c-102.1 0-184.9-82.8-184.9-184.9 0-28.6 6.5-55.6 18-79.7l-93.7-93.7C138.9 418.1 65.2 514 65.2 514s200.4 260.7 447.6 260.7c50.2 0 98.6-10.8 143.6-27.9l-63.9-63.9c-24.2 11.5-51.2 18-79.8 18z"}),React.createElement("path",{d:"M960.3 514S759.9 253.3 512.7 253.3c-49.5 0-97.2 10.5-141.7 27.2L243.5 153.1l-45.3 45.3 262.3 262.2c-13.1 13.3-21.2 31.5-21.2 51.6 0 40.6 32.9 73.4 73.4 73.4 20.1 0 38.4-8.1 51.6-21.2l260.9 260.8 45.3-45.3-95.6-95.6C887.2 609.1 960.3 514 960.3 514z m-376.7-20.9c-6.8-25.2-26.6-45.1-51.9-51.9L437.5 347c23-10.3 48.5-16 75.3-16 102.1 0 184.9 82.8 184.9 184.9 0 26.8-5.7 52.2-15.9 75.2l-98.2-98z"}))}function sR(){return(sR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function lR(e){return React.createElement(l.f,sR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 256c-163.8 0-291.4 97.6-448 256 134.8 135.4 248 256 448 256 199.8 0 346.8-152.8 448-253.2C856.4 397.2 709.6 256 512 256z m0 438.6c-98.8 0-179.2-82-179.2-182.6 0-100.8 80.4-182.6 179.2-182.6s179.2 82 179.2 182.6c0 100.8-80.4 182.6-179.2 182.6z"}),React.createElement("path",{d:"M512 448c0-15.8 5.8-30.2 15.2-41.4-5-0.8-10-1.2-15.2-1.2-57.6 0-104.6 47.8-104.6 106.6s47 106.6 104.6 106.6 104.6-47.8 104.6-106.6c0-4.6-0.4-9.2-0.8-13.8-11 8.6-24.6 13.8-39.6 13.8-35.6 0-64.2-28.6-64.2-64z"}))}function fR(){return(fR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function pR(e){return React.createElement(l.f,fR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M911.457097 168.557714a35.986286 35.986286 0 0 1-8.009143 40.009143L621.73824 490.276571V914.285714c0 14.848-9.142857 28.013714-22.272 33.718857A42.349714 42.349714 0 0 1 585.166811 950.857143a34.084571 34.084571 0 0 1-25.709714-10.861714l-146.285714-146.285715A36.425143 36.425143 0 0 1 402.309669 768v-277.723429L120.599954 208.566857a35.986286 35.986286 0 0 1-8.009143-40.009143C118.295954 155.428571 131.461669 146.285714 146.309669 146.285714h731.428571c14.848 0 28.013714 9.142857 33.718857 22.272z",fill:"#666","p-id":"2025"}))}function dR(){return(dR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function hR(e){return React.createElement(l.f,dR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M60.235294 542.117647c0 132.879059 103.062588 240.941176 229.677176 240.941176l0 60.235294c-159.864471 0-289.912471-135.107765-289.912471-301.176471s130.048-301.176471 289.912471-301.176471l254.735059 0-99.147294-99.147294 42.586353-42.586353 171.911529 171.851294-171.851294 171.911529-42.646588-42.646588 99.207529-99.147294-254.795294 0c-126.614588 0-229.677176 108.062118-229.677176 240.941176zM734.087529 240.941176l0 60.235294c126.614588 0 229.677176 108.062118 229.677176 240.941176s-103.062588 240.941176-229.677176 240.941176l-254.795294 0 99.147294-99.147294-42.586353-42.586353-171.851294 171.851294 171.911529 171.911529 42.586353-42.586353-99.207529-99.207529 254.735059 0c159.924706 0 289.972706-135.107765 289.972706-301.176471s-130.048-301.176471-289.912471-301.176471z"}))}function vR(){return(vR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function yR(e){return React.createElement(l.f,vR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-256a256 256 0 1 0 0-512 256 256 0 0 0 0 512z"}))}function mR(){return(mR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function bR(e){return React.createElement(l.f,mR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M512 1024A512 512 0 1 1 512 0a512 512 0 0 1 0 1024z m0-64A448 448 0 1 0 512 64a448 448 0 0 0 0 896z"}))}function gR(){return(gR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function wR(e){return React.createElement(l.f,gR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M965.824 405.952a180.48 180.48 0 0 1-117.12-85.376 174.464 174.464 0 0 1-16-142.08 22.208 22.208 0 0 0-7.04-23.552 480.576 480.576 0 0 0-153.6-89.216 23.104 23.104 0 0 0-24.32 5.76 182.208 182.208 0 0 1-135.68 57.92 182.208 182.208 0 0 1-133.12-56.64 23.104 23.104 0 0 0-26.88-7.04 478.656 478.656 0 0 0-153.6 89.856 22.208 22.208 0 0 0-7.04 23.552 174.464 174.464 0 0 1-16 141.44A180.48 180.48 0 0 1 58.24 405.952a22.4 22.4 0 0 0-17.28 17.792 455.08 455.08 0 0 0 0 176.512 22.4 22.4 0 0 0 17.28 17.792 180.48 180.48 0 0 1 117.12 84.736c25.408 42.944 31.232 94.592 16 142.08a22.208 22.208 0 0 0 7.04 23.552A480.576 480.576 0 0 0 352 957.632h7.68a23.04 23.04 0 0 0 16.64-7.04 184.128 184.128 0 0 1 266.944 0c6.592 8.96 18.752 11.968 28.8 7.04a479.36 479.36 0 0 0 156.16-88.576 22.208 22.208 0 0 0 7.04-23.552 174.464 174.464 0 0 1 13.44-142.72 180.48 180.48 0 0 1 117.12-84.736 22.4 22.4 0 0 0 17.28-17.792 452.613 452.613 0 0 0 0-176.512 23.04 23.04 0 0 0-17.28-17.792z m-42.88 169.408a218.752 218.752 0 0 0-128 98.112 211.904 211.904 0 0 0-21.76 156.736 415.936 415.936 0 0 1-112 63.68 217.472 217.472 0 0 0-149.12-63.68 221.312 221.312 0 0 0-149.12 63.68 414.592 414.592 0 0 1-112-63.68c12.8-53.12 4.288-109.12-23.68-156.096A218.752 218.752 0 0 0 101.12 575.36a386.176 386.176 0 0 1 0-127.36 218.752 218.752 0 0 0 128-98.112c27.2-47.552 34.944-103.68 21.76-156.8a415.296 415.296 0 0 1 112-63.68A221.44 221.44 0 0 0 512 187.392a218.24 218.24 0 0 0 149.12-57.984 413.952 413.952 0 0 1 112 63.744 211.904 211.904 0 0 0 23.04 156.096 218.752 218.752 0 0 0 128 98.112 386.65 386.65 0 0 1 0 127.36l-1.28 0.64z"}),React.createElement("path",{d:"M512 320.576c-105.984 0-192 85.568-192 191.104a191.552 191.552 0 0 0 192 191.104c106.112 0 192.064-85.568 192.064-191.104a190.72 190.72 0 0 0-56.256-135.168 192.448 192.448 0 0 0-135.744-55.936z m0 318.528c-70.656 0-128-57.088-128-127.424 0-70.4 57.344-127.36 128-127.36 70.72 0 128 56.96 128 127.36 0 33.792-13.44 66.176-37.44 90.112a128.32 128.32 0 0 1-90.496 37.312z"}))}function OR(){return(OR=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function jR(e){return React.createElement(l.f,OR({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M224 256v639.84A64 64 0 0 0 287.84 960h448.32A64 64 0 0 0 800 895.84V256h64a32 32 0 1 0 0-64H160a32 32 0 1 0 0 64h64zM384 96c0-17.664 14.496-32 31.904-32h192.192C625.696 64 640 78.208 640 96c0 17.664-14.496 32-31.904 32H415.904A31.872 31.872 0 0 1 384 96z m-96 191.744C288 270.208 302.4 256 320.224 256h383.552C721.6 256 736 270.56 736 287.744v576.512C736 881.792 721.6 896 703.776 896H320.224A32.224 32.224 0 0 1 288 864.256V287.744zM352 352c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z m128 0c0-17.696 14.208-32.032 32-32.032 17.664 0 32 14.24 32 32v448c0 17.664-14.208 32-32 32-17.664 0-32-14.24-32-32V352z"}))}function ER(e){return(ER="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,IR(r.key),r)}}function _R(e,t,n){return t&&SR(e.prototype,t),n&&SR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PR(e,t,n){return t=TR(t),xR(e,CR()?Reflect.construct(t,n||[],TR(e).constructor):t.apply(e,n))}function xR(e,t){if(t&&("object"==ER(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return NR(e)}function NR(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function CR(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(CR=function t(){return!!e})()}function TR(e){return(TR=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function LR(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&AR(e,t)}function AR(e,t){return(AR=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function RR(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function MR(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?RR(Object(n),!0).forEach((function(t){DR(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RR(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function DR(e,t,n){return(t=IR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IR(e){var t=BR(e,"string");return"symbol"==ER(t)?t:t+""}function BR(e,t){if("object"!=ER(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ER(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function VR(e,t,n,r){var o,i,a=null==n?void 0:n.node,u=null==a||null===(o=a.componentMeta)||void 0===o?void 0:o.npm,c=[null==u?void 0:u.package,null==u?void 0:u.componentName].filter((function(e){return!!e})).join("-")||(null==a||null===(i=a.componentMeta)||void 0===i?void 0:i.componentName)||"";e.emit("outlinePane.".concat(t),MR({selected:c},r))}eR.displayName="IconLock",nR.displayName="IconUnlock",oR.displayName="IconArrowRight",aR.displayName="IconCond",cR.displayName="IconEyeClose",lR.displayName="IconEye",pR.displayName="IconFilter",hR.displayName="IconLoop",yR.displayName="IconRadioActive",bR.displayName="IconRadio",wR.displayName="IconSetting",jR.displayName="IconDelete";var FR=function(e){function t(){var e;kR(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=PR(this,t,[].concat(r))).state={editing:!1,title:"",filterWorking:!1,keywords:"",matchSelf:!1},e.lastInput=void 0,e.enableEdit=function(t){t.preventDefault(),e.setState({editing:!0})},e.saveEdit=function(t){var n=e.props.treeNode,r=t.target.value||"";n.setTitleLabel(r),VR(e.props.treeNode.pluginContext.event,"rename",n,{value:r}),e.cancelEdit()},e.handleKeyUp=function(t){13===t.keyCode&&e.saveEdit(t),27===t.keyCode&&e.cancelEdit()},e.setCaret=function(t){t&&e.lastInput!==t&&(t.focus(),t.select())},e.deleteClick=function(){var t=e.props.treeNode,n=t.node;t.deleteNode(n)},e}return LR(t,e),_R(t,[{key:"cancelEdit",value:function e(){this.setState({editing:!1}),this.lastInput=void 0}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;this.setState({editing:!1,title:n.titleLabel,condition:n.condition,visible:!n.hidden}),n.onTitleLabelChanged((function(){t.setState({title:n.titleLabel})})),n.onConditionChanged((function(){t.setState({condition:n.condition})})),n.onHiddenChanged((function(e){t.setState({visible:!e})})),n.onFilterResultChanged((function(){var e=n.filterReult,r=e.filterWorking,o=e.keywords,i=e.matchSelf;t.setState({filterWorking:r,keywords:o,matchSelf:i})}))}},{key:"render",value:function e(){var t=this,n=this.props,r=n.treeNode,i=n.isModal,a=r.pluginContext,u=this.state,c=u.editing,s=u.filterWorking,f=u.matchSelf,p=u.keywords,d=!r.isRoot(),h=r.node,v=h.componentMeta,y=v?v.availableActions.map((function(e){return e.name})):[],m=h.isParentalNode,b=h.isContainerNode,g;if(d){var w,O=12*r.depth;g={paddingLeft:O+(i?12:0),marginLeft:-O}}var j=a.extraTitle,E=a.intlNode,k=a.common,S=a.config,_=k.editorCabin,P=_.Tip,x=_.Title,N=y.includes("hide"),C=y.includes("lock"),T=y.includes("unlock"),L=d&&m&&!i&&N,A=S.get("enableCanvasLock",!1)&&b&&d&&m&&(C&&!h.isLocked||T&&h.isLocked),R=d&&m,M=d&&m&&(null==h?void 0:h.canPerformAction("remove"));return React.createElement("div",{className:Yo()("tree-node-title",{editing:c}),style:g,"data-id":r.nodeId,onClick:function e(){var n,r,o,a;i?t.state.visible?null===(n=h.document)||void 0===n||null===(r=n.modalNodesManager)||void 0===r||r.setInvisible(h):null===(o=h.document)||void 0===o||null===(a=o.modalNodesManager)||void 0===a||a.setVisible(h):h.conditionGroup&&h.setConditionalVisible()}},i&&this.state.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=h.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setInvisible(h)}},React.createElement(yR,{className:"tree-node-modal-radio-active"})),i&&!this.state.visible&&React.createElement("div",{onClick:function e(){var t,n;null===(t=h.document)||void 0===t||null===(n=t.modalNodesManager)||void 0===n||n.setVisible(h)}},React.createElement(bR,{className:"tree-node-modal-radio"})),d&&React.createElement(WR,{expandable:this.props.expandable,expanded:this.props.expanded,treeNode:r}),React.createElement("div",{className:"tree-node-icon"},Object(l.p)(r.icon)),React.createElement("div",{className:"tree-node-title-label"},c?React.createElement("input",{className:"tree-node-title-input",defaultValue:this.state.title,onBlur:this.saveEdit,ref:this.setCaret,onKeyUp:this.handleKeyUp}):React.createElement(o.Fragment,null,React.createElement(x,{title:this.state.title,match:s&&f,keywords:p}),j&&React.createElement(j,{node:null==r?void 0:r.node}),h.slotFor&&React.createElement("a",{className:"tree-node-tag slot"},React.createElement(P,null,E("Slot for {prop}",{prop:h.slotFor.key}))),h.hasLoop()&&React.createElement("a",{className:"tree-node-tag loop"},React.createElement(hR,null),React.createElement(P,null,E("Loop"))),this.state.condition&&React.createElement("a",{className:"tree-node-tag cond"},React.createElement(aR,null),React.createElement(P,null,E("Conditional"))))),L&&React.createElement(zR,{hidden:this.props.hidden,treeNode:r}),A&&React.createElement(UR,{locked:this.props.locked,treeNode:r}),R&&React.createElement(HR,{treeNode:r,onClick:this.enableEdit}),M&&React.createElement(GR,{treeNode:r,onClick:this.deleteClick}))}}])}(o.PureComponent),GR=function(e){function t(){return kR(this,t),PR(this,t,arguments)}return LR(t,e),_R(t,[{key:"render",value:function e(){var t=this.props.treeNode.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-delete-btn",onClick:this.props.onClick},React.createElement(jR,null),React.createElement(o,null,n("Delete")))}}])}(o.PureComponent),HR=function(e){function t(){return kR(this,t),PR(this,t,arguments)}return LR(t,e),_R(t,[{key:"render",value:function e(){var t=this.props.treeNode.pluginContext,n=t.intl,r,o=t.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-rename-btn",onClick:this.props.onClick},React.createElement(wR,null),React.createElement(o,null,n("Rename")))}}])}(o.PureComponent),UR=function(e){function t(){return kR(this,t),PR(this,t,arguments)}return LR(t,e),_R(t,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.locked,o=this.props.treeNode.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-lock-btn",onClick:function e(t){t.stopPropagation(),n.setLocked(!r)}},r?React.createElement(nR,null):React.createElement(eR,null),React.createElement(u,null,i(r?"Unlock":"Lock")))}}])}(o.PureComponent),zR=function(e){function t(){return kR(this,t),PR(this,t,arguments)}return LR(t,e),_R(t,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.hidden,o=n.pluginContext,i=o.intl,a,u=o.common.editorCabin.Tip;return React.createElement("div",{className:"tree-node-hide-btn",onClick:function e(t){t.stopPropagation(),VR(n.pluginContext.event,r?"show":"hide",n),n.setHidden(!r)}},r?React.createElement(lR,null):React.createElement(cR,null),React.createElement(u,null,i(r?"Show":"Hide")))}}])}(o.PureComponent),WR=function(e){function t(){return kR(this,t),PR(this,t,arguments)}return LR(t,e),_R(t,[{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.expanded,o;return t.expandable?React.createElement("div",{className:"tree-node-expand-btn",onClick:function e(t){r&&t.stopPropagation(),VR(n.pluginContext.event,r?"collapse":"expand",n),n.setExpanded(!r)}},React.createElement(oR,{size:"small"})):React.createElement("i",{className:"tree-node-expand-placeholder"})}}])}(o.PureComponent);function $R(e){return($R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function XR(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function YR(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,KR(r.key),r)}}function qR(e,t,n){return t&&YR(e.prototype,t),n&&YR(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function KR(e){var t=JR(e,"string");return"symbol"==$R(t)?t:t+""}function JR(e,t){if("object"!=$R(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=$R(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function QR(e,t,n){return t=nM(t),ZR(e,tM()?Reflect.construct(t,n||[],nM(e).constructor):t.apply(e,n))}function ZR(e,t){if(t&&("object"==$R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return eM(e)}function eM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function tM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(tM=function t(){return!!e})()}function nM(e){return(nM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oM(e,t)}function oM(e,t){return(oM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var iM=function(e){function t(e){var n;XR(this,t),(n=QR(this,t,[e])).state={filterWorking:!1,matchChild:!1},n.offExpandedChanged=void 0;var r,o=n.props.treeNode.filterReult,i=o.filterWorking,a=o.matchChild;return n.setState({filterWorking:i,matchChild:a}),n}return rM(t,e),qR(t,[{key:"componentDidMount",value:function e(){var t=this,n=this.props.treeNode;n.onFilterResultChanged((function(){var e=n.filterReult,r=e.filterWorking,o=e.matchChild;t.setState({filterWorking:r,matchChild:o})}))}},{key:"componentWillUnmount",value:function e(){this.offExpandedChanged&&this.offExpandedChanged()}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.expanded,i=this.state,a=i.filterWorking,u=i.matchChild,c;return a&&u||o?React.createElement("div",{className:"tree-node-branches"},!r&&React.createElement(uM,{treeNode:n}),React.createElement(aM,{treeNode:n,isModal:r||!1,treeChildren:this.props.treeChildren})):null}}])}(o.PureComponent),aM=function(e){function t(){var e;XR(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=QR(this,t,[].concat(r))).state={filterWorking:!1,matchSelf:!1,keywords:null,dropDetail:null},e.offLocationChanged=void 0,e}return rM(t,e),qR(t,[{key:"componentDidMount",value:function e(){var t=this,n,r=this.props.treeNode,o=r.pluginContext.project,i=r.filterReult,a=i.filterWorking,u=i.matchSelf,c=i.keywords,s=r.dropDetail;this.setState({filterWorking:a,matchSelf:u,keywords:c,dropDetail:s}),r.onFilterResultChanged((function(){var e=r.filterReult,n=e.filterWorking,o=e.matchSelf,i=e.keywords;t.setState({filterWorking:n,matchSelf:o,keywords:i})})),this.offLocationChanged=null===(n=o.currentDocument)||void 0===n?void 0:n.onDropLocationChanged((function(){t.setState({dropDetail:r.dropDetail})}))}},{key:"componentWillUnmount",value:function e(){this.offLocationChanged&&this.offLocationChanged()}},{key:"render",value:function e(){var t,n,r=this.props.isModal,o=[],i=[],a,u=this.state,c=u.filterWorking,s=u.matchSelf,l=u.keywords,f=this.props.treeNode.pluginContext.common.editorCabin.Title,p=function e(){var t;i.length>0&&(o.push(React.createElement("div",{key:a.id,className:"condition-group-container","data-id":null===(t=a.firstNode)||void 0===t?void 0:t.id},React.createElement("div",{className:"condition-group-title"},React.createElement(f,{title:a.title,match:c&&s,keywords:l})),i)),i=[])},d=this.state.dropDetail,h=null==d?void 0:d.index,v=React.createElement("div",{key:"insertion",className:Yo()("insertion",{invalid:!1===(null==d?void 0:d.valid)})});null===(t=this.props.treeChildren)||void 0===t||t.forEach((function(e,t){var n,u=(null===(n=e.node.componentMeta)||void 0===n?void 0:n.isModal)||!1;if(r==u){var c=e.node.conditionGroup;c!==a&&p(),c?(a=c,t===h&&(i.length>0?i.push(v):o.push(v)),i.push(React.createElement(jM,{key:e.nodeId,treeNode:e,isModal:r}))):(t===h&&o.push(v),o.push(React.createElement(jM,{key:e.nodeId,treeNode:e,isModal:r})))}})),p();var y=(null===(n=this.props.treeChildren)||void 0===n?void 0:n.length)||0;return null!=h&&h>=y&&o.push(v),React.createElement("div",{className:"tree-node-children"},o)}}])}(o.PureComponent),uM=function(e){function t(){return XR(this,t),QR(this,t,arguments)}return rM(t,e),qR(t,[{key:"render",value:function e(){var t,n,r=this.props.treeNode;if(!r.hasSlots())return null;var o=this.props.treeNode.pluginContext.common.editorCabin.Title;return React.createElement("div",{className:Yo()("tree-node-slots",{"insertion-at-slots":"slots"===(null===(t=r.dropDetail)||void 0===t||null===(n=t.focus)||void 0===n?void 0:n.type)}),"data-id":r.nodeId},React.createElement("div",{className:"tree-node-slots-title"},React.createElement(o,{title:{type:"i18n",intl:this.props.treeNode.pluginContext.intlNode("Slots")}})),r.slots.map((function(e){return React.createElement(jM,{key:e.nodeId,treeNode:e})})))}}])}(o.PureComponent);function cM(e){return(cM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pM(r.key),r)}}function fM(e,t,n){return t&&lM(e.prototype,t),n&&lM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function pM(e){var t=dM(e,"string");return"symbol"==cM(t)?t:t+""}function dM(e,t){if("object"!=cM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=cM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function hM(e,t,n){return t=bM(t),vM(e,mM()?Reflect.construct(t,n||[],bM(e).constructor):t.apply(e,n))}function vM(e,t){if(t&&("object"==cM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return yM(e)}function yM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(mM=function t(){return!!e})()}function bM(e){return(bM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function gM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&wM(e,t)}function wM(e,t){return(wM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var OM=function(e){function t(e){var n,r;sM(this,t),(r=hM(this,t,[e])).modalNodesManager=void 0,r.pluginContext=void 0,r.pluginContext=e.treeNode.pluginContext;var o=r.pluginContext.project;return r.modalNodesManager=null===(n=o.currentDocument)||void 0===n?void 0:n.modalNodesManager,r.state={treeChildren:r.rootTreeNode.children},r}return gM(t,e),fM(t,[{key:"hideAllNodes",value:function e(){var t;null===(t=this.modalNodesManager)||void 0===t||t.hideModalNodes()}},{key:"componentDidMount",value:function e(){var t=this,n=this.rootTreeNode;n.onExpandableChanged((function(){t.setState({treeChildren:n.children})}))}},{key:"rootTreeNode",get:function e(){var t,n=this.props.treeNode,r,o=null===(t=this.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,i;return n.tree.getTreeNode(o)}},{key:"render",value:function e(){var t,n=this.rootTreeNode,r=n.expanded,o=!(null===(t=this.modalNodesManager)||void 0===t||!t.getVisibleModalNode());return React.createElement("div",{className:"tree-node-modal"},React.createElement("div",{className:"tree-node-modal-title"},React.createElement("span",null,this.pluginContext.intlNode("Modal View")),React.createElement("div",{className:"tree-node-modal-title-visible-icon",onClick:this.hideAllNodes.bind(this)},o?React.createElement(cR,null):null)),React.createElement("div",{className:"tree-pane-modal-content"},React.createElement(iM,{treeNode:n,treeChildren:this.state.treeChildren,expanded:r,isModal:!0})))}}])}(o.PureComponent),jM=function(e){function t(e){var n,r;sM(this,t),(r=hM(this,t,[e])).state={expanded:!1,selected:!1,hidden:!1,locked:!1,detecting:!1,isRoot:!1,highlight:!1,dropping:!1,conditionFlow:!1,expandable:!1,treeChildren:[],filterWorking:!1,matchChild:!1,matchSelf:!1},r.eventOffCallbacks=[];var o=r.props,i=o.treeNode,a=o.isRootNode;return r.state={expanded:!!a||i.expanded,selected:i.selected,hidden:i.hidden,locked:i.locked,detecting:i.detecting,isRoot:i.isRoot(),dropping:null!=(null===(n=i.dropDetail)||void 0===n?void 0:n.index),conditionFlow:null!=i.node.conditionGroup,highlight:i.isFocusingNode(),expandable:i.expandable,treeChildren:i.children},r}return gM(t,e),fM(t,[{key:"componentDidMount",value:function e(){var t=this,n,r,o=this.props.treeNode,i,a=o.pluginContext.project.currentDocument;o.onExpandedChanged((function(e){t.setState({expanded:e})})),o.onHiddenChanged((function(e){t.setState({hidden:e})})),o.onLockedChanged((function(e){t.setState({locked:e})})),o.onExpandableChanged((function(e){t.setState({expandable:e,treeChildren:o.children})})),o.onFilterResultChanged((function(){var e=o.filterReult,n=e.filterWorking,r=e.matchChild,i=e.matchSelf;t.setState({filterWorking:n,matchChild:r,matchSelf:i})})),this.eventOffCallbacks.push(null==a?void 0:a.onDropLocationChanged((function(){var e;t.setState({dropping:null!=(null===(e=o.dropDetail)||void 0===e?void 0:e.index)})})));var u=null==a||null===(n=a.selection)||void 0===n?void 0:n.onSelectionChange((function(){t.setState({selected:o.selected})}));this.eventOffCallbacks.push(u);var c=null==a||null===(r=a.detecting)||void 0===r?void 0:r.onDetectingChange((function(){t.setState({detecting:o.detecting})}));this.eventOffCallbacks.push(c)}},{key:"componentWillUnmount",value:function e(){var t;null===(t=this.eventOffCallbacks)||void 0===t||t.forEach((function(e){e&&e()}))}},{key:"shouldShowModalTreeNode",value:function e(){var t,n,r=this.props,o=r.treeNode,i;if(!r.isRootNode)return!1;var a,u=null===(t=o.pluginContext.project.currentDocument)||void 0===t?void 0:t.root,c,s=null===(n=o.tree.getTreeNode(u).children)||void 0===n?void 0:n.filter((function(e){var t;return null===(t=e.node.componentMeta)||void 0===t?void 0:t.isModal}));return!!(s&&s.length>0)}},{key:"render",value:function e(){var t=this.props,n=t.treeNode,r=t.isModal,o=t.isRootNode,i=Yo()("tree-node",{expanded:this.state.expanded,selected:this.state.selected,hidden:this.state.hidden,locked:this.state.locked,detecting:this.state.detecting,dropping:this.state.dropping,"is-root":this.state.isRoot,"condition-flow":this.state.conditionFlow,highlight:this.state.highlight}),a=this.shouldShowModalTreeNode(),u=this.state,c=u.filterWorking,s=u.matchChild,l=u.matchSelf;return o||!c||s||l?React.createElement("div",{className:i,"data-id":n.nodeId},React.createElement(FR,{treeNode:n,isModal:r,expanded:this.state.expanded,hidden:this.state.hidden,locked:this.state.locked,expandable:this.state.expandable}),a&&React.createElement(OM,{treeNode:n}),React.createElement(iM,{treeNode:n,isModal:!1,expanded:this.state.expanded,treeChildren:this.state.treeChildren})):null}}])}(o.PureComponent);function EM(e){return(EM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kM(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function SM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,PM(r.key),r)}}function _M(e,t,n){return t&&SM(e.prototype,t),n&&SM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function PM(e){var t=xM(e,"string");return"symbol"==EM(t)?t:t+""}function xM(e,t){if("object"!=EM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=EM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function NM(e,t,n){return t=AM(t),CM(e,LM()?Reflect.construct(t,n||[],AM(e).constructor):t.apply(e,n))}function CM(e,t){if(t&&("object"==EM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return TM(e)}function TM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function LM(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(LM=function t(){return!!e})()}function AM(e){return(AM=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function RM(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&MM(e,t)}function MM(e,t){return(MM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function DM(e,t){var n=e.target;return n&&t.contains(n)&&(n=n.closest("[data-id]"))&&t.contains(n)&&n.dataset.id||null}var IM=function(e){function t(){var e;kM(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=NM(this,t,[].concat(r))).shell=null,e.ignoreUpSelected=!1,e.boostEvent=void 0,e.state={root:null},e.onClick=function(t){var n;if(e.ignoreUpSelected)e.boostEvent=void 0;else if(e.boostEvent&&Object(l.Z)(e.boostEvent,t.nativeEvent))e.boostEvent=void 0;else{e.boostEvent=void 0;var r=e.getTreeNodeFromEvent(t);if(r){var o=r.node;if(Object(l.i)(o,t)){var i=e.props.tree.pluginContext,a=i.project,u=i.event,c=i.canvas,s=a.currentDocument,f=null==s?void 0:s.selection,p=null==s?void 0:s.focusNode,d=o.id,h=t.metaKey||t.ctrlKey||t.shiftKey;if(null===(n=c.activeTracker)||void 0===n||n.track(o),h&&p&&!o.contains(p)&&null!=f&&f.has(d))Object(l.H)(t.nativeEvent)||f.remove(d);else{var v,y,m;null==f||f.select(d);var b=null==f||null===(v=f.getNodes())||void 0===v?void 0:v[0],g=null==b||null===(y=b.componentMeta)||void 0===y?void 0:y.npm,w=[null==g?void 0:g.package,null==g?void 0:g.componentName].filter((function(e){return!!e})).join("-")||(null==b||null===(m=b.componentMeta)||void 0===m?void 0:m.componentName)||"";u.emit("outlinePane.select",{selected:w})}}}}},e.onDoubleClick=function(t){var n;t.preventDefault();var r=e.getTreeNodeFromEvent(t);(null==r?void 0:r.nodeId)!==(null===(n=e.state.root)||void 0===n?void 0:n.nodeId)&&(null!=r&&r.expanded?e.props.tree.collapseAllDecendants(r):e.props.tree.expandAllDecendants(r))},e.onMouseOver=function(t){e.hover(t)},e.onMouseDown=function(t){var n,r;if(!Object(l.H)(t.nativeEvent)){var o=e.getTreeNodeFromEvent(t);if(o){var i=o.node;if(Object(l.i)(i,t)){var a=e.props.tree.pluginContext,u=a.project,s=a.canvas,f=null===(n=u.currentDocument)||void 0===n?void 0:n.selection,p=null===(r=u.currentDocument)||void 0===r?void 0:r.focusNode,d=t.metaKey||t.ctrlKey||t.shiftKey,h;if(0===t.button&&p&&!i.contains(p)){var v,y=[i];if(e.ignoreUpSelected=!1,d){var m;if(null==f||!f.has(i.id))null===(m=s.activeTracker)||void 0===m||m.track(i),null==f||f.add(i.id),e.ignoreUpSelected=!0;null==f||f.remove(p.id),f&&(y=f.getTopNodes())}else null!=f&&f.has(i.id)&&(y=f.getTopNodes());e.boostEvent=t.nativeEvent,null===(v=s.dragon)||void 0===v||v.boost({type:c.g.Node,nodes:y},e.boostEvent)}}}}},e.onMouseLeave=function(){var t,n,r=e.props.tree.pluginContext.project.currentDocument;null==r||r.detecting.leave()},e}return RM(t,e),_M(t,[{key:"hover",value:function e(t){var n,r,o,i=null===(n=this.props.tree.pluginContext.project.currentDocument)||void 0===n?void 0:n.detecting;if(null==i||!i.enable){var a=null===(r=this.getTreeNodeFromEvent(t))||void 0===r?void 0:r.node;(null==a?void 0:a.id)&&(null==i||i.capture(a.id))}}},{key:"getTreeNodeFromEvent",value:function e(t){if(this.shell){var n=DM(t,this.shell),r;if(n)return this.props.tree.getTreeNodeById(n)}}},{key:"componentDidMount",value:function e(){var t=this,n=this.props.tree,r=n.root,o=n.pluginContext.project;this.setState({root:r});var i=o.currentDocument;null==i||i.onFocusNodeChanged((function(){t.setState({root:n.root})})),null==i||i.onImportSchema((function(){t.setState({root:n.root})}))}},{key:"render",value:function e(){var t=this,n;return this.state.root?React.createElement("div",{className:"lc-outline-tree",ref:function e(n){t.shell=n},onMouseDownCapture:this.onMouseDown,onMouseOver:this.onMouseOver,onClick:this.onClick,onDoubleClick:this.onDoubleClick,onMouseLeave:this.onMouseLeave},React.createElement(jM,{key:null===(n=this.state.root)||void 0===n?void 0:n.id,treeNode:this.state.root,isRootNode:!0})):null}}])}(o.PureComponent),BM=n(53),VM="CONDITION",FM="LOOP",GM="LOCKED",HM="HIDDEN",UM=[{value:VM,label:"Conditional rendering"},{value:FM,label:"Loop rendering"},{value:GM,label:"Locked"},{value:HM,label:"Hidden"}],zM=function e(t,n,r){if(!t||!t.node)return!1;if(!n&&0===r.length)return t.setFilterReult({filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""}),(t.children||[]).concat(t.slots||[]).forEach((function(e){zM(e,n,r)})),!1;var o=t.node,i=0===r.length||!!r.find((function(e){switch(e){case VM:return o.hasCondition();case FM:return o.hasLoop();case GM:return t.locked;case HM:return t.hidden;default:return!1}})),a="string"==typeof t.titleLabel&&t.titleLabel.indexOf(n)>-1,u=t.isRoot()||i&&a,c=!!(t.children||[]).concat(t.slots||[]).map((function(e){return zM(e,n,r)})).find(Boolean);return c&&t.expandable&&t.setExpanded(!0),t.setFilterReult({filterWorking:!0,matchChild:c,matchSelf:u,keywords:n}),u||c};function WM(e){return(WM="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $M(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function XM(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qM(r.key),r)}}function YM(e,t,n){return t&&XM(e.prototype,t),n&&XM(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function qM(e){var t=KM(e,"string");return"symbol"==WM(t)?t:t+""}function KM(e,t){if("object"!=WM(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=WM(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function JM(e,t,n){return t=tD(t),QM(e,eD()?Reflect.construct(t,n||[],tD(e).constructor):t.apply(e,n))}function QM(e,t){if(t&&("object"==WM(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ZM(e)}function ZM(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(eD=function t(){return!!e})()}function tD(e){return(tD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function nD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rD(e,t)}function rD(e,t){return(rD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var oD=function(e){function t(){var e;$M(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=JM(this,t,[].concat(r))).state={keywords:"",filterOps:[]},e.handleSearchChange=function(t){e.setState({keywords:t.trim()},e.filterTree)},e.handleOptionChange=function(t){e.setState({filterOps:t},e.filterTree)},e.handleCheckAll=function(){var t,n=e.state.filterOps.length===UM.length?[]:UM.map((function(e){return e.value}));e.handleOptionChange(n)},e}return nD(t,e),YM(t,[{key:"filterTree",value:function e(){var t=this.props.tree,n=this.state,r=n.keywords,o=n.filterOps;zM(t.root,r,o)}},{key:"render",value:function e(){var t=this,n=this.state,r=n.keywords,o=n.filterOps,a=o.length>0&&o.length<UM.length,u=o.length===UM.length;return i.a.createElement("div",{className:"lc-outline-filter"},i.a.createElement(_i.Search,{hasClear:!0,shape:"simple",placeholder:this.props.tree.pluginContext.intl("Filter Node"),className:"lc-outline-filter-search-input",value:r,onChange:this.handleSearchChange}),i.a.createElement(_i.Balloon,{v2:!0,align:"br",closable:!1,triggerType:"hover",trigger:i.a.createElement("div",{className:"lc-outline-filter-icon"},i.a.createElement(pR,null))},i.a.createElement(_i.Checkbox,{checked:u,indeterminate:a,onChange:this.handleCheckAll},this.props.tree.pluginContext.intlNode("Check All")),i.a.createElement(_i.Divider,null),i.a.createElement(_i.Checkbox.Group,{value:o,direction:"ver",onChange:this.handleOptionChange},UM.map((function(e){return i.a.createElement(_i.Checkbox,{id:e.value,value:e.value,key:e.value},t.props.tree.pluginContext.intlNode(e.label))})))))}}])}(o.PureComponent);function iD(e){return(iD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function aD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function uD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,sD(r.key),r)}}function cD(e,t,n){return t&&uD(e.prototype,t),n&&uD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function sD(e){var t=lD(e,"string");return"symbol"==iD(t)?t:t+""}function lD(e,t){if("object"!=iD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=iD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function fD(e,t,n){return t=vD(t),pD(e,hD()?Reflect.construct(t,n||[],vD(e).constructor):t.apply(e,n))}function pD(e,t){if(t&&("object"==iD(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return dD(e)}function dD(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hD(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(hD=function t(){return!!e})()}function vD(e){return(vD=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function yD(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mD(e,t)}function mD(e,t){return(mD=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}var bD=function(e){function t(e){var n,r,o,i,a,u,c;aD(this,t),(c=fD(this,t,[e])).controller=void 0,c.simulatorRendererReadyDispose=void 0,c.changeDocumentDispose=void 0,c.removeDocumentDispose=void 0,c.changeTree=function(){c.setState({tree:c.props.treeMaster.currentTree})};var s=e.controller,l=e.treeMaster;return c.controller=s,c.state={tree:l.currentTree},c.simulatorRendererReadyDispose=null===(n=c.props.treeMaster.pluginContext)||void 0===n||null===(r=n.project)||void 0===r?void 0:r.onSimulatorRendererReady(c.changeTree),c.changeDocumentDispose=null===(o=c.props.treeMaster.pluginContext)||void 0===o||null===(i=o.project)||void 0===i?void 0:i.onChangeDocument(c.changeTree),c.removeDocumentDispose=null===(a=c.props.treeMaster.pluginContext)||void 0===a||null===(u=a.project)||void 0===u?void 0:u.onRemoveDocument(c.changeTree),c}return yD(t,e),cD(t,[{key:"componentWillUnmount",value:function e(){var t,n,r;this.controller.purge(),null===(t=this.simulatorRendererReadyDispose)||void 0===t||t.call(this),null===(n=this.changeDocumentDispose)||void 0===n||n.call(this),null===(r=this.removeDocumentDispose)||void 0===r||r.call(this)}},{key:"render",value:function e(){var t=this,n=this.state.tree;return n?i.a.createElement("div",{className:"lc-outline-pane"},!this.props.hideFilter&&i.a.createElement(oD,{tree:n}),i.a.createElement("div",{ref:function e(n){return t.controller.mount(n)},className:"lc-outline-tree-container ".concat(this.props.hideFilter?"lc-hidden-outline-filter":"")},i.a.createElement(IM,{key:n.id,tree:n}))):i.a.createElement("div",{className:"lc-outline-pane"},i.a.createElement("p",{className:"lc-outline-notice"},i.a.createElement(_i.Loading,{style:{display:"block",marginTop:"40px"},tip:this.props.treeMaster.pluginContext.intl("Initializing")})))}}])}(o.PureComponent);function gD(){return(gD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function wD(e){return React.createElement(l.f,gD({viewBox:"0 0 1024 1024"},e),React.createElement("path",{d:"M128 96h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H128a64 64 0 0 1-64-64V160a64 64 0 0 1 64-64z m32 64a32 32 0 1 0 0 64h448a32 32 0 0 0 0-64H160z m224 576h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z m-32-384h512a64 64 0 0 1 64 64v64a64 64 0 0 1-64 64H384a64 64 0 0 1-64-64v-64a64 64 0 0 1 64-64z m32 64a32 32 0 0 0 0 64h448a32 32 0 0 0 0-64H416z"}))}wD.displayName="IconOutline";var OD="outline-backup-pane",jD="outline-master-pane",ED=n(9),kD=n.n(ED),SD;function _D(e){return(_D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,CD(r.key),r)}}function ND(e,t,n){return t&&xD(e.prototype,t),n&&xD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function CD(e){var t=TD(e,"string");return"symbol"==_D(t)?t:t+""}function TD(e,t){if("object"!=_D(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_D(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.filterResultChanged="filterResultChanged",e.expandedChanged="expandedChanged",e.hiddenChanged="hiddenChanged",e.lockedChanged="lockedChanged",e.titleLabelChanged="titleLabelChanged",e.expandableChanged="expandableChanged",e.conditionChanged="conditionChanged"}(SD||(SD={}));var LD=function(){function e(t,n){PD(this,e),this.pluginContext=void 0,this.event=new kD.a,this._node=void 0,this.tree=void 0,this._filterResult={filterWorking:!1,matchChild:!1,matchSelf:!1,keywords:""},this._expanded=!1,this.id=Object(l.ib)("treeNode"),this.tree=t,this.pluginContext=t.pluginContext,this._node=n}return ND(e,[{key:"nodeId",get:function e(){return this.node.id}},{key:"expandable",get:function e(){var t;return!this.locked&&(this.hasChildren()||this.hasSlots()||null!=(null===(t=this.dropDetail)||void 0===t?void 0:t.index))}},{key:"expanded",get:function e(){return this.isRoot(!0)||this.expandable&&this._expanded}},{key:"dropDetail",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return n&&this.isResponseDropping()&&Object(l.M)(n.detail)?n.detail:null}},{key:"depth",get:function e(){return this.node.zLevel}},{key:"detecting",get:function e(){var t=this.pluginContext.project.currentDocument;return!(null==t||!t.isDetectingNode(this.node))}},{key:"hidden",get:function e(){var t=this.node.isConditionalVisible();return null==t?!this.node.visible:!t}},{key:"locked",get:function e(){return this.node.isLocked}},{key:"selected",get:function e(){var t,n=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.selection;return!!n&&(null==n?void 0:n.has(this.node.id))}},{key:"title",get:function e(){return this.node.title}},{key:"titleLabel",get:function e(){var t=this.title,n,r;return t?(t.label&&(t=t.label),"string"==typeof t?t:Object(l.I)(t)?t[this.pluginContext.getLocale()]:this.node.componentName):""}},{key:"icon",get:function e(){var t;return null===(t=this.node.componentMeta)||void 0===t?void 0:t.icon}},{key:"parent",get:function e(){var t=this.node.parent;return t?this.tree.getTreeNode(t):null}},{key:"slots",get:function e(){var t=this;return this.node.slots.map((function(e){return t.tree.getTreeNode(e)}))}},{key:"condition",get:function e(){return this.node.hasCondition()&&!this.node.conditionGroup}},{key:"children",get:function e(){var t,n=this;return(null===(t=this.node.children)||void 0===t?void 0:t.map((function(e){return n.tree.getTreeNode(e)})))||null}},{key:"node",get:function e(){return this._node}},{key:"setLocked",value:function e(t){this.node.lock(t),this.event.emit(SD.lockedChanged,t)}},{key:"deleteNode",value:function e(t){t&&t.remove()}},{key:"onFilterResultChanged",value:function e(t){var n=this;return this.event.on(SD.filterResultChanged,t),function(){n.event.off(SD.filterResultChanged,t)}}},{key:"onExpandedChanged",value:function e(t){var n=this;return this.event.on(SD.expandedChanged,t),function(){n.event.off(SD.expandedChanged,t)}}},{key:"onHiddenChanged",value:function e(t){var n=this;return this.event.on(SD.hiddenChanged,t),function(){n.event.off(SD.hiddenChanged,t)}}},{key:"onLockedChanged",value:function e(t){var n=this;return this.event.on(SD.lockedChanged,t),function(){n.event.off(SD.lockedChanged,t)}}},{key:"onTitleLabelChanged",value:function e(t){var n=this;return this.event.on(SD.titleLabelChanged,t),function(){n.event.off(SD.titleLabelChanged,t)}}},{key:"onConditionChanged",value:function e(t){var n=this;return this.event.on(SD.conditionChanged,t),function(){n.event.off(SD.conditionChanged,t)}}},{key:"onExpandableChanged",value:function e(t){var n=this;return this.event.on(SD.expandableChanged,t),function(){n.event.off(SD.expandableChanged,t)}}},{key:"notifyExpandableChanged",value:function e(){this.event.emit(SD.expandableChanged,this.expandable)}},{key:"notifyTitleLabelChanged",value:function e(){this.event.emit(SD.titleLabelChanged,this.title)}},{key:"notifyConditionChanged",value:function e(){this.event.emit(SD.conditionChanged,this.condition)}},{key:"setHidden",value:function e(t){this.node.conditionGroup||(this.node.visible!==!t&&(this.node.visible=!t),this.event.emit(SD.hiddenChanged,t))}},{key:"isFocusingNode",value:function e(){var t,n,r,o,i=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!i&&(Object(l.M)(i.detail)&&"node"===(null===(n=i.detail.focus)||void 0===n?void 0:n.type)&&(null===(r=i.detail)||void 0===r||null===(o=r.focus)||void 0===o?void 0:o.node.id)===this.nodeId)}},{key:"setExpanded",value:function e(t){this._expanded=t,this.event.emit(SD.expandedChanged,t)}},{key:"isRoot",value:function e(){var t,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.root;return this.tree.root===this||n&&r===this.node}},{key:"isResponseDropping",value:function e(){var t,n,r=null===(t=this.pluginContext.project.getCurrentDocument())||void 0===t?void 0:t.dropLocation;return!!r&&(null===(n=r.target)||void 0===n?void 0:n.id)===this.nodeId}},{key:"setTitleLabel",value:function e(t){var n;if(t!==this.titleLabel){var r,o;if(""===t)null===(r=this.node.getExtraProp("title",!1))||void 0===r||r.remove();else null===(o=this.node.getExtraProp("title",!0))||void 0===o||o.setValue(t);this.event.emit(SD.titleLabelChanged,this)}}},{key:"isContainer",value:function e(){return this.node.isContainerNode}},{key:"hasSlots",value:function e(){return this.node.hasSlots()}},{key:"hasChildren",value:function e(){var t;return!(!this.isContainer()||null===(t=this.node.children)||void 0===t||!t.notEmptyNode)}},{key:"select",value:function e(t){var n,r=this.node,o=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;t?null==o||o.add(r.id):null==o||o.select(r.id)}},{key:"expand",value:function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.expandable&&!this._expanded&&this.setExpanded(!0),t&&this.expandParents()}},{key:"expandParents",value:function e(){for(var t=this.node.parent;t;)this.tree.getTreeNode(t).setExpanded(!0),t=t.parent}},{key:"setNode",value:function e(t){this._node!==t&&(this._node=t)}},{key:"filterReult",get:function e(){return this._filterResult}},{key:"setFilterReult",value:function e(t){this._filterResult=t,this.event.emit(SD.filterResultChanged)}}])}();function AD(e){return(AD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function RD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function MD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ID(r.key),r)}}function DD(e,t,n){return t&&MD(e.prototype,t),n&&MD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function ID(e){var t=BD(e,"string");return"symbol"==AD(t)?t:t+""}function BD(e,t){if("object"!=AD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=AD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var VD=function(){function e(t){var n=this;RD(this,e),this.treeNodesMap=new Map,this.id=void 0,this.pluginContext=void 0,this.treeMaster=void 0,this.treeMaster=t,this.pluginContext=t.pluginContext;var r=this.pluginContext.project.currentDocument;this.id=null==r?void 0:r.id,null==r||r.onChangeNodeChildren((function(e){var t=e.node,r=n.getTreeNodeById(t.id);null==r||r.notifyExpandableChanged()})),null==r||r.history.onChangeCursor((function(){var e;null===(e=n.root)||void 0===e||e.notifyExpandableChanged()})),null==r||r.onChangeNodeProp((function(e){var t=e.node,r=e.key;if("___title___"===r){var o=n.getTreeNodeById(t.id);null==o||o.notifyTitleLabelChanged()}else if("___condition___"===r){var i=n.getTreeNodeById(t.id);null==i||i.notifyConditionChanged()}})),null==r||r.onChangeNodeVisible((function(e,t){var r=n.getTreeNodeById(e.id);null==r||r.setHidden(!t)})),null==r||r.onImportSchema((function(){n.treeNodesMap=new Map}))}return DD(e,[{key:"root",get:function e(){var t;return null!==(t=this.pluginContext.project.currentDocument)&&void 0!==t&&t.focusNode?this.getTreeNode(this.pluginContext.project.currentDocument.focusNode):null}},{key:"setNodeSelected",value:function e(t){var n=this.treeNodesMap.get(t);n&&this.expandAllAncestors(n)}},{key:"getTreeNode",value:function e(t){if(this.treeNodesMap.has(t.id)){var n=this.treeNodesMap.get(t.id);return n.setNode(t),n}var r=new LD(this,t);return this.treeNodesMap.set(t.id,r),r}},{key:"getTreeNodeById",value:function e(t){return this.treeNodesMap.get(t)}},{key:"expandAllAncestors",value:function e(t){if(t&&!t.isRoot()){for(var n=[],r=t;!t.isRoot();){var o;if(!(r=null===(o=r)||void 0===o?void 0:o.parent))break;n.unshift(r)}n.forEach((function(e){e.setExpanded(!0)}))}}},{key:"expandAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!0);var r=t&&t.children;r&&r.forEach((function(e){n.expandAllDecendants(e)}))}}},{key:"collapseAllDecendants",value:function e(t){var n=this;if(t){t.setExpanded(!1);var r=t&&t.children;r&&r.forEach((function(e){n.collapseAllDecendants(e)}))}}}])}(),FD=n(54),GD=n(55),HD;function UD(e){return(UD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function zD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,XD(r.key),r)}}function $D(e,t,n){return t&&WD(e.prototype,t),n&&WD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function XD(e){var t=YD(e,"string");return"symbol"==UD(t)?t:t+""}function YD(e,t){if("object"!=UD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=UD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}!function(e){e.pluginContextChanged="pluginContextChanged"}(HD||(HD={}));var qD=function(){function e(t,n){var r=this;zD(this,e),this.options=void 0,this.pluginContext=void 0,this.boards=new Set,this.treeMap=new Map,this.disposeEvents=[],this.event=new kD.a,this.options=n,this.setPluginContext(t);var o=this.pluginContext.workspace;if(this.initEvent(),t.registerLevel===c.h.Workspace){var i,a;this.setPluginContext(null===(i=o.window)||void 0===i?void 0:i.currentEditorView);var u=function e(){var t;a=null===(t=o.window)||void 0===t?void 0:t.onChangeViewType((function(){var e;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView)}))};u(),o.onChangeActiveWindow((function(){var e;r.setPluginContext(null===(e=o.window)||void 0===e?void 0:e.currentEditorView),a&&a(),u()}))}}return $D(e,[{key:"setPluginContext",value:function e(t){if(t){var n=t.common.utils.createIntl({"en-US":FD,"zh-CN":GD}),r=n.intl,o=n.intlNode,i=n.getLocale,a=Object.assign(t,{intl:r,intlNode:o,getLocale:i});a.extraTitle=this.options&&this.options.extraTitle,this.pluginContext=a,this.disposeEvent(),this.initEvent(),this.emitPluginContextChange()}}},{key:"disposeEvent",value:function e(){this.disposeEvents.forEach((function(e){e&&e()}))}},{key:"initEvent",value:function e(){var t=this,n,r,o,i,a,u=this.pluginContext,c=u.event,s=u.project,f=u.canvas,p=function e(n){var r=n.node,o=n.detail,i=t.currentTree;if(i){var a=i.getTreeNode(r);o&&Object(l.M)(o)?a.expand(!0):a.expandParents(),t.boards.forEach((function(e){e.scrollToNode(a,o)}))}},d;(this.disposeEvents=[null===(n=f.dragon)||void 0===n?void 0:n.onDragstart((function(){a=Date.now()/1e3,t.toVision()})),null===(r=f.activeTracker)||void 0===r?void 0:r.onChange(p),null===(o=f.dragon)||void 0===o?void 0:o.onDragend((function(){var e,t,n=Date.now()/1e3,r=null===(e=s.currentDocument)||void 0===e||null===(t=e.selection)||void 0===t?void 0:t.getNodes();c.emit("outlinePane.dragend",{selected:null==r?void 0:r.map((function(e){var t,n;if(e){var r=null==e||null===(t=e.componentMeta)||void 0===t?void 0:t.npm;return[null==r?void 0:r.package,null==r?void 0:r.componentName].filter((function(e){return!!e})).join("-")||(null==e||null===(n=e.componentMeta)||void 0===n?void 0:n.componentName)}})).join("&"),time:(n-a).toFixed(2)})})),s.onRemoveDocument((function(e){var n=e.id;t.treeMap.delete(n)}))],null!==(i=f.activeTracker)&&void 0!==i&&i.target)&&p(null===(d=f.activeTracker)||void 0===d?void 0:d.target)}},{key:"toVision",value:function e(){var t=this.currentTree;if(t){var n,r=null===(n=this.pluginContext.project.getCurrentDocument())||void 0===n?void 0:n.selection;null==r||r.getTopNodes().forEach((function(e){t.getTreeNode(e).setExpanded(!1)}))}}},{key:"addBoard",value:function e(t){this.boards.add(t)}},{key:"removeBoard",value:function e(t){this.boards.delete(t)}},{key:"purge",value:function e(){}},{key:"onPluginContextChange",value:function e(t){this.event.on(HD.pluginContextChanged,t)}},{key:"emitPluginContextChange",value:function e(){this.event.emit(HD.pluginContextChanged)}},{key:"currentTree",get:function e(){var t=this.pluginContext.project.getCurrentDocument();if(t){var n=t.id;if(this.treeMap.has(n))return this.treeMap.get(n);var r=new VD(this);return this.treeMap.set(n,r),r}return null}}])}();function KD(e){return(KD="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function JD(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function QD(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,eI(r.key),r)}}function ZD(e,t,n){return t&&QD(e.prototype,t),n&&QD(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function eI(e){var t=tI(e,"string");return"symbol"==KD(t)?t:t+""}function tI(e,t){if("object"!=KD(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=KD(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var nI=15,rI=function(){function e(){JD(this,e),this.indentStart=null}return ZD(e,[{key:"reset",value:function e(){this.indentStart=null}},{key:"getIndentParent",value:function e(t,n){if(t.target!==n.target||!Object(l.M)(t.detail)||!Object(l.M)(n.detail)||t.source!==n.source||t.detail.index!==n.detail.index||null==n.detail.index)return this.indentStart=null,null;null==this.indentStart&&(this.indentStart=t.event.globalX);var r=n.event.globalX-this.indentStart,o;if(Math.floor(Math.abs(r)/15)<1)return null;this.indentStart=n.event.globalX;var i=r<0?"left":"right",a=n.target,u=n.detail.index,c,s,f;return"left"===i?!a.parent||u<((null===(c=a.children)||void 0===c?void 0:c.size)||0)||a.isSlotNode?null:[a.parent,a.index+1]:0===u?null:(a=null===(s=a.children)||void 0===s?void 0:s.get(u-1))&&a.isContainerNode?[a,null===(f=a.children)||void 0===f?void 0:f.size]:null}}])}();function oI(e){return(oI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function iI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,cI(r.key),r)}}function uI(e,t,n){return t&&aI(e.prototype,t),n&&aI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function cI(e){var t=sI(e,"string");return"symbol"==oI(t)?t:t+""}function sI(e,t){if("object"!=oI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=oI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var lI=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;iI(this,e),this.timer=void 0,this.previous=void 0,this.event=void 0,this.decide=void 0,this.timeout=500,this.decide=t,this.timeout=n}return uI(e,[{key:"focus",value:function e(t,n){var r=this;this.event=n,this.previous!==t&&(this.reset(),this.previous=t,this.timer=setTimeout((function(){r.previous&&r.decide(r.previous,r.event),r.reset()}),this.timeout))}},{key:"tryFocus",value:function e(t){var n;t&&Object(l.M)(t.detail)&&"node"===(null===(n=t.detail.focus)||void 0===n?void 0:n.type)?this.focus(t.detail.focus.node,t.event):this.reset()}},{key:"reset",value:function e(){this.timer&&(clearTimeout(this.timer),this.timer=void 0),this.previous=void 0}}])}();function fI(e){return(fI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pI(e,t){return mI(e)||yI(e,t)||hI(e,t)||dI()}function dI(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function hI(e,t){if(e){if("string"==typeof e)return vI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?vI(e,t):void 0}}function vI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function yI(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function mI(e){if(Array.isArray(e))return e}function bI(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gI(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,OI(r.key),r)}}function wI(e,t,n){return t&&gI(e.prototype,t),n&&gI(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function OI(e){var t=jI(e,"string");return"symbol"==fI(t)?t:t+""}function jI(e,t){if("object"!=fI(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=fI(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}var EI=function(){function e(t,n){var r=this;bI(this,e),this.pluginContext=void 0,this.treeMaster=void 0,this.id=Object(l.ib)("outline"),this.indentTrack=new rI,this._sensorAvailable=!1,this.dwell=new lI((function(e,t){var n=r.pluginContext,o=n.canvas,i,a=n.project.getCurrentDocument(),u,s,l=!0;e.hasSlots()?(u=null,s={type:"slots"}):(u=0,l=!(null==a||!a.checkNesting(e,t.dragObject))),o.createLocation({target:e,source:r.id,event:t,detail:{type:c.k.Children,index:u,focus:s,valid:l}})})),this.at=void 0,this.tryScrollAgain=null,this.sensing=!1,this._scrollTarget=void 0,this.scroller=void 0,this._shell=null,this.pluginContext=n.pluginContext,this.treeMaster=n,this.at=t;var o=!1,i;(function e(){var t,n;if(o)return!1;o=!0,null===(t=r.treeMaster)||void 0===t||t.addBoard(r);var i=r.pluginContext.canvas;null===(n=i.dragon)||void 0===n||n.addSensor(r),r.scroller=i.createScroller(r)})()}return wI(e,[{key:"sensorAvailable",get:function e(){return this._sensorAvailable}},{key:"bounds",get:function e(){return this._shell?this._shell.getBoundingClientRect():null}},{key:"scrollTarget",get:function e(){return this._scrollTarget}},{key:"fixEvent",value:function e(t){var n;if(t.fixed)return t;var r=(null===(n=t.originalEvent.view)||void 0===n?void 0:n.document)!==document;return t.target&&!r||(t.target=document.elementFromPoint(t.canvasX,t.canvasY)),t.documentModel=this.pluginContext.project.getCurrentDocument(),t.fixed=!0,t}},{key:"locate",value:function e(t){var n,r,o,i;this.sensing=!0,null===(n=this.scroller)||void 0===n||n.scrolling(t);var a=t.globalY,u=t.dragObject,s=null==u?void 0:u.nodes,f=null===(r=this.treeMaster)||void 0===r?void 0:r.currentTree;if(!f||!f.root||!this._shell)return null;var p=null==s?void 0:s.filter((function(e){var t,n,r=null===(t=e.componentMeta)||void 0===t||null===(n=t.advanced.callbacks)||void 0===n?void 0:n.onMoveHook,o;return!r||"function"!=typeof r||r(e)}));if(!Object(l.E)(u)||p&&0!==p.length){var d=this.pluginContext,h=d.project,v=d.canvas,y=h.getCurrentDocument(),m=SI(t,this._shell),b=this.getInsertionRect(),g=null==y?void 0:y.dropLocation,w=null!==(o=t.dragObject)&&void 0!==o&&o.nodes?t.dragObject.nodes[0].componentMeta:null;if("node"===(null===(i=t.dragObject)||void 0===i?void 0:i.type)&&w&&w.isModal&&null!=y&&y.focusNode)return v.createLocation({target:null==y?void 0:y.focusNode,detail:{type:c.k.Children,index:0,valid:!0},source:this.id,event:t});if(!(g&&(m&&"unchanged"===m||b&&a>=b.top&&a<=b.bottom)&&u)){if(this.indentTrack.reset(),m&&"unchanged"!==m){var O=f.getTreeNodeById(m.nodeId);if(O){var j=m.focusSlots,E,k=O.node;if(Object(l.E)(u)){for(var S=p,_=null==S?void 0:S.length,P=k;_-- >0;)S[_].contains(P)&&(P=S[_].parent);P!==k&&(k=P||(null==y?void 0:y.focusNode),O=f.getTreeNode(k),j=!1)}if(j)return this.dwell.reset(),v.createLocation({target:k,source:this.id,event:t,detail:{type:c.k.Children,index:null,valid:!1,focus:{type:"slots"}}});if(!O.isRoot()){var x=this.getNear(O,t);return this.dwell.tryFocus(x),x}}}var N=this.drillLocate(f.root,t);return this.dwell.tryFocus(N),N}var C=g.clone(t),T=this.indentTrack.getIndentParent(g,C);if(T){var L=pI(T,2),A=L[0],R=L[1];if(kI(A,u)){if(f.getTreeNode(A).expanded)return this.dwell.reset(),v.createLocation({target:A,source:this.id,event:t,detail:{type:c.k.Children,index:R,valid:null==y?void 0:y.checkNesting(A,t.dragObject)}});g.detail.focus={type:"node",node:A},this.dwell.focus(A,t)}else this.dwell.reset()}else g.detail.near&&(g.detail.near=void 0,this.dwell.reset())}}},{key:"isEnter",value:function e(t){if(!this._shell)return!1;var n=this._shell.getBoundingClientRect();return t.globalY>=n.top&&t.globalY<=n.bottom&&t.globalX>=n.left&&t.globalX<=n.right}},{key:"deactiveSensor",value:function e(){var t;this.sensing=!1,null===(t=this.scroller)||void 0===t||t.cancel(),this.dwell.reset(),this.indentTrack.reset()}},{key:"scrollToNode",value:function e(t,n){var r=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i;if(o<1&&this.tryScrollAgain&&(Object(ts.cancelIdleCallback)(this.tryScrollAgain),this.tryScrollAgain=null),this.bounds&&this.scroller&&this.scrollTarget)if(i=n&&Object(l.M)(n)?this.getInsertionRect():this.getTreeNodeRect(t)){var a=this.scrollTarget,u=a.scrollHeight,c=a.top,s=this.bounds,f=s.height,p=s.top,d=s.bottom;if(i.top<p||i.bottom>d){var h={};h.top=Math.min(i.top+i.height/2+c-p-f/2,u-f),i.height>=f&&(h.top=Math.min(c+i.top-p,h.top)),this.scroller.scrollTo(h)}o<4&&(this.tryScrollAgain=ns()((function(){return r.scrollToNode(t,n,4)})))}else o<3&&(this.tryScrollAgain=ns()((function(){return r.scrollToNode(t,n,o+1)})))}},{key:"getNear",value:function e(t,n,r,o){var i=this.pluginContext,a=i.canvas,u,s=i.project.getCurrentDocument(),l=n.globalY,f=n.dragObject;if(!f)return null;var p=t.node,d=t.expanded,h=o;if(!h&&!(h=this.getTreeNodeRect(t)))return null;var v=r,y;if(null==v&&(v=p.index),p.isSlotNode){if(!t.isContainer()&&!t.hasSlots())return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.k.Children,index:null,near:{node:p,pos:"replace"},valid:!0}});var m=this.drillLocate(t,n);return m||a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.k.Children,index:null,valid:!1,focus:{type:"slots"}}})}d||!t.isContainer()&&!t.hasSlots()||(y=p);var b=this.getTreeTitleRect(t)||h;if(l<b.top+b.height/2)return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.k.Children,index:v,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"before"},focus:kI(y,f)?{type:"node",node:y}:void 0}});if(l>b.bottom&&(y=void 0),d){var g=this.drillLocate(t,n);if(g)return g}return a.createLocation({target:p.parent,source:this.id,event:n,detail:{type:c.k.Children,index:(v||0)+1,valid:null==s?void 0:s.checkNesting(p.parent,f),near:{node:p,pos:"after"},focus:kI(y,f)?{type:"node",node:y}:void 0}})}},{key:"drillLocate",value:function e(t,n){var r=this.pluginContext,o=r.canvas,i,a=r.project.getCurrentDocument(),u=n.dragObject,s=n.globalY;if(!u)return null;if(!kI(t.node,u))return null;if(Object(l.C)(u))return null;var f=t.node,p={type:c.k.Children},d={target:f,detail:p,source:this.id,event:n},h=t.hasSlots(),v=t.isContainer();f.isSlotNode&&!t.expanded&&(h?(p.index=null,p.focus={type:"slots"},p.valid=!1):(p.index=0,p.valid=null==a?void 0:a.checkNesting(f,u)));var y=null,m,b=!1;if(h&&(m=this.getTreeSlotsRect(t)))if(s<=m.bottom)b=!0,y=t.slots;else if(!v)return p.index=null,p.focus={type:"slots"},p.valid=!1,o.createLocation(d);if(!y&&v&&(y=t.children),!y)return null;for(var g=y.length,w=0,O=g<1,j,E=w;w<g;w++){j=y[w],E=w;var k=this.getTreeNodeRect(j);if(k){if(s<k.top){O=!0;break}if(!(s>k.bottom)){var S=this.getNear(j,n,w,k);if(S)return S}}}return b?(p.focus={type:"slots"},p.valid=!1,p.index=null):(j?(p.index=O?E:E+1,p.near={node:j.node,pos:O?"before":"after"}):p.index=g,p.valid=null==a?void 0:a.checkNesting(f,u)),o.createLocation(d)}},{key:"purge",value:function e(){var t,n,r;null===(t=this.pluginContext.canvas.dragon)||void 0===t||t.removeSensor(this),null===(n=this.treeMaster)||void 0===n||n.removeBoard(this)}},{key:"mount",value:function e(t){var n=this;if(this._shell!==t){this._shell=t;var r=this.pluginContext,o=r.canvas,i=r.project;if(t){var a,u;this._scrollTarget=o.createScrollTarget(t),this._sensorAvailable=!0;var c=null===(a=i.currentDocument)||void 0===a?void 0:a.selection,s=null==c?void 0:c.getTopNodes(!0),l=null===(u=this.treeMaster)||void 0===u?void 0:u.currentTree;if(s&&s[0]&&l){var f=l.getTreeNodeById(s[0].id);f&&setTimeout((function(){l.setNodeSelected(f.nodeId),n.scrollToNode(f,null,4)}),0)}}else this._scrollTarget=void 0,this._sensorAvailable=!1}}},{key:"getInsertionRect",value:function e(){var t;if(this._shell)return null===(t=this._shell.querySelector(".insertion"))||void 0===t?void 0:t.getBoundingClientRect()}},{key:"getTreeNodeRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeTitleRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-title[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}},{key:"getTreeSlotsRect",value:function e(t){var n;if(this._shell)return null===(n=this._shell.querySelector('.tree-node-slots[data-id="'.concat(t.nodeId,'"]')))||void 0===n?void 0:n.getBoundingClientRect()}}])}();function kI(e,t){if(!e)return!1;var n;if(Object(l.E)(t)&&t.nodes.some((function(t){return t.contains(e)})))return!1;return!0}function SI(e,t){var n=e.target;if(!n||!t.contains(n))return null;if(n.matches(".insertion"))return"unchanged";var r=n.closest("[data-id]");if(!r||!t.contains(r))return null;var o=r.dataset.id;return{focusSlots:r.matches(".tree-node-slots"),nodeId:o}}function _I(e){return(_I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function PI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */PI=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==_I(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(_I(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function xI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function NI(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?xI(Object(n),!0).forEach((function(t){CI(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xI(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function CI(e,t,n){return(t=TI(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TI(e){var t=LI(e,"string");return"symbol"==_I(t)?t:t+""}function LI(e,t){if("object"!=_I(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=_I(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function AI(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function RI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){AI(i,r,o,a,u,"next",e)}function u(e){AI(i,r,o,a,u,"throw",e)}a(void 0)}))}}function MI(){return(MI=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}function DI(e,t){return GI(e)||FI(e,t)||BI(e,t)||II()}function II(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function BI(e,t){if(e){if("string"==typeof e)return VI(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?VI(e,t):void 0}}function VI(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function FI(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(s)throw o}}return u}}function GI(e){if(Array.isArray(e))return e}function HI(e){var t=e.treeMaster||new qD(e.pluginContext,e.options),n,r=DI(Object(o.useState)((function(){return new EI(e.paneName||jD,t)})),2),i=r[0],a=r[1];return Object(o.useEffect)((function(){return t.onPluginContextChange((function(){a(new EI(e.paneName||jD,t))}))}),[]),React.createElement(bD,MI({treeMaster:t,controller:i,key:i.id,hideFilter:e.hideFilter},e))}var UI=function e(t,n){var r=t.skeleton,o=t.config,i=t.canvas,a=t.project,u=!0,c;o.getPreference().contains("outline-pane-pinned-status-isFloat","skeleton")&&(u=o.getPreference().get("outline-pane-pinned-status-isFloat","skeleton"));var s={masterPane:!1,backupPane:!1},l=new qD(t,n);return{init:function e(){return RI(PI().mark((function e(){var t,n,c;return PI().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:r.add({area:"leftArea",name:"outlinePane",type:"PanelDock",index:-1,content:{name:jD,props:{icon:wD,description:l.pluginContext.intlNode("Outline Tree")},content:HI},panelProps:NI({area:u?"leftFloatArea":"leftFixedArea",keepVisibleWhileDragging:!0},o.get("defaultOutlinePaneProps")),contentProps:{treeTitleExtra:o.get("treeTitleExtra"),treeMaster:l,paneName:jD}}),r.add({area:"rightArea",name:OD,type:"Panel",props:{hiddenWhenInit:!0},content:HI,contentProps:{paneName:OD,treeMaster:l},index:1}),c=function e(){var t,n=null===(t=i.dragon)||void 0===t?void 0:t.dragging,o=s.backupPane||s.masterPane,a;n&&!o?r.showPanel(OD):r.hidePanel(OD)},null===(t=i.dragon)||void 0===t||t.onDragstart((function(){c()})),null===(n=i.dragon)||void 0===n||n.onDragend((function(){c()})),r.onShowPanel((function(e){e===jD&&(s.masterPane=!0),e===OD&&(s.backupPane=!0)})),r.onHidePanel((function(e){e===jD&&(s.masterPane=!1,c()),e===OD&&(s.backupPane=!1)})),a.onChangeDocument((function(e){if(e){var t=e.selection;null==t||t.onSelectionChange((function(){var e=null==t?void 0:t.getNodes();if(e&&0!==e.length){var n=l.currentTree;e.forEach((function(e){var t=null==n?void 0:n.getTreeNodeById(e.id);null==n||n.expandAllAncestors(t)}))}}))}}));case 8:case"end":return f.stop()}}),e)})))()}}};function zI(e){return(zI="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function WI(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */WI=function e(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function e(t,n,r){return t[n]=r}}function l(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),u=new C(r||[]);return o(a,"_invoke",{value:_(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=l;var p="suspendedStart",d="suspendedYield",h="executing",v="completed",y={};function m(){}function b(){}function g(){}var w={};s(w,a,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(T([])));j&&j!==n&&r.call(j,a)&&(w=j);var E=g.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,i,a,u){var c=f(e[o],e,i);if("throw"!==c.type){var s=c.arg,l=s.value;return l&&"object"==zI(l)&&r.call(l,"__await")?t.resolve(l.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(l).then((function(e){s.value=e,a(s)}),(function(e){return n("throw",e,a,u)}))}u(c.arg)}var i;o(this,"_invoke",{value:function e(r,o){function a(){return new t((function(e,t){n(r,o,e,t)}))}return i=i?i.then(a,a):a()}})}function _(t,n,r){var o=p;return function(i,a){if(o===h)throw Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var c=P(u,r);if(c){if(c===y)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var s=f(t,n,r);if("normal"===s.type){if(o=r.done?v:d,s.arg===y)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(o=v,r.method="throw",r.arg=s.arg)}}}function P(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function T(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(zI(t)+" is not iterable")}return b.prototype=g,o(E,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:b,configurable:!0}),b.displayName=s(g,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,c,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},k(S.prototype),s(S.prototype,u,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new S(l(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(E),s(E,c,"Generator"),s(E,a,(function(){return this})),s(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,C.prototype={constructor:C,reset:function t(n){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!n)for(var o in this)"t"===o.charAt(0)&&r.call(this,o)&&!isNaN(+o.slice(1))&&(this[o]=e)},stop:function e(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function t(n){if(this.done)throw n;var o=this;function i(t,r){return c.type="throw",c.arg=n,o.next=t,r&&(o.method="next",o.arg=e),!!r}for(var a=this.tryEntries.length-1;a>=0;--a){var u=this.tryEntries[a],c=u.completion;if("root"===u.tryLoc)return i("end");if(u.tryLoc<=this.prev){var s=r.call(u,"catchLoc"),l=r.call(u,"finallyLoc");if(s&&l){if(this.prev<u.catchLoc)return i(u.catchLoc,!0);if(this.prev<u.finallyLoc)return i(u.finallyLoc)}else if(s){if(this.prev<u.catchLoc)return i(u.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return i(u.finallyLoc)}}}},abrupt:function e(t,n){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=n&&n<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=t,u.arg=n,a?(this.method="next",this.next=a.finallyLoc,y):this.complete(u)},complete:function e(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),y},finish:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),y}},catch:function e(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var o=r.completion;if("throw"===o.type){var i=o.arg;N(r)}return i}}throw Error("illegal catch attempt")},delegateYield:function t(n,r,o){return this.delegate={iterator:T(n),resultName:r,nextLoc:o},"next"===this.method&&(this.arg=e),y}},t}function $I(e,t,n,r,o,i,a){try{var u=e[i](a),c=u.value}catch(e){return void n(e)}u.done?t(c):Promise.resolve(c).then(r,o)}function XI(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){$I(i,r,o,a,u,"next",e)}function u(e){$I(i,r,o,a,u,"throw",e)}a(void 0)}))}}function YI(e,t,n){return qI.apply(this,arguments)}function qI(){return(qI=XI(WI().mark((function e(t,n,r){var o,i;return WI().wrap((function e(a){for(;;)switch(a.prev=a.next){case 0:return o=FL(t),i=dA(n),a.next=4,r.register(UI,{},{autoInit:!0});case 4:return a.next=6,r.register(o);case 6:return a.next=8,r.register(GL,{});case 8:return a.next=10,r.register(i);case 10:return a.next=12,r.register(NA);case 12:return a.next=14,r.register(UN,{},{autoInit:!0});case 14:return a.next=16,r.register(HA);case 16:return a.next=18,r.register(JA,{});case 18:return a.abrupt("return",(function(){r.delete(UI.pluginName),r.delete(o.pluginName),r.delete(GL.pluginName),r.delete(i.pluginName),r.delete(NA.pluginName),r.delete(UN.pluginName),r.delete(HA.pluginName),r.delete(JA.pluginName)}));case 19:case"end":return a.stop()}}),e)})))).apply(this,arguments)}UI.meta={eventPrefix:"OutlinePlugin",preferenceDeclaration:{title:"\u5927\u7eb2\u6811\u63d2\u4ef6\u914d\u7f6e",properties:[{key:"extraTitle",type:"object",description:"\u526f\u6807\u9898"}]}},UI.pluginName="OutlinePlugin";var KI=new CT(YI,jA),JI=new cw(KI),QI=new u.Editor;u.globalContext.register(QI,u.Editor),u.globalContext.register(QI,"editor"),u.globalContext.register(KI,"workspace");var ZI={},eB=new US(QI);QI.set("skeleton",eB);var tB=new Af({editor:QI,shellModelFactory:jA});QI.set("designer",tB);var nB=tB.project,rB=new u.Hotkey,oB=new ib(rB),iB=new fg(nB),aB=new Fg(eB,"any",!1),uB=new u.Setters,cB=new Og(uB),sB=new u.Command,lB=new Aw(sB,ZI),fB=new xb(QI),pB=new kw(QI);QI.set("project",iB),QI.set("setters",cB),QI.set("material",fB),QI.set("innerHotkey",rB);var dB=new vw(u.engineConfig),hB=new Km(u.commonEvent,{prefix:"common"}),vB=new db({level:"warn",bizName:"common"}),yB=new Gm(QI,eB),mB=new Qg(QI),bB,gB,wB=new Qp({assembleApis:function e(t,n,r){t.hotkey=oB,t.project=iB,t.skeleton=new Fg(eB,n,!1),t.setters=cB,t.material=fB;var o=(null==r?void 0:r.eventPrefix)||"common",i=null==r?void 0:r.commandScope;t.event=new Km(u.commonEvent,{prefix:o}),t.config=dB,t.common=yB,t.canvas=mB,t.plugins=bB,t.logger=new db({level:"warn",bizName:"plugin:".concat(n)}),t.workspace=JI,t.commonUI=pB,t.command=new Aw(sB,t,{commandScope:i}),t.registerLevel=c.h.Default,t.isPluginRegisteredInWorkspace=!1,QI.set("pluginContext",t)}});bB=new Vb(wB).toProxy(),QI.set("innerPlugins",wB),QI.set("plugins",bB),ZI.skeleton=aB,ZI.plugins=bB,ZI.project=iB,ZI.setters=cB,ZI.material=fB,ZI.event=hB,ZI.logger=vB,ZI.hotkey=oB,ZI.common=yB,ZI.workspace=JI,ZI.canvas=mB,ZI.commonUI=pB,ZI.command=lB;var OB=!0,jB={symbols:VL,classes:r},EB;u.engineConfig.set("isOpenSource",OB);var kB="N/A";u.engineConfig.set("ENGINE_VERSION",kB);var SB=YI(tB,QI,bB);function _B(e,t,n){return PB.apply(this,arguments)}function PB(){return(PB=XI(WI().mark((function e(t,n,r){var i,c,s;return WI().wrap((function e(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,xB();case 2:if(i=null,Object(l.R)(t)?(i=t,(EB=document.createElement("div")).id="engine",document.body.appendChild(EB)):(i=n,EB=t,t||((EB=document.createElement("div")).id="engine",document.body.appendChild(EB))),u.engineConfig.setEngineOptions(i),c=yB.skeletonCabin.Workbench,!n||!n.enableWorkspaceMode){f.next=19;break}return f.next=9,SB;case 9:return(s=f.sent)&&s(),Object(a.render)(Object(o.createElement)(RL,{workspace:KI,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),EB),KI.enableAutoOpenFirstWindow=u.engineConfig.get("enableAutoOpenFirstWindow",!0),KI.setActive(!0),KI.initWindow(),rB.activate(!1),f.next=18,KI.plugins.init(r);case 18:return f.abrupt("return");case 19:return f.next=21,bB.init(r);case 21:Object(a.render)(Object(o.createElement)(c,{skeleton:eB,className:"engine-main",topAreaItemClassName:"engine-actionitem"}),EB);case 22:case"end":return f.stop()}}),e)})))).apply(this,arguments)}function xB(){return NB.apply(this,arguments)}function NB(){return(NB=XI(WI().mark((function e(){var t;return WI().wrap((function e(n){for(;;)switch(n.prev=n.next){case 0:t=iB.documents,Array.isArray(t)&&t.length>0&&t.forEach((function(e){return iB.removeDocument(e)})),EB&&Object(a.unmountComponentAtNode)(EB);case 3:case"end":return n.stop()}}),e)})))).apply(this,arguments)}console.log("%c AliLowCodeEngine %c v".concat(kB," "),"padding: 2px 1px; border-radius: 3px 0 0 3px; color: #fff; background: #606060; font-weight: bold;","padding: 2px 1px; border-radius: 0 3px 3px 0; color: #fff; background: #42c02e; font-weight: bold;")}])}));
//# sourceMappingURL=engine-core.js.map